!function(){"use strict";class t{constructor(t){this.t=0,this.h=0,this.i={},this.seed=t,this.seed.length<8&&(this.seed="padding_"+this.seed),this.seed.length%2==0&&(this.seed="1"+this.seed),this.o=[2972948403,3086140710,2071788248,3026137486,1411764137,2265725585,2923087685,1593177610],this.M=3234042090;for(let t=this.seed.length-1;t>=0;t--){const s=this.seed.charCodeAt(t);this.M=((this.M<<5)+this.M^s^this.M<<s%13+1^this.M>>s%17+1)>>>0,this.o[t%8]^=((this.M>>9)*(this.M%16384+3427)^s)>>>0}}u(){const t=this.seed.charCodeAt(this.t),s=this.o[this.h];return this.M=((this.M<<5)+this.M+s^t^this.M<<t%17+1^this.M>>t%13+1)>>>0,this.o[this.h]=(s>>3^s<<t%19+1^this.M%134217728*3427)>>>0,this.t=(this.t+1)%this.seed.length,this.h=(this.h+1)%8,this.M}l(t){const s=[1160605769,1424711319,876532818,1419174464];let h=1206170165;if(this.i[t])return this.i[t];for(let i=t.length-1;i>=0;i--){const n=t.charCodeAt(i);let e=s[0]^n;e=(e^e<<11)>>>0,e=(e^e>>8)>>>0,s[0]=s[1],s[1]=s[2],s[2]=s[3],s[3]=(s[3]^s[3]>>19^e)>>>0,h=3427*(h^n<<24)^s[3]}for(let t=this.seed.length-1;t>=0;t--){const i=this.seed.charCodeAt(t);let n=s[0]^i;n=(n^n<<11)>>>0,n=(n^n>>8)>>>0,s[0]=s[1],s[1]=s[2],s[2]=s[3],s[3]=(s[3]^s[3]>>19^n)>>>0,h=3427*(h^i<<24)^s[3]}return this.i[t]=h>>>0,this.i[t]}m(t,s){return(4294967296*this.u()+this.u())/0x10000000000000000*(s-t)+t}p(t,s){return Math.floor(this.m(t,s+1))}v(t){return this.m(0,1)<t}g(t,s,h){return(4294967296*this.l(h)+this.l(h+"@"))/0x10000000000000000*(s-t)+t}H(t,s,h){return Math.floor(this.g(t,s+1,h))}k(t,s){return this.g(0,1,s)<t}O(t){return this.v(t)?-1:1}q(t,s){let h=0;for(;this.v(t)&&h<s;)h++;return h}B(t,s,h){let i=0;for(;(4294967296*this.l(h+i)+this.l(h+"@"+i))/0x10000000000000000<t&&i<s;)i++;return i}S(t){let s=0;for(let h=0;h<t.length;h++)s+=t[h];let h=this.m(0,s);for(let s=0;s<t.length;s++)if(h-=t[s],h<0)return s;return 0}D(t,s){let h=0;for(let s=0;s<t.length;s++)h+=t[s];let i=this.g(0,h,s);for(let s=0;s<t.length;s++)if(i-=t[s],i<0)return s;return 0}}function s(t,s,h){return Math.max(s,Math.min(h,t))}function h(t,s){return`rgb(${t.map(t=>t*s*100).join("%,")}%)`}function i(t,s,h){const i=(i,n=(i+6*t)%6)=>h-h*s*Math.max(Math.min(n,4-n,1),0);return[i(5),i(3),i(1)]}function n(s){return new t(s)}function e(n,e,o){return function(n,e,o){const a=function(t){const s=[];return s[0]=.8*t.m(.001,1)*2**t.m(0,8),s[1]=.9*t.m(.01,1)*2**t.m(0,8),s[2]=1*t.m(.001,1)*2**t.m(0,8),s[3]=3*t.m(0,1)*2**t.m(0,8),s[4]=.5*t.m(0,1)*2**t.m(0,8),s[5]=.05*t.m(0,1)*2**t.m(0,8),s[6]=.5*t.m(0,1)*2**t.m(0,8),s}(n),c=[],r=[],M=1+(n.k(.7,"base color +1")?1:0)+n.B(.3,3,"base color count");for(let t=0;t<M;t++){const h="base color"+t;c.push(i(n.g(0,1,h+"hue")**2,s(n.g(-.2,1,h+"saturation"),0,n.g(0,1,h+"saturation bound")**4),s(n.g(.7,1.1,h+"value"),0,1))),r.push(2**n.g(0,6,h+"chances"))}const f=new t(n.seed+e);function u(){let t=c[f.S(r)];return f.v(n.g(0,.5,"base color shift chance")**2)&&(t=[t[0],t[1],t[2]],t[0]=s(t[0]+n.g(0,.6,"base color shift range red")**2*s(f.m(-1,1.2),0,1)*s(f.O(.7)+f.O(.7),-1,1),0,1),t[1]=s(t[1]+n.g(0,.6,"base color shift range green")**2*s(f.m(-1,1.2),0,1)*s(f.O(.7)+f.O(.7),-1,1),0,1),t[2]=s(t[2]+n.g(0,.6,"base color shift range blue")**2*s(f.m(-1,1.2),0,1)*s(f.O(.7)+f.O(.7),-1,1),0,1)),t}o=o||f.m(n.g(2.5,3.5,"size min"),n.g(5,7,"size max"))**3;const l=f.m(n.g(.5,1,"wratio min"),n.g(1,1.3,"wratio max")),d=f.m(n.g(.7,1,"hratio min"),n.g(1.1,1.7,"hratio max")),m=Math.floor(o*l),b=Math.floor(m/2),p=Math.floor(m/6),v=(m-6*p)/2,w=Math.floor(o*d),x=Math.floor(w/2),g=Math.floor(w/6),y=(w-6*g)/2,H=document.createElement("canvas");H.width=m,H.height=w;const k=H.getContext("2d"),O=m*w/20;[function(){const t=Math.ceil(m*n.g(.1,1,"outline0 iw")/5),s=[[[b-t,0],[b+t,w]]],h=2+Math.floor(f.m(.5,1)*n.g(2,8,"outline0 bc")*o**.5);for(let t=1;t<h;t++){const t=s[f.p(0,s.length-1)],h=[t[0][0]+f.m(0,1)*(t[1][0]-t[0][0]),t[0][1]+f.m(0,1)*(t[1][1]-t[0][1])];h[1]<(t[0][1]+t[1][1])/2&&f.v(n.g(.5,1.5,"outline0 frontbias"))&&(h[1]=t[1][1]-(h[1]-t[0][1]));const i=[f.m(0,1)*m,f.m(0,1)*w],e=O/Math.abs((i[0]-h[0])*(i[1]-h[1]));if(e<1&&(i[0]=h[0]+(i[0]-h[0])*e,i[1]=h[1]+(i[1]-h[1])*e),h[0]>i[0]){const t=h[0];h[0]=i[0],i[0]=t}if(h[1]>i[1]){const t=h[1];h[1]=i[1],i[1]=t}s.push([[Math.floor(h[0]),Math.floor(h[1])],[Math.ceil(i[0]),Math.ceil(i[1])]])}k.fillStyle="#fff";for(let t=0;t<s.length;t++){const h=s[t];k.fillRect(h[0][0],h[0][1],h[1][0]-h[0][0],h[1][1]-h[0][1]),k.fillRect(m-h[1][0],h[0][1],h[1][0]-h[0][0],h[1][1]-h[0][1])}},function(){const t=Math.max(2,(O/Math.PI)**.5),s=Math.ceil(m*n.g(.1,1,"outline1 iw")/5),h=[],i=Math.floor(w/(2*s));for(let t=0;t<i;t++)h.push({N:[b,w-s*(2*t+1)],r:s});const e=i+Math.floor(f.m(.5,1)*n.g(10,50,"outline1 cc")*o**.5);for(let s=i;s<e;s++){const s=h[Math.max(f.p(0,h.length-1),f.p(0,h.length-1))];let i=f.m(1,t);const e=f.m(Math.max(0,s.r-i),s.r);let o=f.m(0,2*Math.PI);o>Math.PI&&f.v(n.g(.5,1.5,"outline1 frontbias"))&&(o=f.m(0,Math.PI));let a=[s.N[0]+Math.cos(o)*e,s.N[1]+Math.sin(o)*e];i=Math.min(i,a[0],m-a[0],a[1],w-a[1]),h.push({N:a,r:i})}k.fillStyle="#fff";for(let t=0;t<h.length;t++){const s=h[t];k.beginPath(),k.arc(s.N[0],s.N[1],s.r,0,7),k.fill(),k.beginPath(),k.arc(m-s.N[0],s.N[1],s.r,0,7),k.fill()}},function(){const t=[[b,f.m(0,.05)*w],[b,f.m(.95,1)*w]],s=6/o+n.g(.03,.1,"outline2 basefatness"),h=Math.max(3,Math.ceil(f.m(.05,.1)/s*o**.5));k.lineCap=["round","square"][n.H(0,1,"outline2 linecap")],k.strokeStyle="#fff";for(let i=1;i<h;i++){let h=t[i];h||(h=[f.m(0,1)*m,f.m(0,1)**n.g(.1,1,"outline2 frontbias")*w],t.push(h));const e=1+f.q(n.g(0,1,"outline2 conadjust"),3);for(let i=0;i<e;i++){const i=t[f.p(0,t.length-2)];k.lineWidth=f.m(.7,1)*s*o,k.beginPath(),k.moveTo(i[0],i[1]),k.lineTo(h[0],h[1]),k.stroke(),k.beginPath(),k.moveTo(m-i[0],i[1]),k.lineTo(m-h[0],h[1]),k.stroke()}}}][n.D([1,1,1],"outline type")]();const q=k.getImageData(0,0,m,w);function B(t,s){return q.data[4*(s*m+t)+3]}const S=[];for(let t=0;t<p;t++){S[t]=[];for(let s=0;s<g;s++)S[t][s]={A:t,I:s,x:Math.floor(v+6*(t+.5)),y:Math.floor(y+6*(s+.5))}}const D=[S[Math.floor(p/2)][Math.floor(g/2)]];let N=0;for(;N<D.length;){const t=D[N];if(t.A>0){const s=S[t.A-1][t.I];s.K||(B(s.x,s.y)?(s.K=1,D.push(s)):s.K=2)}if(t.A<p-1){const s=S[t.A+1][t.I];s.K||(B(s.x,s.y)?(s.K=1,D.push(s)):s.K=2)}if(t.I>0){const s=S[t.A][t.I-1];s.K||(B(s.x,s.y)?(s.K=1,D.push(s)):s.K=2)}if(t.I<g-1){const s=S[t.A][t.I+1];s.K||(B(s.x,s.y)?(s.K=1,D.push(s)):s.K=2)}N++}for(let t=0;t<D.length;t++){const s=D[t],h=S[p-1-s.A][s.I];1!=h.K&&(h.K=1,D.push(h))}const A=n.H(1,2,"base component passes"),I=Math.max(1,Math.floor(D.length*n.g(0,1/A,"extra component amount"))),K=A*D.length+I;function C(t,s){const h=Math.floor((t-v)/6),i=Math.floor((s-y)/6);return!(h<0||h>=p||i<0||i>=g)&&1==S[h][i].K}function Q(t){return 1-t[1]/w}function j(t,s){let h=Math.min(1,1-Math.abs(t[0]-b)/b);return s&&(h=Math.min(h,1-Math.abs(t[1]-x)/x)),h}function F(t,s,h,i,e,o,a){const c=(j(s,!0)*(1-1/((m+w)/1e3+1))*n.g(0,1,"master bigness")**.5*(1-z/K))**h;let r=8;if(f.v(n.g(i,e,`com${t} bigchance`)*c)){const h=n.g(o,a,`com${t} bigincchance`);for(;f.v(h*c)&&Math.min(s[0]-r,m-s[0]-r,s[1]-r,w-s[1]-r)>r/2;)r*=1.5}return r}function G(t,s,h){const i=k.createLinearGradient(s[0],s[1],2*t[0]-s[0],2*t[1]-s[1]),n=`rgba(0,0,0,${h})`;return i.addColorStop(0,n),i.addColorStop(.5,"rgba(0,0,0,0)"),i.addColorStop(1,n),i}H.width|=0;const U=[function(t){const i=F(0,t,.3,0,.9,0,.5),n=2*i,e=[Math.ceil(f.m(1,Math.max(2,i/2))),Math.ceil(f.m(1,Math.max(2,i/2)))],o=Math.min(e[0],e[1])*f.m(.1,1.2),a=[e[0]+2*o,e[1]+2*o],c=[Math.ceil(n/a[0]),Math.ceil(n/a[1])],r=[Math.round(c[0]*a[0]/2),Math.round(c[1]*a[1]/2)],M=u();k.fillStyle=`rgba(0,0,0,${f.m(0,.25)})`,k.fillRect(t[0]-r[0]-1,t[1]-r[1]-1,a[0]*c[0]+2,a[1]*c[1]+2),k.fillStyle=h(M,f.m(.4,1)),k.fillRect(t[0]-r[0],t[1]-r[1],a[0]*c[0],a[1]*c[1]),k.fillStyle=h(M,f.m(.4,1));for(let s=0;s<c[0];s++){const h=t[0]+o+s*a[0]-r[0];for(let s=0;s<c[1];s++)k.fillRect(h,t[1]+o+s*a[1]-r[1],e[0],e[1])}f.v(s(i/8*(.6*z/K+.3),0,.98))&&(k.fillStyle=G(t,[t[0]+r[0],t[1]],f.m(0,.9)),k.fillRect(t[0]-r[0],t[1]-r[1],a[0]*c[0],a[1]*c[1]))},function(t){const i=F(1,t,.2,.3,1,0,.6),e=Math.ceil(f.m(.8,2)*i),o=Math.ceil(f.m(.8,2)*i),a=f.p(3,Math.max(4,e)),c=Math.max(1,Math.round(e/a)),r=c*a,M=h(u(),f.m(.5,1)),l=f.m(.3,.9);if(f.v(s(n.g(-.2,1.2,"com1 hchance"),0,1))){const s=[t[0]-Math.floor(r/2),t[1]-Math.floor(o/2)];k.fillStyle=`rgba(0,0,0,${f.m(0,.25)})`,k.fillRect(s[0]-1,s[1]-1,r+2,o+2),k.fillStyle=M,k.fillRect(s[0],s[1],r,o);for(let h=0;h<c;h++)k.fillStyle=G([s[0]+(h+.5)*a,t[1]],[s[0]+h*a,t[1]],l),k.fillRect(s[0]+h*a,s[1],a,o)}else{const s=[t[0]-Math.floor(o/2),t[1]-Math.floor(r/2)];k.fillStyle=`rgba(0,0,0,${f.m(0,.25)})`,k.fillRect(s[0]-1,s[1]-1,o+2,r+2),k.fillStyle=M,k.fillRect(s[0],s[1],o,r);for(let h=0;h<c;h++)k.fillStyle=G([t[0],s[1]+(h+.5)*a],[t[0],s[1]+h*a],l),k.fillRect(s[0],s[1]+h*a,r,a)}},function(t){const i=F(2,t,.05,0,1,0,.9),e=Math.ceil(f.m(.6,1.4)*i),o=Math.ceil(f.m(1,2)*i),a=[Math.ceil(Math.max(e*f.m(.7,1)/2,1)),Math.ceil(Math.max(e*f.m(.8,1)/2,1))],c=[Math.floor(s(e*f.m(.05,.25),1,o)),Math.floor(s(e*f.m(.1,.3),1,o))],r=c[0]+c[1],M=f.v(n.g(0,1,"com2 oddchance")**.5),l=Math.max(Math.floor(o/r),1),d=l*r+(M?c[0]:0),m=u(),b=f.m(.6,1),p=f.m(.6,1),v=[h(m,b),h(m,p)],w=1-f.m(.5,.95),x=[h(m,w*b),h(m,w*p)];if(f.v(n.g(0,1,"com2 verticalchance")**.1)){const s=k.createLinearGradient(t[0]-a[0],t[1],t[0]+a[0],t[1]),h=k.createLinearGradient(t[0]-a[1],t[1],t[0]+a[1],t[1]),i=Math.floor(t[1]-d/2);s.addColorStop(0,x[0]),s.addColorStop(.5,v[0]),s.addColorStop(1,x[0]),h.addColorStop(0,x[1]),h.addColorStop(.5,v[1]),h.addColorStop(1,x[1]);for(let n=0;n<l;n++)k.fillStyle=s,k.fillRect(t[0]-a[0],i+n*r,2*a[0],c[0]),k.fillStyle=h,k.fillRect(t[0]-a[1],i+n*r+c[0],2*a[1],c[1]);M&&(k.fillStyle=s,k.fillRect(t[0]-a[0],i+l*r,2*a[0],c[0]))}else{const s=k.createLinearGradient(t[0],t[1]-a[0],t[0],t[1]+a[0]),h=k.createLinearGradient(t[0],t[1]-a[1],t[0],t[1]+a[1]),i=Math.floor(t[0]-d/2);s.addColorStop(0,x[0]),s.addColorStop(.5,v[0]),s.addColorStop(1,x[0]),h.addColorStop(0,x[1]),h.addColorStop(.5,v[1]),h.addColorStop(1,x[1]);for(let n=0;n<l;n++)k.fillStyle=s,k.fillRect(i+n*r,t[1]-a[0],c[0],2*a[0]),k.fillStyle=h,k.fillRect(i+n*r+c[0],t[1]-a[1],c[1],2*a[1]);M&&(k.fillStyle=s,k.fillRect(i+l*r,t[1]-a[0],c[0],2*a[0]))}},function(t){if(f.v(Q(t)-.3)||C(t[0],t[1]+6*1.2)||C(t[0],t[1]+10.8))for(let s=0;s<100;s++){const s=f.S(a);if(3!=s)return void U[s](t)}const s=F(3,t,.1,.6,1,.3,.8),i=f.m(1,2)*s,e=Math.ceil(f.m(.3,1)*s),o=i*f.m(.25,.6),M=(i+o)/2/2,u=Math.max(1,Math.ceil(e*f.m(.08,.25))),l=u+Math.max(1,Math.ceil(e*f.m(.03,.15))),d=Math.ceil(e/l),m=d*l+u,b=c[n.D(r,"com3 basecolor")],p=n.g(.5,.8,"com3 lightness0 mid"),v=p-n.g(.2,.4,"com3 lightness0 edge"),w=n.g(0,.2,"com3 lightness1 edge"),x=[k.createLinearGradient(t[0]-M,t[1],t[0]+M,t[1]),k.createLinearGradient(t[0]-M,t[1],t[0]+M,t[1])],g=Math.ceil(t[1]-m/2),y=[g+u,g+l];x[0].addColorStop(0,h(b,v)),x[0].addColorStop(.5,h(b,p)),x[0].addColorStop(1,h(b,v)),x[1].addColorStop(0,h(b,w)),x[1].addColorStop(.5,h(b,1)),x[1].addColorStop(1,h(b,w)),k.fillStyle=x[0],k.beginPath(),k.moveTo(t[0]-o/2,g),k.lineTo(t[0]+o/2,g),k.lineTo(t[0]+i/2,g+m),k.lineTo(t[0]-i/2,g+m),k.fill(),k.fillStyle=x[1];for(let s=0;s<d;s++){const h=[s*l+u,(s+1)*l],n=[y[0]+s*l,y[1]+s*l],e=[(o+h[0]/m*(i-o))/2,(o+h[1]/m*(i-o))/2];k.beginPath(),k.moveTo(t[0]-e[0],n[0]),k.lineTo(t[0]+e[0],n[0]),k.lineTo(t[0]+e[1],n[1]),k.lineTo(t[0]-e[1],n[1]),k.fill()}},function(t){const s=j(t,!1),i=f.m(.7,1),e=f.m(0,.2),a=u(),c=h(a,i),r=h(a,e),M=Math.max(3,Math.ceil(o*f.m(.4,1)**2*n.g(.02,.1,"com4 maxwidth"))),l=Math.floor(M/2),d=M%2,m=n.g(0,1,"com4 directionc0")**4,p=.1*n.g(0,1,"com4 directionc1")**4,v=.2*n.g(0,1,"com4 directionc2")**4,x=f.S([m*(2-s),p,v*(1+s)]);let g;if(x)if(x<2){const s=Math.min(Math.max(8,w-t[1]-f.p(0,16)),Math.floor(.6*o*f.m(0,1)**n.g(2,7,"com4 hpower1"))),h=t[0]-l,i=t[1],e=k.createLinearGradient(h,i,t[0]+l+d,i);e.addColorStop(0,r),e.addColorStop(.5,c),e.addColorStop(1,r),k.fillStyle=e,k.fillRect(h,i,M,s),g=[t[0],t[1]+s]}else{const s=k.createLinearGradient(t[0],t[1]-l,t[0],t[1]+l+d);s.addColorStop(0,r),s.addColorStop(.5,c),s.addColorStop(1,r),k.fillStyle=s,k.fillRect(t[0],t[1]-l,Math.ceil(b-t[0])+1,M),g=[b,t[1]]}else{const s=Math.min(Math.max(8,t[1]-f.p(0,16)),Math.floor(.7*o*f.m(0,1)**n.g(2,6,"com4 hpower0"))),h=t[0]-l,i=t[1]-s,e=k.createLinearGradient(h,i,t[0]+l+d,i);e.addColorStop(0,r),e.addColorStop(.5,c),e.addColorStop(1,r),k.fillStyle=e,k.fillRect(h,i,M,s),g=[t[0],t[1]-s]}const y=[.6*n.g(0,1,"com4 covercomc0")**2,.2*n.g(0,1,"com4 covercomc1")**2,n.g(0,1,"com4 covercomc2")**2];if(U[f.S(y)](t),C(g[0],g[1])){const t=[g[0]+Math.round(6*f.m(-1,1)),g[1]+Math.round(6*f.m(-1,1))];U[f.S(y)](C(t[0],t[1])?t:g)}},function(t){const s=F(5,t,.1,0,.9,0,.8),i=f.m(.75,1),e=f.m(0,.25),o=u(),a=h(o,i),c=h(o,e),r=1+f.q(n.g(0,1,"com5 multxc"),Math.floor(1.2*(s/8)**.6)),M=1+f.q(n.g(0,1,"com5 multyc"),Math.floor(1.2*(s/8)**.6)),l=f.m(.5,1)*s/Math.max(r,M),d=l+.5,m=[t[0]-l*r,t[1]-l*M];k.fillStyle=`rgba(0,0,0,${f.m(0,.2)})`;for(let t=0;t<r;t++){const s=m[0]+(2*t+1)*l;for(let t=0;t<M;t++){const h=m[1]+(2*t+1)*l;k.beginPath(),k.arc(s,h,l+1,0,7),k.fill()}}for(let t=0;t<r;t++){const s=m[0]+(2*t+1)*l;for(let t=0;t<M;t++){const h=m[1]+(2*t+1)*l,i=k.createRadialGradient(s,h,l/5,s,h,d);i.addColorStop(0,a),i.addColorStop(1,c),k.fillStyle=i,k.beginPath(),k.arc(s,h,d,0,7),k.fill()}}},function(t){if(Y<=0||f.v(Q(t)))return void U[f.S(a.slice(0,6))](t);const s=F(6,t,.05,0,.9,0,.8),i=Math.ceil(2*s*f.m(.6,1)),e=Math.floor(i/2),o=i%2,c=i*f.m(n.g(0,.8,"com6 h1min")**.5,.9)**n.g(.5,1.5,"com6 h1power"),r=Math.floor(c/2),M=Math.max((c-i)/2,i*(f.m(0,.45)+f.m(0,.45))*(n.k(.8,"com6 backnesstype")?n.g(.2,.9,"com6 backness#pos"):n.g(-.2,-.05,"com6 backness#neg"))),l=Math.ceil(s*f.m(.7,1)*n.g(.1,3.5,"com6 width")**.5),d=Math.floor(l/2),m=l%2,b=[[t[0]-d,t[1]+M-r],[t[0]+d+m,t[1]-e],[t[0]+d+m,t[1]+e+o],[t[0]-d,t[1]+M+r+i%2]],p=u();k.fillStyle=`rgba(0,0,0,${f.m(0,.2)})`,k.beginPath(),k.moveTo(b[0][0]-1,b[0][1]),k.lineTo(b[1][0]-1,b[1][1]),k.lineTo(b[2][0]-1,b[2][1]),k.lineTo(b[3][0]-1,b[3][1]),k.fill(),k.fillStyle=h(p,f.m(.7,1)),k.beginPath(),k.moveTo(b[0][0],b[0][1]),k.lineTo(b[1][0],b[1][1]),k.lineTo(b[2][0],b[2][1]),k.lineTo(b[3][0],b[3][1]),k.fill()}];let L=0,Y=0,$=0,z=0;for(;;){let t;if(Y<A)$<D.length?(t=D[$],$++):(Y++,t=D[0],$=1);else{if(!(L<I))break;t=D[f.p(0,D.length-1)],L++}let s=[t.x,t.y];for(let h=0;h<10;h++){const h=[t.x+f.p(-6,6),t.y+f.p(-6,6)];if(!(h[0]<0||h[0]>m||h[1]<0||h[1]>w)&&B(h[0],h[1])){s=h;break}}Math.abs(s[0]-b)<6&&f.v(n.g(0,1,"com middleness"))&&(s[0]=b),U[f.S(a)](s),z++}return k.clearRect(b+m%2,0,m,w),k.scale(-1,1),k.drawImage(H,-m,0),H}(n,e,o)}function o(t){const s=function(t,s,h,i){const n=Math.floor(t/h),e=Math.floor(s/h),o=[],a=Math.floor(s/(2*e));for(let h=0;h<e;h++){const i=h%2==0?n:n-1,c=Math.floor(h%2==0?t/(2*n):t/n);for(let r=0;r<i;r++)o.push([c+Math.round((r+1*(Math.random()-.5))*t/n),a+Math.round((h+1*(Math.random()-.5))*s/e)])}return o}(t.width,t.height,Math.max(12,Math.floor(Math.min(t.width,t.height)/12))),h=t.getContext("2d"),i=t.width,n=t.height,e=h.getImageData(0,0,i,n),o=s.map(t=>({C:1e9,j:1e9,F:0,G:0,U:t,L:[]}));for(let t=0;t<n;t++)for(let h=0;h<i;h++){const n=4*(t*i+h);if(0===e.data[n+3])continue;let a,c=1e9;for(let i=0;i<s.length;i++){const n=Math.hypot(s[i][0]-h,s[i][1]-t);n<c&&(c=n,a=i)}const r=o[a];h<r.C&&(r.C=h),h>r.F&&(r.F=h),t<r.j&&(r.j=t),t>r.G&&(r.G=t),r.L.push([h,t,e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]])}const a=[];return o.forEach(t=>{if(t.C<1e9){const s=t.F-t.C+1,h=t.G-t.j+1,i=document.createElement("canvas");i.width=s,i.height=h;const n=i.getContext("2d"),e=n.createImageData(s,h);t.L.forEach(h=>{const i=4*((h[1]-t.j)*s+(h[0]-t.C));e.data[i]=h[2],e.data[i+1]=h[3],e.data[i+2]=h[4],e.data[i+3]=h[5]}),n.putImageData(e,0,0),a.push({U:t.U,canvas:i,Y:[t.C,t.j]})}}),a}function a(t,s,h){const i=1.5+1.5*Math.random(),n=t.U[0]-s/2,e=t.U[1]-h/2,o=Math.hypot(n,e),a=o*o,c=o*i;t.$=(c-o)*((a-e*e)/a)**.5*(n>0?1:-1),t.P=(c-o)*((a-n*n)/a)**.5*(e>0?1:-1),t.angle=(720*Math.random()-360)/((Math.random()+2)*t.canvas.width)*10*(Math.PI/180)}function c(t){const s=t.getContext("2d");let h=t.width,i=t.height;const n=s.getImageData(0,0,h,i),e=function(t,s,h){for(let i=0;i<h;i++)for(let h=0;h<s;h++)if(t.data[4*(i*s+h)+3]>0)return i;return-1}(n,h,i),o=function(t,s,h){for(let i=h-1;i>=0;i--)for(let h=0;h<s;h++)if(t.data[4*(i*s+h)+3]>0)return i;return-1}(n,h,i),a=function(t,s,h){for(let i=0;i<s;i++)for(let n=0;n<h;n++)if(t.data[4*(n*s+i)+3]>0)return i;return-1}(n,h,i),c=function(t,s,h){for(let i=s-1;i>=0;i--)for(let n=0;n<h;n++)if(t.data[4*(n*s+i)+3]>0)return i;return-1}(n,h,i);if(e<0)return t.width=0,t.height=0,[0,0];h=1+c-a,i=1+o-e;const r=s.getImageData(a,e,h,i);return t.width=h,t.height=i,s.putImageData(r,0,0),[a,e]}const r=new(window.AudioContext||webkitAudioContext),M=44100,f=(t=1,s=.05,h=220,i=0,n=0,e=.1,o=0,a=1,c=0,f=0,u=0,l=0,d=0,m=0,b=0,p=0,v=0,w=1,x=0,g=0)=>{let y,H,k,O,q=2*Math.PI,B=c*=500*q/M/M,S=h*=(1+2*s*Math.random()-s)*q/M,D=[],N=0,A=0,I=0,K=1,C=0,Q=0,j=0;for(f*=500*q/M**3,b*=q/M,u*=q/M,l*=M,d=d*M|0,H=(i=i*M+9)+(x*=M)+(n*=M)+(e*=M)+(v*=M)|0;I<H;D[I++]=j)++Q%(100*p|0)||(j=o?o>1?o>2?o>3?Math.sin((N%q)**3):Math.max(Math.min(Math.tan(N),1),-1):1-(2*N/q%2+2)%2:1-4*Math.abs(Math.round(N/q)-N/q):Math.sin(N),j=(d?1-g+g*Math.sin(q*I/d):1)*(j>0?1:-1)*Math.abs(j)**a*t*.3*(I<i?I/i:I<i+x?1-(I-i)/x*(1-w):I<i+x+n?w:I<H-v?(H-I-v)/e*w:0),j=v?j/2+(v>I?0:(I<H-v?1:(H-I)/v)*D[I-v|0]/2):j),y=(h+=c+=f)*Math.cos(b*A++),N+=y-y*m*(1-1e9*(Math.sin(I)+1)%2),K&&++K>l&&(h+=u,S+=u,K=0),!d||++C%d||(h=S,c=B,K||=1);return k=r.createBuffer(1,H,M),k.getChannelData(0).set(D),O=r.createBufferSource(),O.buffer=k,O.connect(r.destination),O.start(),O};function u(){f(...[.3,,467,,.06,.14,4,.1,,,,,,.5,303,.4,,.58,.02,.02])}function l(){f(...[,,274,,.03,.67,4,1.11,,,,,.04,.8,,.5,.25,.63,.02])}function d(){f(...[.6,,279,.02,.09,.09,3,1.2,-4.9,-.6,,,,,,,.05,.89,.04,.02])}const m=["#9af","#abf","#ccf","#fef","#fee","#fc9","#fc6"];function b(t){const s=document.createElement("canvas"),{width:h,height:i}=t;s.width=h,s.height=i;const n=t.getContext("2d").getImageData(0,0,h,i),{data:e}=n,{length:o}=e;for(let t=0;t<o;t+=4){const s=e[t+0],h=e[t+1],i=e[t+2];e[t+0]=255-(.393*s+.769*h+.189*i),e[t+1]=255-(.349*s+.686*h+.168*i),e[t+2]=255-(.272*s+.534*h+.131*i)}return s.getContext("2d").putImageData(n,0,0),s}function p(t){const s=document.createElement("canvas");s.width=20,s.height=20;const h=s.getContext("2d");var i=h.createRadialGradient(10,10,0,10,10,10);return i.addColorStop(t,"yellow"),i.addColorStop(1,"red"),h.fillStyle=i,h.beginPath(),h.arc(10,10,10,0,7),h.fill(),s}function v(t){const s=document.createElement("canvas");s.width=t.width,s.height=t.height;const h=s.getContext("2d");return h.scale(1,-1),h.drawImage(t,0,0,t.width,-t.height),s}const w=480,x=700,g=240,y=350;let H,k,O=!1,q=!1,B=-1,S=-1,D=[],N=!1,A=document.getElementById("a");const I=e(n("piBbgDn4CZqlkqiF"),"ie7jMyCFouoUjkVs",60);c(I);const K=o(I),C=I.width,Q=I.height,j=I.getContext("2d").getImageData(0,0,C,Q).data;let F,G,U,L,Y,$=[H,k,C,Q,j];!function(t){const s=document.createElement("canvas");s.width=32,s.height=32;const h=s.getContext("2d");let i,n;t.width>t.height?(i=32,n=32*t.height/t.width):(n=32,i=32*t.width/t.height),h.drawImage(t,0,0,i,n);const e=document.createElement("link");e.setAttribute("rel","icon"),e.setAttribute("href",s.toDataURL()),document.head.appendChild(e)}(I);const z=function(){const t=[I];for(let s=0;s<10;s++){const h=document.createElement("canvas"),i=h.getContext("2d");h.width=2*C,h.height=2*Q;for(let s=0;s<3;s++)for(let h=0;h<3;h++)i.drawImage(t[0],Math.floor(C/2)-t.length-1+h,Math.floor(Q/2)-t.length-1+s);i.globalCompositeOperation="source-in",i.fillStyle=s>5?"cyan":"blue",i.fillRect(0,0,h.width,h.height),i.globalCompositeOperation="source-over",i.drawImage(t[0],Math.floor(C/2)-t.length,Math.floor(Q/2)-t.length),c(h),t.unshift(h)}return t.pop(),t.map(s=>{const h=s.getContext("2d");h.globalCompositeOperation="destination-out",h.globalAlpha=.2;for(let i=5;i<10;i++)h.drawImage(t[i],Math.floor((s.width-t[i].width)/2),Math.floor((s.height-t[i].height)/2))}),t.length=5,t}(),P=[],[T,X]=function(){const t=document.createElement("canvas");t.width=20,t.height=60;const s=t.getContext("2d");return s.fillStyle="yellow",s.beginPath(),s.moveTo(10,60),s.lineTo(20,10),s.arc(10,10,10,0,Math.PI,!0),s.lineTo(10,60),s.fill(),s.strokeStyle="cyan",s.shadowColor="blue",s.globalCompositeOperation="source-atop",s.shadowBlur=4,s.lineWidth=10,s.beginPath(),s.moveTo(10,70),s.lineTo(23,10),s.arc(10,10,13,0,Math.PI,!0),s.lineTo(10,70),s.stroke(),[t,s.getImageData(0,0,t.width,t.height).data]}(),Z=function(){const t=[];for(let s=0;s<9;s++)t.push(p(s/10));for(let s=t.length-2;s>=1;s--)t.push(t[s]);return t}(),E=Z[0].getContext("2d").getImageData(0,0,Z[0].width,Z[0].height).data,[J,V]=function(){const t=document.createElement("canvas");t.width=60,t.height=60;const s=t.getContext("2d");var h=s.createRadialGradient(30,30,0,30,30,30);return h.addColorStop(.6,"navy"),h.addColorStop(1,"blue"),s.fillStyle=h,s.beginPath(),s.arc(30,30,30,0,7),s.fill(),[t,s.getImageData(0,0,t.width,t.height).data]}();let W,R,_,tt=performance.now(),st=0;const ht=JSON.parse(self.localStorage.pnf_highscores||0)||[];let it=-1;const nt=function(){const t=document.createElement("canvas");t.width=100,t.height=100;const s=t.getContext("2d");s.font="bold 20px Helvetica",s.translate(50,50),s.rotate(-Math.PI/2),s.fillStyle="red",s.fillStyle="#fff",s.textAlign="center",s.textBaseline="middle",s.fillText("NEW!",0,0),c(t);const h=document.createElement("canvas");h.width=t.width+10,h.height=t.height+10;const i=h.getContext("2d");return i.fillStyle="red",i.fillRect(0,0,h.width,h.height),i.drawImage(t,5,5),h}();function et(t){R+=t,_=(new Intl.NumberFormat).format(R)}function ot(){const t=Math.max(400,1e3-25*W);St+=qt.p(t,t+400)}let at,ct,rt,Mt;function ft(t){const s=t[0];c(s);const h=s.getContext("2d").getImageData(0,0,s.width,s.height).data,i=b(s),n=o(s);t[1]=h,t[2]=i,t[3]=n}const ut=[["c4pf4K5xHzu4CyZM","Wl9w64KNQvFNbbbU",50,10,.35,0,[]],["VTjHVRDIYTbXk766","a3QM5c7MnbQlWns3",80,30,.27,0,[]],["1fOXvyryYCvwBWPL","I4xttvPYWxB1So2A",230,80,.2,6,[]],["VsM4qdcBSiuCPDGJ","q4D72OvJMb23kSZC",60,20,.4,0,[]],["l4pyu8yF0mt84Q4u","jPU5GcKNpf2JMgoG",100,40,.35,0,[[y]]],["NMp3mtsPHIwzMKYk","dBzvSKo7wpema3S5",220,90,.22,9,[]],["o67yOby6izpasGgo","fyKKupDEId96qQHu",70,20,.5,0,[[y]]],["IU7xqL8UqZIXJQDQ","aVBO8buAfBbQ4DOY",100,40,.35,0,[[y,6]]],["LP6kUeGMn7S5xZzi","p5O7jAQK67mDULTD",230,100,.25,14,[]],["SsSvCKpjLVTGITYH","aOEjI2Owpqpl06ex",65,30,.5,0,[[y]]],["AGUwhB1E94wgKe49","pwUtokX7oS7ZKFK1",110,50,.35,6,[[y,6]]],["qRF6GA3xnzX0lMcH","RIdNudvB6T2ro7C3",240,120,.3,22,[]]];function lt(t,s){const h=t[0]-t[2]/2<s[0]-s[2]/2?[t,s]:[s,t],i=t[1]-t[3]/2<s[1]-s[3]/2?[t,s]:[s,t];if(h[0][0]+h[0][2]/2>h[1][0]-h[1][2]/2&&i[0][1]+i[0][3]/2>i[1][1]-i[1][3]/2){const n=Math.floor(h[1][0]-h[1][2]/2),e=Math.floor(i[1][1]-i[1][3]/2),o=Math.floor(Math.min(h[0][0]+h[0][2]/2,h[1][0]+h[1][2]/2))-n,a=Math.floor(Math.min(i[0][1]+i[0][3]/2,i[1][1]+i[1][3]/2))-e,c=n-Math.floor(t[0]-t[2]/2),r=e-Math.floor(t[1]-t[3]/2),M=n-Math.floor(s[0]-s[2]/2),f=e-Math.floor(s[1]-s[3]/2);for(let h=0;h<a;h++)for(let i=0;i<o;i++)if(t[4][4*((r+h)*t[2]+c+i)+3]>0&&s[4][4*((f+h)*s[2]+M+i)+3]>0)return!0}return!1}function dt(){Y?(Y--,f(...[,,119,,,.44,,.09,5.3,-4.2,,,,.7,-340,.1,.01,.85,.08])):F||(l(),F=!0)}const mt=[["F","orange",t=>{U=t+6500}],["S","cyan",()=>{f(...[,,505,.21,.12,.46,2,1.67,,,58,.02,.28,,,,,.69,.03]),Y++}],["B","red",t=>{l(),L=t+1e3,St+=1500}]];class bt{constructor(t,s,h,i){this.x=t,this.y=s,this.type=h,this.T=i,this.X=0,this.Z=!0}J(t,s,h){if(this.y+=5*(h-this.T)/32,this.X=(this.X+1)%50,!F&&lt($,[this.x,this.y,J.width,J.height,V]))return mt[this.type][2](h),!1;if(this.y-Math.floor(J.height/2)>x)return!1;this.T=h,s.save(),s.translate(this.x,this.y),s.drawImage(J,-Math.floor(J.width/2),-Math.floor(J.height/2)),s.textAlign="center",s.textBaseline="top";let i=65;i+=this.X<25?this.X:50-this.X,s.font="700 "+Math.floor(i/2)+"px Helvetica";const n=s.measureText(mt[this.type][0]),e=n.actualBoundingBoxDescent-n.actualBoundingBoxAscent;return s.fillStyle=mt[this.type][1],s.fillText(mt[this.type][0],0,-Math.floor(e/2)),s.restore(),!0}}class pt{constructor(t,s,h){this.x=t,this.y=s,this.T=h,this.V=10}J(t,s,h){this.y-=20*(h-this.T)/32;const i=[this.x,this.y,T.width,T.height,X];for(let s=0;s<t.length;s++){const n=t[s];if(lt(i,n.W))return n.R(this.V,h),!1}return!(this.y+Math.floor(T.height/2)<0||(this.T=h,s.drawImage(T,this.x-Math.floor(T.width/2),this.y-Math.floor(T.height/2)),0))}}class vt{constructor(t,s,h,i,n){this.time=n,this.U=t.U,this.canvas=t.canvas,this.Y=t.Y,this.$=t.$,this.P=t.P,this.angle=t.angle,this._=s,this.tt=h,this.st=i}J(t,s,h){const i=h-this.time;if(i>this.st)return!1;const n=this._+this.U[0]+this.$*Math.min(i,this.st)/this.st,e=this.tt+this.U[1]+this.P*Math.min(i,this.st)/this.st;return s.save(),s.globalAlpha=1-(Math.min(i,this.st)/this.st)**2,s.translate(n,e),s.rotate(this.angle*Math.min(i,this.st)/this.st),s.drawImage(this.canvas,this.Y[0]-this.U[0],this.Y[1]-this.U[1]),s.restore(),!0}}class wt{constructor(t,s,h,i,n,e){this.width=Z[0].width,this.height=Z[0].height,this.x=t,this.y=s;const o=Math.hypot(h-t,i-s);this.ht=(h-t)/o,this.it=(i-s)/o,this.T=e,this.speed=n,this.X=0,this.Z=!0,this.nt()}J(t,s,h){if(L>h)return!1;const i=h-this.T;return this.y+=i*this.speed*this.it,this.x+=i*this.speed*this.ht,this.nt(),!(lt($,this.W)&&(dt(),!F)||this.y-Math.floor(this.height/2)>x||this.y+Math.floor(this.height/2)<0||this.x-Math.floor(this.width/2)>w||this.x+Math.floor(this.width/2)<0||(this.T=h,this.X=(this.X+1)%Z.length,s.drawImage(Z[this.X],this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),0))}nt(){this.W=[this.x,this.y,this.width,this.height,E]}}function xt(t,s,h,i,n,e){const o=[];for(let a=0;a<t;a++){const c=i+2*a*Math.PI/t;o.push(new wt(s,h,s+Math.round(100*Math.cos(c)),h+Math.round(100*Math.sin(c)),n,e))}return o}class gt{constructor(t,s,h,i,n,e,o,a,c,r,M,f){this.et=qt.m(0,2*Math.PI),this.canvas=t,this.ot=s,this.at=h,this.width=t.width,this.height=t.height,this.ct=a,this.x=n,this.y=e,this.T=f,this.rt=0,this.Mt=i,this.speed=o,this.ft=c,this.ut=r,this.lt=M,this.nt()}J(t,s,h){const i=this.y;let n=!1;if(this.ct<=0||L>h?n=!0:(this.y+=(h-this.T)*this.speed,this.nt(),lt($,this.W)&&(dt(),F||(n=!0))),n)return l(),et(this.ft),(this.ut>0?xt(this.ut,this.x,this.y+Math.round(17*this.speed),this.et,.45,h):[]).concat(this.Mt.map(t=>(a(t,this.width,this.height),new vt(t,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),500,h))));if(this.y-Math.floor(this.height/2)>x)return!1;this.T=h;const e=h-this.rt;let o=0;if(e<400&&(o=(400-e)/400),s.save(),s.drawImage(this.canvas,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),o>0&&(s.globalAlpha=o,s.drawImage(this.at,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height)),s.restore(),!F)for(let t=0;t<this.lt.length;t++){const s=this.lt[t][0];if(i<s&&this.y>s){d();const s=this.lt[t][1],i=this.y+Math.round(17*this.speed);return s?[this,...xt(s,this.x,i,this.et,.3,h)]:[this,new wt(this.x,i,H,k,.3,h)]}}return!0}nt(){this.W=[this.x,this.y,this.width,this.height,this.ot]}R(t,s){this.rt=s,this.ct-=t,this.ct>0&&u()}}class yt{constructor(t,s){this.K=0,this.dt=s+2e3,this.ct=Number.MAX_SAFE_INTEGER,this.T=s,this.width=at.width,this.height=at.height,this.x=g,this.y=-this.height/2,this.direction=0,this.rt=0,this.bt=t,this.nt()}J(t,s,h){let i=!1;if(this.ct<=0)i=!0;else{const t=h-this.T;0===this.K?h>this.dt&&(this.K=1):1===this.K?(this.y+=.15*t,this.y>150&&(this.y=150,this.ct=100+250*this.bt,this.K=2,this.vt=h,this.wt=0)):0===this.direction?(this.x+=.1*t,this.x+Math.floor(this.width/2)>w&&(this.x=w-Math.floor(this.width/2),this.direction=1)):(this.x-=.1*t,this.x-Math.floor(this.width/2)<0&&(this.x=Math.floor(this.width/2),this.direction=0)),this.nt(),lt($,this.W)&&(F=!0)}if(i)return f(...[1.5,,369,,.1,1,2,.05,.4,,,,,.7,-1.3,.8,.37,.77,.04]),et(500*W),It=!1,Dt=h+1e4,St=500+h,ot(),Nt=500+h,Mt.map(t=>(a(t,this.width,this.height),new vt(t,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),500,h)));this.T=h;const n=h-this.rt;let e=0;if(n<400&&(e=(400-n)/400),s.save(),s.drawImage(at,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),e>0&&(s.globalAlpha=e,s.drawImage(rt,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height)),s.restore(),!F&&2===this.K&&this.vt<h){d();const t=[];if(this.wt<5*this.bt){let s,i;switch(Math.floor(this.wt/this.bt)){case 0:s=28,i=119;break;case 1:s=42,i=123;break;case 2:s=108,i=94;break;case 3:s=121,i=80;break;default:s=143,i=50}t.push(new wt(this.x-s,this.y+i,this.x-s,this.y+i+100,.5,h)),t.push(new wt(this.x+s,this.y+i,this.x+s,this.y+i+100,.5,h))}else t.push(new wt(this.x,this.y+125,H,k,.3,h));return this.wt++,this.wt>=10*this.bt?(this.wt=0,this.vt=h+800):this.vt=this.wt>5*this.bt?h+200:this.wt===5*this.bt?h+800:this.wt%this.bt?h+180:h+500,[this,...t]}return!0}nt(){this.W=[this.x,this.y,this.width,this.height,ct]}R(t,s){this.rt=s,this.ct-=t,this.ct>0&&u()}}let Ht,kt,Ot,qt,Bt,St,Dt,Nt,At,It,Kt,Ct=5;function Qt(t){let s,h,i,n;t.preventDefault(),A.offsetWidth/A.offsetHeight>.6857142857142857?(h=0,n=A.offsetHeight,i=n*w/x,s=Math.floor(A.offsetWidth-i)/2):(s=0,i=A.offsetWidth,n=i*x/w,h=Math.floor(A.offsetHeight-n)/2);let e={};e=t.changedTouches?t.changedTouches[0]:t,B=Math.floor((e.pageX-s)*w/i),S=Math.floor((e.pageY-h)*x/n)}self.ontouchstart=self.onpointerdown=t=>{O=!0,Qt(t)},self.ontouchmove=self.onpointermove=Qt,self.ontouchend=self.onpointerup=t=>{t.preventDefault(),O=!1},self.onkeydown=self.onkeyup=t=>{N=D[t.keyCode]=t.type[5]},A.width=w,A.height=x,A.getContext("2d"),requestAnimationFrame(function s(h){(function(s){switch(st){case 0:case 1:!function(s){const h=A.getContext("2d");h.fillStyle="#000",h.fillRect(0,0,w,x);let i=(s-tt)/3e3;h.save();for(let t=200;t--;){h.fillStyle=m[t%m.length];let s=50/(6-(i+t/13)%6);h.globalAlpha=Math.min(s/100,1),h.beginPath(),h.arc(Math.cos(t)*s+g,Math.sin(t*t)*s+y,s/200,0,7),h.fill()}if(h.restore(),h.fillStyle="#fff",h.textBaseline="middle",h.textAlign="center",1===st){if(0===ht.length)h.font="bold 40px Helvetica",h.fillText("PLANET NOT FOUND",g,y);else{h.font="bold 30px Helvetica",h.fillText("HIGH SCORES",g,100),h.save(),h.textAlign="start",h.textBaseline="top";for(let t=0;t<ht.length;t++){t===it?(h.save(),h.translate(90,185+80*t),h.drawImage(nt,-Math.floor(nt.width/2),-Math.floor(nt.height/2)),h.restore(),h.fillStyle="gold"):h.fillStyle="#fff";const s=Intl.NumberFormat().format(ht[t][0]),i=new Date(ht[t][1]).toLocaleString();h.font="50px Helvetica",h.fillText(t+1+"",115,160+80*t),h.font="60px Helvetica",h.fillText("{",145,150+80*t),h.font="25px Helvetica",h.fillText(s+" points",170,160+80*t),h.font="15px Helvetica",h.fillText(i,170,190+80*t)}h.restore()}h.font="20px Helvetica",h.fillText("<Press anywhere or any key to play>",g,670),O||N?q||(st=2,W=0,qt=new t("enemy"),Bt=new t("powerup"),St=1e3,Dt=5e3,Nt=9e3,At=0,Ot=0,Ht=[],kt=[],tt=performance.now(),Kt=performance.now(),R=0,et(0),F=!1,H=g,k=630,U=0,L=0,Y=1,It=!1,it=-1):q=!1}else if(h.font="italic 30px Helvetica",h.fillText("Loading…",g,y),at)if(P.length<ut.length)P.push(function(t,s,h,...i){return[v(e(n(t),s,h)),void 0,void 0,void 0,...i]}(...ut[P.length]));else{let t=!0;for(let s=0;t&&s<P.length;s++)P[s][1]||(t=!1,ft(P[s]));t&&(st=1)}else at=v(e(n("HYj7ADLjQr6icLtO"),"CdiB9N2ZoQWuAxur",270)),c(at),rt=b(at),Mt=o(at),ct=at.getContext("2d").getImageData(0,0,at.width,at.height).data}(s);break;case 2:!function(t){const s=t-Kt;if(Kt=t,s>160)return tt+=s,void(D=[]);if(!F){const t=.6*s,h=D[38]||D[90],i=D[40]||D[83],n=D[37]||D[65],e=D[39]||D[68];if(h||i||n||e){const s=(h||i)&&(n||e)?(t**2/2)**.5:t;h&&(k-=s),i&&(k+=s),n&&(H-=s),e&&(H+=s),B=H,S=k}else{let s=B-H,h=S-k;const i=Math.hypot(s,h);i<t?(H=B,k=S):(H+=s/i*t,k+=h/i*t)}H-Math.floor(C/2)<0?H=Math.floor(C/2):H+Math.floor(C/2)>w&&(H=w-Math.floor(C/2)),k-Math.floor(Q/2)<0?k=Math.floor(Q/2):k+Math.floor(Q/2)>x&&(k=x-Math.floor(Q/2)),$=[H,k,C,Q,j]}const h=A.getContext("2d");let i;h.fillStyle="#000",h.fillRect(0,0,w,x);for(let s=100;s--;h.fillStyle=m[s%m.length],h.beginPath(),h.arc(Math.floor(-60*(100-s)*(H-C/2)/(100*(w-C)))+102797*(1+Math.sin(i))*s%540,x*(Math.tan(s/9)+i*(t-tt)/3e3)%x,3.3*(i-.3),0,7),h.fill())i=150/(3*s+200);const n=F,e=[],o=[],c=[];function r(s){const i=s.J(kt,h,t-tt);"boolean"==typeof i?i&&(s.Z?o.push(s):e.push(s),s.R&&c.push(s)):Array.isArray(i)&&i.forEach(t=>{s===t?i&&(s.Z?o.push(s):e.push(s),s.R&&c.push(s)):r(t)})}if(Ht.forEach(r),!n&&F&&(G=t-tt,K.map(s=>(a(s,C,Q),new vt(s,H-Math.floor(C/2),k-Math.floor(Q/2),1500,t-tt))).forEach(r)),Ht=e.concat(o),kt=c,h.fillStyle="#fff",h.textAlign="center",F)h.save(),h.globalAlpha=Math.min(1,(t-tt-G)/2e3),h.textBaseline="middle",h.font="40px Helvetica",h.fillText("Game Over",g,y),h.restore();else{if(Y){const t=z[Math.max(0,z.length-Y)];h.drawImage(t,H-Math.floor(t.width/2),k-Math.floor(t.height/2))}h.drawImage(I,H-Math.floor(C/2),k-Math.floor(Q/2))}L>t-tt&&(h.save(),h.globalAlpha=(L-t+tt)/1e3,h.fillRect(0,0,w,x),h.restore()),h.textBaseline="top",h.font="16px Helvetica",h.fillText(_,g,5);const M=U>t-tt;if(!F&&Ot+(M?100:200)<t-tt&&(Ct=-Ct,Ht.push(new pt(H+(M?Ct:0),k-Math.floor(Q/2),t-tt)),Ot=Math.max(t-tt),f(...[.04,,292,.02,.01,.08,3,.1,-3.9,,,,,,,,,.74,.04,.43])),Dt<t-tt&&!It&&(W++,W%5?Dt=t-tt+1e4:(It=!0,Ht.push(new yt(Math.floor(W/5),t-tt)))),Nt<t-tt&&!It&&(Ht.push(new bt(Bt.p(30,450),Math.floor(-J.height/2),At,t-tt)),At=(At+1)%mt.length,Nt=t-tt+9e3),St<t-tt&&!It){const s=qt.p(Math.min(Math.max(W-2,0),P.length-3),Math.min(W,P.length-1)),[h,i,n,e,o,a,c,r]=P[s];Ht.push(new gt(h,i,n,e,qt.p(30,450),Math.floor(-h.height/2),a,o,50*(s+1),c,r,t-tt)),ot()}F&&G+3500<t-tt&&(function(){if(R){const t=[R,Date.now()];ht.push(t),ht.sort((t,s)=>{const h=s[0]-t[0];return 0===h?s[1]-t[1]:h}),ht.length=Math.min(ht.length,5),it=ht.indexOf(t),self.localStorage.pnf_highscores=JSON.stringify(ht)}}(),st=1,q=O)}(s)}N=!1})(h),requestAnimationFrame(s)})}();
