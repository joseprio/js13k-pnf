!function(){"use strict";class t{constructor(t){this.t=0,this.h=0,this.i={},this.seed=t,this.seed.length<8&&(this.seed="padding_"+this.seed),this.seed.length%2==0&&(this.seed="1"+this.seed),this.o=[2972948403,3086140710,2071788248,3026137486,1411764137,2265725585,2923087685,1593177610],this.M=3234042090;for(let t=this.seed.length-1;t>=0;t--){const s=this.seed.charCodeAt(t);this.M=((this.M<<5)+this.M^s^this.M<<s%13+1^this.M>>s%17+1)>>>0,this.o[t%8]^=((this.M>>9)*(this.M%16384+3427)^s)>>>0}}u(){const t=this.seed.charCodeAt(this.t),s=this.o[this.h];return this.M=((this.M<<5)+this.M+s^t^this.M<<t%17+1^this.M>>t%13+1)>>>0,this.o[this.h]=(s>>3^s<<t%19+1^this.M%134217728*3427)>>>0,this.t=(this.t+1)%this.seed.length,this.h=(this.h+1)%8,this.M}l(t){const s=[1160605769,1424711319,876532818,1419174464];let h=1206170165;if(null==t&&(t="?/?/?/",h=3379896793),this.i.hasOwnProperty(t))return this.i[t];for(let i=t.length-1;i>=0;i--){const n=t.charCodeAt(i);let e=s[0]^n;e=(e^e<<11)>>>0,e=(e^e>>8)>>>0,s[0]=s[1],s[1]=s[2],s[2]=s[3],s[3]=(s[3]^s[3]>>19^e)>>>0,h=3427*(h^n<<24)^s[3]}for(let t=this.seed.length-1;t>=0;t--){const i=this.seed.charCodeAt(t);let n=s[0]^i;n=(n^n<<11)>>>0,n=(n^n>>8)>>>0,s[0]=s[1],s[1]=s[2],s[2]=s[3],s[3]=(s[3]^s[3]>>19^n)>>>0,h=3427*(h^i<<24)^s[3]}return this.i[t]=h>>>0,this.i[t]}m(t,s){return(4294967296*this.u()+this.u())/0x10000000000000000*(s-t)+t}p(t,s){return Math.floor(this.m(t,s+1))}v(t){return this.m(0,1)<t}g(t,s,h){return(4294967296*this.l(h)+this.l(h+"@"))/0x10000000000000000*(s-t)+t}k(t,s,h){return Math.floor(this.g(t,s+1,h))}H(t,s){return this.g(0,1,s)<t}O(t){return this.v(t)?-1:1}q(t,s){let h=0;for(;this.v(t)&&h<s;)h++;return h}B(t,s,h){let i=0;for(;(4294967296*this.l(h+i)+this.l(h+"@"+i))/0x10000000000000000<t&&i<s;)i++;return i}S(t){let s=0;for(let h=0;h<t.length;h++)s+=t[h];let h=this.m(0,s);for(let s=0;s<t.length;s++)if(h-=t[s],h<0)return s;return 0}D(t,s){let h=0;for(let s=0;s<t.length;s++)h+=t[s];let i=this.g(0,h,s);for(let s=0;s<t.length;s++)if(i-=t[s],i<0)return s;return 0}}function s(t,s,h){return Math.max(s,Math.min(h,t))}function h(t){return Math.floor(255*s(t,0,1)).toString(16).padStart(2,"0")}function i(t){return"#"+h(t[0])+h(t[1])+h(t[2])}function n(t,s){return i([t[0]*s,t[1]*s,t[2]*s])}function e(t){const s=t[1]*t[2],h=t[2]-s,i=(t[0]%1+1)%1*6,n=Math.floor(i),e=s*(1-Math.abs(i%2-1));switch(n){case 0:return[s+h,e+h,h];case 1:return[e+h,s+h,h];case 2:return[h,s+h,e+h];case 3:return[h,e+h,s+h];case 4:return[e+h,h,s+h];default:return[s+h,h,e+h]}}function o(s){return new t(s)}function c(h,o,c){return function(h,o,c){const a=function(t){const s=[];return s[0]=.8*t.m(.001,1)*2**t.m(0,8),s[1]=.9*t.m(.01,1)*2**t.m(0,8),s[2]=1*t.m(.001,1)*2**t.m(0,8),s[3]=3*t.m(0,1)*2**t.m(0,8),s[4]=.5*t.m(0,1)*2**t.m(0,8),s[5]=.05*t.m(0,1)*2**t.m(0,8),s[6]=.5*t.m(0,1)*2**t.m(0,8),s}(h),[r,f]=function(t){const h=[],i=[],n=1+(t.H(.7,"base color +1")?1:0)+t.B(.3,3,"base color count");for(let o=0;o<n;o++){const n="base color"+o;h.push(e([t.g(0,1,n+"hue")**2,s(t.g(-.2,1,n+"saturation"),0,t.g(0,1,n+"saturation bound")**4),s(t.g(.7,1.1,n+"value"),0,1)])),i.push(2**t.g(0,6,n+"chances"))}return[h,i]}(h),M=new t(h.seed+o);function u(){let t=r[M.S(f)];return M.v(h.g(0,.5,"base color shift chance")**2)&&(t=[t[0],t[1],t[2]],t[0]=s(t[0]+h.g(0,.6,"base color shift range red")**2*s(M.m(-1,1.2),0,1)*s(M.O(.7)+M.O(.7),-1,1),0,1),t[1]=s(t[1]+h.g(0,.6,"base color shift range green")**2*s(M.m(-1,1.2),0,1)*s(M.O(.7)+M.O(.7),-1,1),0,1),t[2]=s(t[2]+h.g(0,.6,"base color shift range blue")**2*s(M.m(-1,1.2),0,1)*s(M.O(.7)+M.O(.7),-1,1),0,1)),t}c=null==c?M.m(h.g(2.5,3.5,"size min"),h.g(5,7,"size max"))**3:c;const l=M.m(h.g(.5,1,"wratio min"),h.g(1,1.3,"wratio max")),m=M.m(h.g(.7,1,"hratio min"),h.g(1.1,1.7,"hratio max")),d=Math.floor(c*l)+0,b=Math.floor(d/2),p=Math.floor((d-0)/6),v=(d-6*p)/2,w=Math.floor(c*m)+0,g=Math.floor(w/2),x=Math.floor((w-0)/6),y=(w-6*x)/2,k=document.createElement("canvas");k.width=d,k.height=w;const H=k.getContext("2d");[function(){const t=(d-0)*(w-0)/20,i=Math.ceil((d-0)*h.g(.1,1,"outline0 iw")/5),n=[[[b-i,0],[b+i,w-0]]],e=2+Math.floor(M.m(.5,1)*h.g(2,8,"outline0 bc")*c**.5);for(let i=1;i<e;i++){const i=n[M.p(0,n.length-1)],e=[i[0][0]+M.m(0,1)*(i[1][0]-i[0][0]),i[0][1]+M.m(0,1)*(i[1][1]-i[0][1])];e[1]<(i[0][1]+i[1][1])/2&&M.v(h.g(.5,1.5,"outline0 frontbias"))&&(e[1]=i[1][1]-(e[1]-i[0][1]));const o=[s(M.m(0,1)*d,0,d-0),s(M.m(0,1)*w,0,w-0)],c=t/Math.abs((o[0]-e[0])*(o[1]-e[1]));if(c<1&&(o[0]=e[0]+(o[0]-e[0])*c,o[1]=e[1]+(o[1]-e[1])*c),e[0]>o[0]){const t=e[0];e[0]=o[0],o[0]=t}if(e[1]>o[1]){const t=e[1];e[1]=o[1],o[1]=t}n.push([[Math.floor(e[0]),Math.floor(e[1])],[Math.ceil(o[0]),Math.ceil(o[1])]])}H.fillStyle="#fff";for(let t=0;t<n.length;t++){const s=n[t];H.fillRect(s[0][0],s[0][1],s[1][0]-s[0][0],s[1][1]-s[0][1]),H.fillRect(d-s[1][0],s[0][1],s[1][0]-s[0][0],s[1][1]-s[0][1])}},function(){const t=Math.max(2,((d-0)*(w-0)/20/Math.PI)**.5),s=Math.ceil((d-0)*h.g(.1,1,"outline1 iw")/5),i=[],n=Math.floor((w-0)/(2*s));for(let t=0;t<n;t++)i.push({N:[b,w-(0+s*(2*t+1))],r:s});const e=n+Math.floor(M.m(.5,1)*h.g(10,50,"outline1 cc")*c**.5);for(let s=n;s<e;s++){const s=i[Math.max(M.p(0,i.length-1),M.p(0,i.length-1))];let n=M.m(1,t);const e=M.m(Math.max(0,s.r-n),s.r);let o=M.m(0,2*Math.PI);o>Math.PI&&M.v(h.g(.5,1.5,"outline1 frontbias"))&&(o=M.m(0,Math.PI));let c=[s.N[0]+Math.cos(o)*e,s.N[1]+Math.sin(o)*e];n=Math.min(n,c[0]-0,d-0-c[0],c[1]-0,w-0-c[1]),i.push({N:c,r:n})}H.fillStyle="#fff";for(let t=0;t<i.length;t++){const s=i[t];H.beginPath(),H.arc(s.N[0],s.N[1],s.r,0,2*Math.PI),H.fill(),H.beginPath(),H.arc(d-s.N[0],s.N[1],s.r,0,2*Math.PI),H.fill()}},function(){const t=[d-0,w-0],s=[[b,M.m(0,.05)*t[1]+0],[b,M.m(.95,1)*t[1]+0]],i=6/c+h.g(.03,.1,"outline2 basefatness"),n=Math.max(3,Math.ceil(1/i*M.m(.05,.1)*c**.5));H.lineCap=["round","square"][h.k(0,1,"outline2 linecap")],H.strokeStyle="#fff";for(let e=1;e<n;e++){let n=s[e];null==n&&(n=[M.m(0,1)*t[0]+0,M.m(0,1)**h.g(.1,1,"outline2 frontbias")*t[1]+0],s.push(n));const o=1+M.q(h.g(0,1,"outline2 conadjust"),3);for(let t=0;t<o;t++){const t=s[M.p(0,s.length-2)];H.lineWidth=M.m(.7,1)*i*c,H.beginPath(),H.moveTo(t[0],t[1]),H.lineTo(n[0],n[1]),H.stroke(),H.beginPath(),H.moveTo(d-t[0],t[1]),H.lineTo(d-n[0],n[1]),H.stroke()}}}][h.D([1,1,1],"outline type")]();const O=H.getImageData(0,0,d,w);function q(t,s){return t<0||t>d||s<0||s>w?-1:O.data[4*(s*d+t)+3]}const B=[];for(let t=0;t<p;t++){B[t]=[];for(let s=0;s<x;s++)B[t][s]={I:t,K:s,x:Math.floor(v+6*(t+.5)),y:Math.floor(y+6*(s+.5)),A:0}}const S=[B[Math.floor(p/2)][Math.floor(x/2)]];let D=0;for(;D<S.length;){const t=S[D];if(t.I>0){const s=B[t.I-1][t.K];0==s.A&&(q(s.x,s.y)>0?(s.A=1,S.push(s)):s.A=-1)}if(t.I<p-1){const s=B[t.I+1][t.K];0==s.A&&(q(s.x,s.y)>0?(s.A=1,S.push(s)):s.A=-1)}if(t.K>0){const s=B[t.I][t.K-1];0==s.A&&(q(s.x,s.y)>0?(s.A=1,S.push(s)):s.A=-1)}if(t.K<x-1){const s=B[t.I][t.K+1];0==s.A&&(q(s.x,s.y)>0?(s.A=1,S.push(s)):s.A=-1)}D++}for(let t=0;t<S.length;t++){const s=S[t],h=B[p-1-s.I][s.K];1!=h.A&&(h.A=1,S.push(h))}const N=h.k(1,2,"base component passes"),I=Math.max(1,Math.floor(S.length*h.g(0,1/N,"extra component amount"))),K=N*S.length+I,A=document.createElement("canvas");A.width=d,A.height=w;const Q=A.getContext("2d");function j(t,s){const h=Math.floor((t-v)/6),i=Math.floor((s-y)/6);return h<0||h>=p||i<0||i>=x?0:B[h][i].A}function C(t){return 1-t[1]/w}function F(t,s){let h=Math.min(1,1-Math.abs(t[0]-b)/b);return s&&(h=Math.min(h,1-Math.abs(t[1]-g)/g)),h}function G(t){return F(t,!0)*(1-1/((d+w)/1e3+1))*h.g(0,1,"master bigness")**.5*(1-X/K)}function U(t,s){return[Math.min(t[0]-0,d-0-s[0]),Math.min(t[1]-0,w-0-s[1])]}function L(t,h,i){const n=Q.createLinearGradient(h[0],h[1],2*t[0]-h[0],2*t[1]-h[1]),e=`rgba(0,0,0,${s(i,0,1)})`;return n.addColorStop(0,e),n.addColorStop(.5,"rgba(0,0,0,0)"),n.addColorStop(1,e),n}const Y=[function(t){let i=8;const e=G(t)**.3;if(M.v(h.g(0,.9,"com0 bigchance")*e)){const s=h.g(0,.5,"com0 bigincchance");for(;M.v(s*e);){const s=U([t[0]-i,t[1]-i],[t[0]+i,t[1]+i]);if(!(Math.min(s[0],s[1])>i/2))break;i*=1.5}}const o=2*i,c=[Math.ceil(M.m(1,Math.max(2,i/2))),Math.ceil(M.m(1,Math.max(2,i/2)))],a=Math.min(c[0],c[1])*M.m(.1,1.2),r=[c[0]+2*a,c[1]+2*a],f=[Math.ceil(o/r[0]),Math.ceil(o/r[1])],l=[Math.round(f[0]*r[0]/2),Math.round(f[1]*r[1]/2)],m=u(),d=n(m,M.m(.4,1)),b=n(m,M.m(.4,1));Q.fillStyle="rgba(0,0,0,"+M.m(0,.25)+")",Q.fillRect(t[0]-l[0]-1,t[1]-l[1]-1,r[0]*f[0]+2,r[1]*f[1]+2),Q.fillStyle=b,Q.fillRect(t[0]-l[0],t[1]-l[1],r[0]*f[0],r[1]*f[1]),Q.fillStyle=d;for(let s=0;s<f[0];s++){const h=t[0]+a+s*r[0]-l[0];for(let s=0;s<f[1];s++)Q.fillRect(h,t[1]+a+s*r[1]-l[1],c[0],c[1])}M.v(s(i/8*(.6*X/K+.3),0,.98))&&(Q.fillStyle=L(t,[t[0]+l[0],t[1]],M.m(0,.9)),Q.fillRect(t[0]-l[0],t[1]-l[1],r[0]*f[0],r[1]*f[1]))},function(t){let i=8;const e=G(t)**.2;if(M.v(h.g(.3,1,"com1 bigchance")*e)){const s=h.g(0,.6,"com1 bigincchance");for(;M.v(s*e);){const s=U([t[0]-i,t[1]-i],[t[0]+i,t[1]+i]);if(!(Math.min(s[0],s[1])>i/2))break;i*=1.5}}let o=Math.ceil(M.m(.8,2)*i);const c=Math.ceil(M.m(.8,2)*i),a=M.p(3,Math.max(4,o)),r=Math.max(1,Math.round(o/a));o=r*a;const f=n(u(),M.m(.5,1)),l=M.m(.3,.9);if(M.v(s(h.g(-.2,1.2,"com1 hchance"),0,1))){const s=[t[0]-Math.floor(o/2),t[1]-Math.floor(c/2)];Q.fillStyle="rgba(0,0,0,"+M.m(0,.25)+")",Q.fillRect(s[0]-1,s[1]-1,o+2,c+2),Q.fillStyle=f,Q.fillRect(s[0],s[1],o,c);for(let h=0;h<r;h++)Q.fillStyle=L([s[0]+(h+.5)*a,t[1]],[s[0]+h*a,t[1]],l),Q.fillRect(s[0]+h*a,s[1],a,c)}else{const s=[t[0]-Math.floor(c/2),t[1]-Math.floor(o/2)];Q.fillStyle="rgba(0,0,0,"+M.m(0,.25)+")",Q.fillRect(s[0]-1,s[1]-1,c+2,o+2),Q.fillStyle=f,Q.fillRect(s[0],s[1],c,o);for(let h=0;h<r;h++)Q.fillStyle=L([t[0],s[1]+(h+.5)*a],[t[0],s[1]+h*a],l),Q.fillRect(s[0],s[1]+h*a,o,a)}},function(t){let i=8;const e=G(t)**.05;if(M.v(h.g(0,1,"com2 bigchance")*e)){const s=h.g(0,.9,"com2 bigincchance");for(;M.v(s*e);){const s=U([t[0]-i,t[1]-i],[t[0]+i,t[1]+i]);if(!(Math.min(s[0],s[1])>i/2))break;i*=1.5}}const o=Math.ceil(M.m(.6,1.4)*i),c=Math.ceil(M.m(1,2)*i),a=[Math.ceil(s(o*M.m(.7,1)/2,1,o)),Math.ceil(s(o*M.m(.8,1)/2,1,o))],r=[Math.floor(s(o*M.m(.05,.25),1,c)),Math.floor(s(o*M.m(.1,.3),1,c))],f=r[0]+r[1],l=M.v(h.g(0,1,"com2 oddchance")**.5),m=s(Math.floor(c/f),1,c),d=m*f+(l?r[0]:0),b=u(),p=M.m(.6,1),v=M.m(.6,1),w=[n(b,p),n(b,v)],g=1-M.m(.5,.95),x=[n(b,g*p),n(b,g*v)];if(M.v(h.g(0,1,"com2 verticalchance")**.1)){const s=Q.createLinearGradient(t[0]-a[0],t[1],t[0]+a[0],t[1]),h=Q.createLinearGradient(t[0]-a[1],t[1],t[0]+a[1],t[1]);s.addColorStop(0,x[0]),s.addColorStop(.5,w[0]),s.addColorStop(1,x[0]),h.addColorStop(0,x[1]),h.addColorStop(.5,w[1]),h.addColorStop(1,x[1]);const i=Math.floor(t[1]-d/2);for(let n=0;n<m;n++)Q.fillStyle=s,Q.fillRect(t[0]-a[0],i+n*f,2*a[0],r[0]),Q.fillStyle=h,Q.fillRect(t[0]-a[1],i+n*f+r[0],2*a[1],r[1]);l&&(Q.fillStyle=s,Q.fillRect(t[0]-a[0],i+m*f,2*a[0],r[0]))}else{const s=Q.createLinearGradient(t[0],t[1]-a[0],t[0],t[1]+a[0]),h=Q.createLinearGradient(t[0],t[1]-a[1],t[0],t[1]+a[1]);s.addColorStop(0,x[0]),s.addColorStop(.5,w[0]),s.addColorStop(1,x[0]),h.addColorStop(0,x[1]),h.addColorStop(.5,w[1]),h.addColorStop(1,x[1]);const i=Math.floor(t[0]-d/2);for(let n=0;n<m;n++)Q.fillStyle=s,Q.fillRect(i+n*f,t[1]-a[0],r[0],2*a[0]),Q.fillStyle=h,Q.fillRect(i+n*f+r[0],t[1]-a[1],r[1],2*a[1]);l&&(Q.fillStyle=s,Q.fillRect(i+m*f,t[1]-a[0],r[0],2*a[0]))}},function(t){if(M.v(C(t)-.3)||j(t[0],t[1]+6*1.2)>0||j(t[0],t[1]+10.8)>0)for(let s=0;s<100;s++){const s=M.S(a);if(3!=s)return void Y[s](t)}let s=8;const e=G(t)**.1;if(M.v(h.g(.6,1,"com3 bigchance")*e)){const i=h.g(.3,.8,"com3 bigincchance");for(;M.v(i*e);){const h=U([t[0]-s,t[1]-s],[t[0]+s,t[1]+s]);if(!(Math.min(h[0],h[1])>s/2))break;s*=1.5}}const o=M.m(1,2)*s;let c=Math.ceil(M.m(.3,1)*s);const u=o*M.m(.25,.6),l=(o+u)/2/2,m=[Math.max(1,Math.ceil(c*M.m(.08,.25))),Math.max(1,Math.ceil(c*M.m(.03,.15)))],d=m[0]+m[1],b=Math.ceil(c/d);c=b*d+m[0];const p=r[h.D(f,"com3 basecolor")],v=h.g(.5,.8,"com3 lightness0 mid"),w=v-h.g(.2,.4,"com3 lightness0 edge"),g=h.g(0,.2,"com3 lightness1 edge"),x=[Q.createLinearGradient(t[0]-l,t[1],t[0]+l,t[1]),Q.createLinearGradient(t[0]-l,t[1],t[0]+l,t[1])];x[0].addColorStop(0,n(p,w)),x[0].addColorStop(.5,n(p,v)),x[0].addColorStop(1,n(p,w)),x[1].addColorStop(0,n(p,g)),x[1].addColorStop(.5,i(p)),x[1].addColorStop(1,n(p,g));const y=Math.ceil(t[1]-c/2);Q.fillStyle=x[0],Q.beginPath(),Q.moveTo(t[0]-u/2,y),Q.lineTo(t[0]+u/2,y),Q.lineTo(t[0]+o/2,y+c),Q.lineTo(t[0]-o/2,y+c),Q.fill(),Q.fillStyle=x[1];const k=[y+m[0],y+d];for(let s=0;s<b;s++){const h=[s*d+m[0],(s+1)*d],i=[k[0]+s*d,k[1]+s*d],n=[(u+h[0]/c*(o-u))/2,(u+h[1]/c*(o-u))/2];Q.beginPath(),Q.moveTo(t[0]-n[0],i[0]),Q.lineTo(t[0]+n[0],i[0]),Q.lineTo(t[0]+n[1],i[1]),Q.lineTo(t[0]-n[1],i[1]),Q.fill()}},function(t){const s=F(t,!1),i=M.m(.7,1),e=M.m(0,.2),o=u(),a=n(o,i),r=n(o,e),f=Math.max(3,Math.ceil(c*M.m(.4,1)**2*h.g(.02,.1,"com4 maxwidth"))),l=Math.floor(f/2),m=f%2,d=1*h.g(0,1,"com4 directionc0")**4,p=.1*h.g(0,1,"com4 directionc1")**4,v=.2*h.g(0,1,"com4 directionc2")**4,g=M.S([d*(2-s),p,v*(1+s)]);let x=null;if(g){if(1==g){const s=Math.min(Math.max(8,w-(0+t[1])-M.p(0,16)),Math.floor(.6*c*M.m(0,1)**h.g(2,7,"com4 hpower1"))),i=t[0]-l,n=t[1],e=Q.createLinearGradient(i,n,t[0]+l+m,n);e.addColorStop(0,r),e.addColorStop(.5,a),e.addColorStop(1,r),Q.fillStyle=e,Q.fillRect(i,n,f,s),x=[t[0],t[1]+s]}else if(2==g){const s=Q.createLinearGradient(t[0],t[1]-l,t[0],t[1]+l+m);s.addColorStop(0,r),s.addColorStop(.5,a),s.addColorStop(1,r),Q.fillStyle=s,Q.fillRect(t[0],t[1]-l,Math.ceil(b-t[0])+1,f),x=[b,t[1]]}}else{const s=Math.min(Math.max(8,t[1]-0-M.p(0,16)),Math.floor(.7*c*M.m(0,1)**h.g(2,6,"com4 hpower0"))),i=t[0]-l,n=t[1]-s,e=Q.createLinearGradient(i,n,t[0]+l+m,n);e.addColorStop(0,r),e.addColorStop(.5,a),e.addColorStop(1,r),Q.fillStyle=e,Q.fillRect(i,n,f,s),x=[t[0],t[1]-s]}const y=[.6*h.g(0,1,"com4 covercomc0")**2,.2*h.g(0,1,"com4 covercomc1")**2,h.g(0,1,"com4 covercomc2")**2];if(Y[M.S(y)](t),j(x[0],x[1])>0){const t=[x[0]+Math.round(6*M.m(-1,1)),x[1]+Math.round(6*M.m(-1,1))];j(t[0],t[1])>0?Y[M.S(y)](t):Y[M.S(y)](x)}},function(t){let s=8;const i=G(t)**.1;if(M.v(h.g(0,.9,"com5 bigchance")*i)){const n=h.g(0,.8,"com5 bigincchance");for(;M.v(n*i);){const h=U([t[0]-s,t[1]-s],[t[0]+s,t[1]+s]);if(!(Math.min(h[0],h[1])>s/2))break;s*=1.5}}const e=M.m(.75,1),o=M.m(0,.25),c=u(),a=n(c,e),r=n(c,o),f=1+M.q(h.g(0,1,"com5 multxc"),Math.floor(1.2*(s/8)**.6)),l=1+M.q(h.g(0,1,"com5 multyc"),Math.floor(1.2*(s/8)**.6)),m=M.m(.5,1)*s/Math.max(f,l),d=m+.5,b=m+1,p=m/5,v=[t[0]-m*f,t[1]-m*l];Q.fillStyle="rgba(0,0,0,"+M.m(0,.2)+")";for(let t=0;t<f;t++){const s=v[0]+(2*t+1)*m;for(let t=0;t<l;t++){const h=v[1]+(2*t+1)*m;Q.beginPath(),Q.arc(s,h,b,0,2*Math.PI),Q.fill()}}for(let t=0;t<f;t++){const s=v[0]+(2*t+1)*m;for(let t=0;t<l;t++){const h=v[1]+(2*t+1)*m,i=Q.createRadialGradient(s,h,p,s,h,d);i.addColorStop(0,a),i.addColorStop(1,r),Q.fillStyle=i,Q.beginPath(),Q.arc(s,h,d,0,2*Math.PI),Q.fill()}}},function(t){if(P<=0||M.v(C(t)))return void Y[M.S(a.slice(0,6))](t);let s=8;const i=G(t)**.05;if(M.v(h.g(0,.9,"com6 bigchance")*i)){const n=h.g(0,.8,"com6 bigincchance");for(;M.v(n*i);){const h=U([t[0]-s,t[1]-s],[t[0]+s,t[1]+s]);if(!(Math.min(h[0],h[1])>s/2))break;s*=1.5}}const e=Math.ceil(2*s*M.m(.6,1)),o=Math.floor(e/2),c=e%2,r=e*M.m(h.g(0,.8,"com6 h1min")**.5,.9)**h.g(.5,1.5,"com6 h1power"),f=Math.floor(r/2),l=e%2,m=Math.max(0-(e-r)/2,e*(M.m(0,.45)+M.m(0,.45))*(h.H(.8,"com6 backnesstype")?h.g(.2,.9,"com6 backness#pos"):h.g(-.2,-.05,"com6 backness#neg"))),d=Math.ceil(s*M.m(.7,1)*h.g(.1,3.5,"com6 width")**.5),b=Math.floor(d/2),p=d%2,v=[[t[0]-b,t[1]+m-f],[t[0]+b+p,t[1]-o],[t[0]+b+p,t[1]+o+c],[t[0]-b,t[1]+m+f+l]],w=u();Q.fillStyle="rgba(0,0,0,"+M.m(0,.2)+")",Q.beginPath(),Q.moveTo(v[0][0]-1,v[0][1]),Q.lineTo(v[1][0]-1,v[1][1]),Q.lineTo(v[2][0]-1,v[2][1]),Q.lineTo(v[3][0]-1,v[3][1]),Q.fill(),Q.fillStyle=n(w,M.m(.7,1)),Q.beginPath(),Q.moveTo(v[0][0],v[0][1]),Q.lineTo(v[1][0],v[1][1]),Q.lineTo(v[2][0],v[2][1]),Q.lineTo(v[3][0],v[3][1]),Q.fill()}];let z=0,P=0,T=0,X=0;for(;;){let t;if(P<N)T<S.length?(t=S[T],T++):(P++,t=S[0],T=1);else{if(!(z<I))break;t=S[M.p(0,S.length-1)],z++}let s=[t.x,t.y];for(let h=0;h<10;h++){const h=[t.x+M.p(-6,6),t.y+M.p(-6,6)];if(!(h[0]<0||h[0]>d-0||h[1]<0||h[1]>w-0||q(h[0],h[1])<=0)){s=h;break}}Math.abs(s[0]-b)<6&&M.v(h.g(0,1,"com middleness"))&&(s[0]=b),Y[M.S(a)](s),X++}return Q.clearRect(b+d%2,0,d,w),Q.scale(-1,1),Q.drawImage(A,0-d,0),A}(h,o,c)}function a(t){const s=function(t,s,h,i){const n=Math.floor(t/h),e=Math.floor(s/h),o=[],c=Math.floor(s/(2*e));for(let h=0;h<e;h++){const i=h%2==0?n:n-1,a=Math.floor(h%2==0?t/(2*n):t/n);for(let r=0;r<i;r++)o.push([a+Math.round((r+1*(Math.random()-.5))*t/n),c+Math.round((h+1*(Math.random()-.5))*s/e)])}return o}(t.width,t.height,Math.max(12,Math.floor(Math.min(t.width,t.height)/12))),h=t.getContext("2d"),i=t.width,n=t.height,e=h.getImageData(0,0,i,n),o=s.map(t=>({j:1e9,C:1e9,F:0,G:0,U:t,L:[]}));for(let t=0;t<n;t++)for(let h=0;h<i;h++){const n=4*(t*i+h);if(0===e.data[n+3])continue;let c,a=1e9;for(let i=0;i<s.length;i++){const n=Math.hypot(s[i][0]-h,s[i][1]-t);n<a&&(a=n,c=i)}const r=o[c];h<r.j&&(r.j=h),h>r.F&&(r.F=h),t<r.C&&(r.C=t),t>r.G&&(r.G=t),r.L.push([h,t,e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]])}const c=[];return o.forEach(t=>{if(t.j<1e9){const s=t.F-t.j+1,h=t.G-t.C+1,i=document.createElement("canvas");i.width=s,i.height=h;const n=i.getContext("2d"),e=n.createImageData(s,h);t.L.forEach(h=>{const i=4*((h[1]-t.C)*s+(h[0]-t.j));e.data[i]=h[2],e.data[i+1]=h[3],e.data[i+2]=h[4],e.data[i+3]=h[5]}),n.putImageData(e,0,0),c.push({U:t.U,canvas:i,Y:[t.j,t.C]})}}),c}function r(t,s,h){const i=1.5+1.5*Math.random(),n=t.U[0]-s/2,e=t.U[1]-h/2,o=Math.hypot(n,e),c=o*o,a=o*i;t.P=(a-o)*((c-e*e)/c)**.5*(n>0?1:-1),t.T=(a-o)*((c-n*n)/c)**.5*(e>0?1:-1),t.angle=(720*Math.random()-360)/((Math.random()+2)*t.canvas.width)*10*(Math.PI/180)}function f(t){const s=t.getContext("2d");let h=t.width,i=t.height;const n=s.getImageData(0,0,h,i),e=function(t,s,h){for(let i=0;i<h;i++)for(let h=0;h<s;h++)if(t.data[4*(i*s+h)+3]>0)return i;return-1}(n,h,i),o=function(t,s,h){for(let i=h-1;i>=0;i--)for(let h=0;h<s;h++)if(t.data[4*(i*s+h)+3]>0)return i;return-1}(n,h,i),c=function(t,s,h){for(let i=0;i<s;i++)for(let n=0;n<h;n++)if(t.data[4*(n*s+i)+3]>0)return i;return-1}(n,h,i),a=function(t,s,h){for(let i=s-1;i>=0;i--)for(let n=0;n<h;n++)if(t.data[4*(n*s+i)+3]>0)return i;return-1}(n,h,i);if(e<0)return t.width=0,t.height=0,[0,0];h=1+a-c,i=1+o-e;const r=s.getImageData(c,e,h,i);return t.width=h,t.height=i,s.putImageData(r,0,0),[c,e]}function M(t){const s=document.createElement("canvas"),{width:h,height:i}=t;s.width=h,s.height=i;const n=t.getContext("2d").getImageData(0,0,h,i),{data:e}=n,{length:o}=e;for(let t=0;t<o;t+=4){const s=e[t+0],h=e[t+1],i=e[t+2];e[t+0]=255-(.393*s+.769*h+.189*i),e[t+1]=255-(.349*s+.686*h+.168*i),e[t+2]=255-(.272*s+.534*h+.131*i)}return s.getContext("2d").putImageData(n,0,0),s}function u(t){const s=document.createElement("canvas");s.width=Math.floor(2*N),s.height=Math.floor(2*I);const h=s.getContext("2d"),i=s.width/2-15,n=s.height/2-30;h.setTransform(1.5,0,0,I/N*1.5,0,0);const e=h.createRadialGradient(i,n,10,i,n,30-3*t);return e.addColorStop(0,"transparent"),e.addColorStop(.7,"blue"),e.addColorStop(1,"cyan"),h.fillStyle=e,h.beginPath(),h.arc(i,n,N/2,0,7),h.fill(),f(s),s}function l(t){const s=document.createElement("canvas");s.width=20,s.height=20;const h=s.getContext("2d");var i=h.createRadialGradient(10,10,0,10,10,10);return i.addColorStop(t,"yellow"),i.addColorStop(1,"red"),h.fillStyle=i,h.beginPath(),h.arc(10,10,10,0,7),h.fill(),s}function m(t){const s=document.createElement("canvas");s.width=t.width,s.height=t.height;const h=s.getContext("2d");return h.scale(1,-1),h.drawImage(t,0,0,t.width,-t.height),s}const d=480,b=700,p=240,v=350;let w,g,x=!1,y=!1,k=-1,H=-1,O={},q=!1,B=document.getElementById("a");const S=c(o("piBbgDn4CZqlkqiF"),"ie7jMyCFouoUjkVs",60);f(S);const D=a(S),N=S.width,I=S.height,K=S.getContext("2d").getImageData(0,0,N,I).data;let A,Q,j,C,F,G=[w,g,N,I,K];!function(t){const s=document.createElement("canvas");s.width=32,s.height=32;const h=s.getContext("2d");let i,n;t.width>t.height?(i=32,n=32*t.height/t.width):(n=32,i=32*t.width/t.height),h.drawImage(t,0,0,i,n);const e=document.createElement("link");e.setAttribute("rel","icon"),e.setAttribute("href",s.toDataURL()),document.head.appendChild(e)}(S);const U=function(){const t=[];for(let s=0;s<5;s++)t.push(u(s));return t}(),L=[],[Y,z]=function(){const t=document.createElement("canvas");t.width=20,t.height=60;const s=t.getContext("2d");return s.fillStyle="yellow",s.beginPath(),s.moveTo(10,60),s.lineTo(20,10),s.arc(10,10,10,0,Math.PI,!0),s.lineTo(10,60),s.fill(),s.strokeStyle="cyan",s.shadowColor="blue",s.globalCompositeOperation="source-atop",s.shadowBlur=4,s.lineWidth=10,s.beginPath(),s.moveTo(10,70),s.lineTo(23,10),s.arc(10,10,13,0,Math.PI,!0),s.lineTo(10,70),s.stroke(),[t,s.getImageData(0,0,t.width,t.height).data]}(),P=function(){const t=[];for(let s=0;s<9;s++)t.push(l(s/10));for(let s=t.length-2;s>=1;s--)t.push(t[s]);return t}(),T=P[0].getContext("2d").getImageData(0,0,P[0].width,P[0].height).data,[X,Z]=function(){const t=document.createElement("canvas");t.width=60,t.height=60;const s=t.getContext("2d");var h=s.createRadialGradient(30,30,0,30,30,30);return h.addColorStop(.6,"navy"),h.addColorStop(1,"blue"),s.fillStyle=h,s.beginPath(),s.arc(30,30,30,0,7),s.fill(),[t,s.getImageData(0,0,t.width,t.height).data]}();let E,J,V,W=performance.now(),R=0;const $=JSON.parse(self.localStorage.pnf_highscores||0)||[];let _=-1;const tt=function(){const t=document.createElement("canvas");t.width=100,t.height=100;const s=t.getContext("2d");s.font="bold 20px Helvetica",s.translate(50,50),s.rotate(-Math.PI/2),s.fillStyle="red",s.fillStyle="#fff",s.textAlign="center",s.textBaseline="middle",s.fillText("NEW!",0,0),f(t);const h=document.createElement("canvas");h.width=t.width+10,h.height=t.height+10;const i=h.getContext("2d");return i.fillStyle="red",i.fillRect(0,0,h.width,h.height),i.drawImage(t,5,5),h}();function st(t){J+=t,V=(new Intl.NumberFormat).format(J)}function ht(){const t=Math.max(400,1e3-25*E);kt+=xt.p(t,t+400)}let it,nt,et,ot;function ct(t){const s=t[0];f(s);const h=s.getContext("2d").getImageData(0,0,s.width,s.height).data,i=M(s),n=a(s);t[1]=h,t[2]=i,t[3]=n}const at=[["c4pf4K5xHzu4CyZM","Wl9w64KNQvFNbbbU",50,10,.35,0,[]],["VTjHVRDIYTbXk766","a3QM5c7MnbQlWns3",80,30,.27,0,[]],["1fOXvyryYCvwBWPL","I4xttvPYWxB1So2A",230,80,.2,6,[]],["VsM4qdcBSiuCPDGJ","q4D72OvJMb23kSZC",60,20,.4,0,[]],["l4pyu8yF0mt84Q4u","jPU5GcKNpf2JMgoG",100,40,.35,0,[[v]]],["NMp3mtsPHIwzMKYk","dBzvSKo7wpema3S5",220,90,.22,9,[]],["o67yOby6izpasGgo","fyKKupDEId96qQHu",70,20,.5,0,[[v]]],["IU7xqL8UqZIXJQDQ","aVBO8buAfBbQ4DOY",100,40,.35,0,[[v,6]]],["LP6kUeGMn7S5xZzi","p5O7jAQK67mDULTD",230,100,.25,14,[]],["SsSvCKpjLVTGITYH","aOEjI2Owpqpl06ex",65,30,.5,0,[[v]]],["AGUwhB1E94wgKe49","pwUtokX7oS7ZKFK1",110,50,.35,6,[[v,6]]],["qRF6GA3xnzX0lMcH","RIdNudvB6T2ro7C3",240,120,.3,22,[]]];function rt(t,s){const h=t[0]-t[2]/2<s[0]-s[2]/2?[t,s]:[s,t],i=t[1]-t[3]/2<s[1]-s[3]/2?[t,s]:[s,t];if(h[0][0]+h[0][2]/2>h[1][0]-h[1][2]/2&&i[0][1]+i[0][3]/2>i[1][1]-i[1][3]/2){const n=Math.floor(h[1][0]-h[1][2]/2),e=Math.floor(i[1][1]-i[1][3]/2),o=Math.floor(Math.min(h[0][0]+h[0][2]/2,h[1][0]+h[1][2]/2))-n,c=Math.floor(Math.min(i[0][1]+i[0][3]/2,i[1][1]+i[1][3]/2))-e,a=n-Math.floor(t[0]-t[2]/2),r=e-Math.floor(t[1]-t[3]/2),f=n-Math.floor(s[0]-s[2]/2),M=e-Math.floor(s[1]-s[3]/2);for(let h=0;h<c;h++)for(let i=0;i<o;i++)if(t[4][4*((r+h)*t[2]+a+i)+3]>0&&s[4][4*((M+h)*s[2]+f+i)+3]>0)return!0}return!1}const ft=[["F","orange",t=>{j=t+6500}],["S","cyan",()=>{F++}],["B","red",t=>{C=t+1e3,kt+=1500}]];class Mt{constructor(t,s,h,i){this.x=t,this.y=s,this.type=h,this.X=i,this.Z=0,this.J=!0}V(t,s,h){if(this.y+=5*(h-this.X)/32,this.Z=(this.Z+1)%50,!A&&rt(G,[this.x,this.y,X.width,X.height,Z]))return ft[this.type][2](h),!1;if(this.y-Math.floor(X.height/2)>b)return!1;this.X=h,s.save(),s.translate(this.x,this.y),s.drawImage(X,-Math.floor(X.width/2),-Math.floor(X.height/2)),s.textAlign="center",s.textBaseline="top";let i=65;i+=this.Z<25?this.Z:50-this.Z,s.font="700 "+Math.floor(i/2)+"px Helvetica";const n=s.measureText(ft[this.type][0]),e=n.actualBoundingBoxDescent-n.actualBoundingBoxAscent;return s.fillStyle=ft[this.type][1],s.fillText(ft[this.type][0],0,-Math.floor(e/2)),s.restore(),!0}}class ut{constructor(t,s,h){this.x=t,this.y=s,this.X=h,this.W=10}V(t,s,h){this.y-=20*(h-this.X)/32;const i=[this.x,this.y,Y.width,Y.height,z];for(let s=0;s<t.length;s++){const n=t[s];if(rt(i,n.R))return n.$(this.W,h),!1}return!(this.y+Math.floor(Y.height/2)<0||(this.X=h,s.drawImage(Y,this.x-Math.floor(Y.width/2),this.y-Math.floor(Y.height/2)),0))}}class lt{constructor(t,s,h,i,n){this.time=n,this.U=t.U,this.canvas=t.canvas,this.Y=t.Y,this.P=t.P,this.T=t.T,this.angle=t.angle,this._=s,this.tt=h,this.st=i}V(t,s,h){const i=h-this.time;if(i>this.st)return!1;const n=this._+this.U[0]+this.P*Math.min(i,this.st)/this.st,e=this.tt+this.U[1]+this.T*Math.min(i,this.st)/this.st;return s.save(),s.globalAlpha=1-(Math.min(i,this.st)/this.st)**2,s.translate(n,e),s.rotate(this.angle*Math.min(i,this.st)/this.st),s.drawImage(this.canvas,this.Y[0]-this.U[0],this.Y[1]-this.U[1]),s.restore(),!0}}class mt{constructor(t,s,h,i,n,e){this.width=P[0].width,this.height=P[0].height,this.x=t,this.y=s;const o=Math.hypot(h-t,i-s);this.ht=(h-t)/o,this.it=(i-s)/o,this.X=e,this.speed=n,this.Z=0,this.J=!0,this.nt()}V(t,s,h){if(C>h)return!1;const i=h-this.X;if(this.y+=i*this.speed*this.it,this.x+=i*this.speed*this.ht,this.nt(),rt(G,this.R)){if(F)return F--,!1;A=!0}return!(this.y-Math.floor(this.height/2)>b||this.y+Math.floor(this.height/2)<0||this.x-Math.floor(this.width/2)>d||this.x+Math.floor(this.width/2)<0||(this.X=h,this.Z=(this.Z+1)%P.length,s.drawImage(P[this.Z],this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),0))}nt(){this.R=[this.x,this.y,this.width,this.height,T]}}function dt(t,s,h,i,n,e){const o=[];for(let c=0;c<t;c++){const a=i+2*c*Math.PI/t;o.push(new mt(s,h,s+Math.round(100*Math.cos(a)),h+Math.round(100*Math.sin(a)),n,e))}return o}class bt{constructor(t,s,h,i,n,e,o,c,a,r,f,M){this.et=xt.m(0,2*Math.PI),this.canvas=t,this.ot=s,this.ct=h,this.width=t.width,this.height=t.height,this.at=c,this.x=n,this.y=e,this.X=M,this.rt=0,this.ft=i,this.speed=o,this.Mt=a,this.ut=r,this.lt=f,this.nt()}V(t,s,h){const i=this.y;let n=!1;if(this.at<=0||C>h?n=!0:(this.y+=(h-this.X)*this.speed,this.nt(),rt(G,this.R)&&(F?(F--,n=!0):A=!0)),n)return st(this.Mt),(this.ut>0?dt(this.ut,this.x,this.y+Math.round(17*this.speed),this.et,.45,h):[]).concat(this.ft.map(t=>(r(t,this.width,this.height),new lt(t,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),500,h))));if(this.y-Math.floor(this.height/2)>b)return!1;this.X=h;const e=h-this.rt;let o=0;if(e<400&&(o=(400-e)/400),s.save(),s.drawImage(this.canvas,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),o>0&&(s.globalAlpha=o,s.drawImage(this.ct,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height)),s.restore(),!A)for(let t=0;t<this.lt.length;t++){const s=this.lt[t][0];if(i<s&&this.y>s){const s=this.lt[t][1],i=this.y+Math.round(17*this.speed);return s?[this,...dt(s,this.x,i,this.et,.3,h)]:[this,new mt(this.x,i,w,g,.3,h)]}}return!0}nt(){this.R=[this.x,this.y,this.width,this.height,this.ot]}$(t,s){this.rt=s,this.at-=t}}class pt{constructor(t,s){this.A=0,this.dt=s+2e3,this.at=Number.MAX_SAFE_INTEGER,this.X=s,this.width=it.width,this.height=it.height,this.x=p,this.y=-this.height/2,this.direction=0,this.rt=0,this.bt=t,this.nt()}V(t,s,h){let i=!1;if(this.at<=0)i=!0;else{const t=h-this.X;0===this.A?h>this.dt&&(this.A=1):1===this.A?(this.y+=.15*t,this.y>150&&(this.y=150,this.at=100+250*this.bt,this.A=2,this.vt=h,this.wt=0)):0===this.direction?(this.x+=.1*t,this.x+Math.floor(this.width/2)>d&&(this.x=d-Math.floor(this.width/2),this.direction=1)):(this.x-=.1*t,this.x-Math.floor(this.width/2)<0&&(this.x=Math.floor(this.width/2),this.direction=0)),this.nt(),rt(G,this.R)&&(A=!0)}if(i)return st(500*E),Bt=!1,Ht=h+1e4,kt=500+h,ht(),Ot=500+h,ot.map(t=>(r(t,this.width,this.height),new lt(t,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),500,h)));this.X=h;const n=h-this.rt;let e=0;if(n<400&&(e=(400-n)/400),s.save(),s.drawImage(it,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),e>0&&(s.globalAlpha=e,s.drawImage(et,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height)),s.restore(),!A&&2===this.A&&this.vt<h){const t=[];if(this.wt<5*this.bt){let s,i;switch(Math.floor(this.wt/this.bt)){case 0:s=28,i=119;break;case 1:s=42,i=123;break;case 2:s=108,i=94;break;case 3:s=121,i=80;break;default:s=143,i=50}t.push(new mt(this.x-s,this.y+i,this.x-s,this.y+i+100,.5,h)),t.push(new mt(this.x+s,this.y+i,this.x+s,this.y+i+100,.5,h))}else t.push(new mt(this.x,this.y+125,w,g,.3,h));return this.wt++,this.wt>=10*this.bt?(this.wt=0,this.vt=h+800):this.vt=this.wt>5*this.bt?h+200:this.wt===5*this.bt?h+800:this.wt%this.bt?h+180:h+500,[this,...t]}return!0}nt(){this.R=[this.x,this.y,this.width,this.height,nt]}$(t,s){this.rt=s,this.at-=t}}let vt,wt,gt,xt,yt,kt,Ht,Ot,qt,Bt,St,Dt=5;function Nt(t){let s,h,i,n;t.preventDefault(),B.offsetWidth/B.offsetHeight>.6857142857142857?(h=0,n=B.offsetHeight,i=n*d/b,s=Math.floor(B.offsetWidth-i)/2):(s=0,i=B.offsetWidth,n=i*b/d,h=Math.floor(B.offsetHeight-n)/2);let e={};e=t.changedTouches?t.changedTouches[0]:t,k=Math.floor((e.pageX-s)*d/i),H=Math.floor((e.pageY-h)*b/n)}self.ontouchstart=self.onpointerdown=t=>{x=!0,Nt(t)},self.ontouchmove=self.onpointermove=Nt,self.ontouchend=self.onpointerup=t=>{t.preventDefault(),x=!1},self.onkeydown=t=>{q=!0,O[t.code]=1,t.preventDefault()},self.onkeyup=t=>{O[t.code]=0,t.preventDefault()},B.width=d,B.height=b,B.getContext("2d"),requestAnimationFrame(function s(h){(function(s){switch(R){case 0:case 1:!function(s){const h=B.getContext("2d");h.fillStyle="#000",h.fillRect(0,0,d,b),h.fillStyle="#fff";let i=(s-W)/3e3;h.save();for(let t=200;t--;){let s=50/(6-(i+t/13)%6);h.globalAlpha=Math.min(s/100,1),h.beginPath(),h.arc(Math.cos(t)*s+p,Math.sin(t*t)*s+v,s/200,0,7),h.fill()}if(h.restore(),h.textBaseline="middle",h.textAlign="center",1===R){if(0===$.length)h.font="bold 40px Helvetica",h.fillText("PLANET NOT FOUND",p,v);else{h.font="bold 30px Helvetica",h.fillText("HIGH SCORES",p,100),h.save(),h.textAlign="start",h.textBaseline="top";for(let t=0;t<$.length;t++){t===_?(h.save(),h.translate(90,185+80*t),h.drawImage(tt,-Math.floor(tt.width/2),-Math.floor(tt.height/2)),h.restore(),h.fillStyle="gold"):h.fillStyle="#fff";const s=Intl.NumberFormat().format($[t][0]),i=new Date($[t][1]).toLocaleString();h.font="50px Helvetica",h.fillText(t+1+"",115,160+80*t),h.font="60px Helvetica",h.fillText("{",145,150+80*t),h.font="25px Helvetica",h.fillText(s+" points",170,160+80*t),h.font="15px Helvetica",h.fillText(i,170,190+80*t)}h.restore()}h.font="20px Helvetica",h.fillText("<Press anywhere or any key to play>",p,670),x||q?y||(R=2,E=0,xt=new t("enemy"),yt=new t("powerup"),kt=1e3,Ht=5e3,Ot=9e3,qt=0,gt=0,vt=[],wt=[],W=performance.now(),St=performance.now(),J=0,st(0),A=!1,w=p,g=630,j=0,C=0,F=1,Bt=!1,_=-1):y=!1}else if(h.font="italic 30px Helvetica",h.fillText("Loading…",p,v),it)if(L.length<at.length)L.push(function(t,s,h,...i){return[m(c(o(t),s,h)),void 0,void 0,void 0,...i]}(...at[L.length]));else{let t=!0;for(let s=0;t&&s<L.length;s++)L[s][1]||(t=!1,ct(L[s]));t&&(R=1)}else it=m(c(o("HYj7ADLjQr6icLtO"),"CdiB9N2ZoQWuAxur",270)),f(it),et=M(it),ot=a(it),nt=it.getContext("2d").getImageData(0,0,it.width,it.height).data}(s);break;case 2:!function(t){const s=t-St;if(St=t,s>160)return W+=s,void(O={});if(!A){const t=.6*s,h=O.ArrowUp||O.KeyW,i=O.ArrowDown||O.KeyS,n=O.ArrowLeft||O.KeyA,e=O.ArrowRight||O.KeyD;if(h||i||n||e){const s=(h||i)&&(n||e)?(t**2/2)**.5:t;h&&(g-=s),i&&(g+=s),n&&(w-=s),e&&(w+=s),k=w,H=g}else{let s=k-w,h=H-g;const i=Math.hypot(s,h);i<t?(w=k,g=H):(w+=s/i*t,g+=h/i*t)}w-Math.floor(N/2)<0?w=Math.floor(N/2):w+Math.floor(N/2)>d&&(w=d-Math.floor(N/2)),g-Math.floor(I/2)<0?g=Math.floor(I/2):g+Math.floor(I/2)>b&&(g=b-Math.floor(I/2)),G=[w,g,N,I,K]}const h=B.getContext("2d");let i;h.fillStyle="#000",h.fillRect(0,0,d,b),h.fillStyle="#777";for(let s=100;s--;h.beginPath(),h.arc(Math.floor(-60*(100-s)*(w-N/2)/(100*(d-N)))+102797*(1+Math.sin(i))*s%540,b*(Math.tan(s/9)+i*(t-W)/3e3)%b,2*i,0,7),h.fill())i=149/(3*s+199);const n=A,e=[],o=[],c=[];function a(s){const i=s.V(wt,h,t-W);"boolean"==typeof i?i&&(s.J?o.push(s):e.push(s),s.$&&c.push(s)):Array.isArray(i)&&i.forEach(t=>{s===t?i&&(s.J?o.push(s):e.push(s),s.$&&c.push(s)):a(t)})}if(vt.forEach(a),!n&&A&&(Q=t-W,D.map(s=>(r(s,N,I),new lt(s,w-Math.floor(N/2),g-Math.floor(I/2),1500,t-W))).forEach(a)),vt=e.concat(o),wt=c,h.fillStyle="#fff",h.textAlign="center",A)h.save(),h.globalAlpha=Math.min(1,(t-W-Q)/2e3),h.textBaseline="middle",h.font="40px Helvetica",h.fillText("Game Over",p,v),h.restore();else{if(F){const t=U[Math.min(F-1,U.length-1)];h.drawImage(t,w-Math.floor(t.width/2),g-Math.floor(t.height/2)+5)}h.drawImage(S,w-Math.floor(N/2),g-Math.floor(I/2))}C>t-W&&(h.save(),h.globalAlpha=(C-t+W)/1e3,h.fillStyle="#fff",h.fillRect(0,0,d,b),h.restore()),h.textBaseline="top",h.font="16px Helvetica",h.fillText(V,p,5);const f=j>t-W;if(!A&&gt+(f?100:200)<t-W&&(Dt=-Dt,vt.push(new ut(w+(f?Dt:0),g-Math.floor(I/2),t-W)),gt=Math.max(t-W)),Ht<t-W&&!Bt&&(E++,E%5?Ht=t-W+1e4:(Bt=!0,vt.push(new pt(Math.floor(E/5),t-W)))),Ot<t-W&&!Bt&&(vt.push(new Mt(yt.p(30,450),Math.floor(-X.height/2),qt,t-W)),qt=(qt+1)%ft.length,Ot=t-W+9e3),kt<t-W&&!Bt){const s=xt.p(Math.min(Math.max(E-2,0),L.length-3),Math.min(E,L.length-1)),[h,i,n,e,o,c,a,r]=L[s];vt.push(new bt(h,i,n,e,xt.p(30,450),Math.floor(-h.height/2),c,o,50*(s+1),a,r,t-W)),ht()}A&&Q+3500<t-W&&(function(){if(J){const t=[J,Date.now()];$.push(t),$.sort((t,s)=>{const h=s[0]-t[0];return 0===h?s[1]-t[1]:h}),$.length=Math.min($.length,5),_=$.indexOf(t),self.localStorage.pnf_highscores=JSON.stringify($)}}(),R=1,y=x)}(s)}q=!1})(h),requestAnimationFrame(s)})}();
