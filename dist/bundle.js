!function(){"use strict";class t{constructor(t){this.t=0,this.h=0,this.i={},this.seed=t,this.seed.length<8&&(this.seed="padding_"+this.seed),this.seed.length%2==0&&(this.seed="1"+this.seed),this.o=[2972948403,3086140710,2071788248,3026137486,1411764137,2265725585,2923087685,1593177610],this.M=3234042090;for(var s=this.seed.length-1;s>=0;s--){var h=this.seed.charCodeAt(s);this.M=((this.M<<5)+this.M^h^this.M<<h%13+1^this.M>>h%17+1)>>>0,this.o[s%8]^=((this.M>>9)*(this.M%16384+3427)^h)>>>0}}u(){var t=this.seed.charCodeAt(this.t),s=this.o[this.h];return this.M=((this.M<<5)+this.M+s^t^this.M<<t%17+1^this.M>>t%13+1)>>>0,this.o[this.h]=(s>>3^s<<t%19+1^this.M%134217728*3427)>>>0,this.t=(this.t+1)%this.seed.length,this.h=(this.h+1)%8,this.M}l(t){const s=[1160605769,1424711319,876532818,1419174464];let h=1206170165;if(null==t&&(t="?/?/?/",h=3379896793),this.i.hasOwnProperty(t))return this.i[t];for(var i=t.length-1;i>=0;i--){const n=t.charCodeAt(i);let e=s[0]^n;e=(e^e<<11)>>>0,e=(e^e>>8)>>>0,s[0]=s[1],s[1]=s[2],s[2]=s[3],s[3]=(s[3]^s[3]>>19^e)>>>0,h=3427*(h^n<<24)^s[3]}for(var n=this.seed.length-1;n>=0;n--){const t=this.seed.charCodeAt(n);let i=s[0]^t;i=(i^i<<11)>>>0,i=(i^i>>8)>>>0,s[0]=s[1],s[1]=s[2],s[2]=s[3],s[3]=(s[3]^s[3]>>19^i)>>>0,h=3427*(h^t<<24)^s[3]}return this.i[t]=h>>>0,this.i[t]}m(t,s){return(4294967296*this.u()+this.u())/0x10000000000000000*(s-t)+t}v(t,s){return Math.floor(this.m(t,s+1))}p(t){return this.m(0,1)<t}g(t,s,h){return(4294967296*this.l(h)+this.l(h+"@"))/0x10000000000000000*(s-t)+t}k(t,s,h){return Math.floor(this.g(t,s+1,h))}H(t,s){return this.g(0,1,s)<t}O(t){return this.p(t)?-1:1}q(t,s){for(var h=0;this.p(t)&&h<s;)h++;return h}B(t,s,h){for(var i=0;(4294967296*this.l(h+i)+this.l(h+"@"+i))/0x10000000000000000<t&&i<s;)i++;return i}S(t){let s=0;for(let h=0;h<t.length;h++)s+=t[h];let h=this.m(0,s);for(let s=0;s<t.length;s++)if(h-=t[s],h<0)return s;return 0}D(t,s){let h=0;for(let s=0;s<t.length;s++)h+=t[s];let i=this.g(0,h,s);for(let s=0;s<t.length;s++)if(i-=t[s],i<0)return s;return 0}}function s(t,s,h){return Math.max(s,Math.min(h,t))}function h(t){var h=Math.floor(255*s(t,0,1)).toString(16);return h.length<2&&(h="0"+h),h}function i(t){return"#"+h(t[0])+h(t[1])+h(t[2])}function n(t,s){return i([t[0]*s,t[1]*s,t[2]*s])}function e(t){var s=t[1]*t[2],h=t[2]-s,i=(t[0]%1+1)%1*6,n=Math.floor(i),e=s*(1-Math.abs(i%2-1));switch(n){case 0:return[s+h,e+h,h];case 1:return[e+h,s+h,h];case 2:return[h,s+h,e+h];case 3:return[h,e+h,s+h];case 4:return[e+h,h,s+h];default:return[s+h,h,e+h]}}function o(t,h,i){const[n,e]=h;let o=n[i.r.S(e)];return i.r.p(t.g(0,.5,"base color shift chance")**2)&&(o=[o[0],o[1],o[2]],o[0]=s(o[0]+t.g(0,.6,"base color shift range red")**2*s(i.r.m(-1,1.2),0,1)*s(i.r.O(.7)+i.r.O(.7),-1,1),0,1),o[1]=s(o[1]+t.g(0,.6,"base color shift range green")**2*s(i.r.m(-1,1.2),0,1)*s(i.r.O(.7)+i.r.O(.7),-1,1),0,1),o[2]=s(o[2]+t.g(0,.6,"base color shift range blue")**2*s(i.r.m(-1,1.2),0,1)*s(i.r.O(.7)+i.r.O(.7),-1,1),0,1)),o}function c(t,s){return 1-s[1]/t.N}function a(t,s,h){let i=Math.min(1,1-Math.abs(s[0]-t.I)/t.I);return h&&(i=Math.min(i,1-Math.abs(s[1]-t.K)/t.K)),i}function r(t,s){return a(t,s,!0)*(1-1/((t.w+t.N)/1e3+1))*t.f.g(0,1,"master bigness")**.5*(1-t.A())}function M(t,s){return[Math.min(s[0][0]-0,t.w-0-s[1][0]),Math.min(s[0][1]-0,t.N-0-s[1][1])]}function f(t,h,i,n){const e=t.createLinearGradient(i[0],i[1],2*h[0]-i[0],2*h[1]-i[1]),o=`rgba(0,0,0,${s(n,0,1)})`;return e.addColorStop(0,o),e.addColorStop(.5,"rgba(0,0,0,0)"),e.addColorStop(1,o),e}const u=[function(t,h,i,e,c){let a=8;const u=r(h,i)**.3;if(h.r.p(h.f.g(0,.9,"com0 bigchance")*u)){const t=h.f.g(0,.5,"com0 bigincchance");for(;h.r.p(t*u);){const t=M(h,[[i[0]-a,i[1]-a],[i[0]+a,i[1]+a]]);if(!(Math.min(t[0],t[1])>.5*a))break;a*=1.5}}const l=2*a,d=[Math.ceil(h.r.m(1,Math.max(2,.5*a))),Math.ceil(h.r.m(1,Math.max(2,.5*a)))],m=Math.min(d[0],d[1])*h.r.m(.1,1.2),b=[d[0]+2*m,d[1]+2*m],v=[Math.ceil(l/b[0]),Math.ceil(l/b[1])],p=[Math.round(v[0]*b[0]/2),Math.round(v[1]*b[1]/2)],g=h.A(),w=o(h.f,c,h),x=n(w,h.r.m(.4,1)),y=n(w,h.r.m(.4,1));t.fillStyle="rgba(0,0,0,"+h.r.m(0,.25)+")",t.fillRect(i[0]-p[0]-1,i[1]-p[1]-1,b[0]*v[0]+2,b[1]*v[1]+2),t.fillStyle=y,t.fillRect(i[0]-p[0],i[1]-p[1],b[0]*v[0],b[1]*v[1]),t.fillStyle=x;for(let s=0;s<v[0];s++){const h=i[0]+m+s*b[0]-p[0];for(let s=0;s<v[1];s++)t.fillRect(h,i[1]+m+s*b[1]-p[1],d[0],d[1])}h.r.p(s(a/8*(.6*g+.3),0,.98))&&(t.fillStyle=f(t,i,[i[0]+p[0],i[1]],h.r.m(0,.9)),t.fillRect(i[0]-p[0],i[1]-p[1],b[0]*v[0],b[1]*v[1]))},function(t,h,i,e,c){let a=8;const u=r(h,i)**.2;if(h.r.p(h.f.g(.3,1,"com1 bigchance")*u)){const t=h.f.g(0,.6,"com1 bigincchance");for(;h.r.p(t*u);){const t=M(h,[[i[0]-a,i[1]-a],[i[0]+a,i[1]+a]]);if(!(Math.min(t[0],t[1])>a/2))break;a*=1.5}}let l=Math.ceil(h.r.m(.8,2)*a);const d=Math.ceil(h.r.m(.8,2)*a),m=h.r.v(3,Math.max(4,l)),b=Math.max(1,Math.round(l/m));l=b*m;const v=n(o(h.f,c,h),h.r.m(.5,1)),p=h.r.m(.3,.9);if(h.r.p(s(h.f.g(-.2,1.2,"com1 hchance"),0,1))){const s=[i[0]-Math.floor(l/2),i[1]-Math.floor(d/2)];t.fillStyle="rgba(0,0,0,"+h.r.m(0,.25)+")",t.fillRect(s[0]-1,s[1]-1,l+2,d+2),t.fillStyle=v,t.fillRect(s[0],s[1],l,d);for(let h=0;h<b;h++)t.fillStyle=f(t,[s[0]+(h+.5)*m,i[1]],[s[0]+h*m,i[1]],p),t.fillRect(s[0]+h*m,s[1],m,d)}else{const s=[i[0]-Math.floor(d/2),i[1]-Math.floor(l/2)];t.fillStyle="rgba(0,0,0,"+h.r.m(0,.25)+")",t.fillRect(s[0]-1,s[1]-1,d+2,l+2),t.fillStyle=v,t.fillRect(s[0],s[1],d,l);for(let h=0;h<b;h++)t.fillStyle=f(t,[i[0],s[1]+(h+.5)*m],[i[0],s[1]+h*m],p),t.fillRect(s[0],s[1]+h*m,l,m)}},function(t,h,i,e,c){let a=8;const f=r(h,i)**.05;if(h.r.p(h.f.g(0,1,"com2 bigchance")*f)){const t=h.f.g(0,.9,"com2 bigincchance");for(;h.r.p(t*f);){const t=M(h,[[i[0]-a,i[1]-a],[i[0]+a,i[1]+a]]);if(!(Math.min(t[0],t[1])>.5*a))break;a*=1.5}}const u=Math.ceil(h.r.m(.6,1.4)*a),l=Math.ceil(h.r.m(1,2)*a),d=[Math.ceil(s(u*h.r.m(.7,1)/2,1,u)),Math.ceil(s(u*h.r.m(.8,1)/2,1,u))],m=[Math.floor(s(u*h.r.m(.05,.25),1,l)),Math.floor(s(u*h.r.m(.1,.3),1,l))],b=m[0]+m[1],v=h.r.p(h.f.g(0,1,"com2 oddchance")**.5),p=s(Math.floor(l/b),1,l),g=p*b+(v?m[0]:0),w=o(h.f,c,h),x=h.r.m(.6,1),y=h.r.m(.6,1),k=[n(w,x),n(w,y)],H=1-h.r.m(.5,.95),O=[n(w,H*x),n(w,H*y)];if(h.r.p(h.f.g(0,1,"com2 verticalchance")**.1)){const s=t.createLinearGradient(i[0]-d[0],i[1],i[0]+d[0],i[1]),h=t.createLinearGradient(i[0]-d[1],i[1],i[0]+d[1],i[1]);s.addColorStop(0,O[0]),s.addColorStop(.5,k[0]),s.addColorStop(1,O[0]),h.addColorStop(0,O[1]),h.addColorStop(.5,k[1]),h.addColorStop(1,O[1]);const n=Math.floor(i[1]-g/2);for(let e=0;e<p;e++)t.fillStyle=s,t.fillRect(i[0]-d[0],n+e*b,2*d[0],m[0]),t.fillStyle=h,t.fillRect(i[0]-d[1],n+e*b+m[0],2*d[1],m[1]);v&&(t.fillStyle=s,t.fillRect(i[0]-d[0],n+p*b,2*d[0],m[0]))}else{const s=t.createLinearGradient(i[0],i[1]-d[0],i[0],i[1]+d[0]),h=t.createLinearGradient(i[0],i[1]-d[1],i[0],i[1]+d[1]);s.addColorStop(0,O[0]),s.addColorStop(.5,k[0]),s.addColorStop(1,O[0]),h.addColorStop(0,O[1]),h.addColorStop(.5,k[1]),h.addColorStop(1,O[1]);const n=Math.floor(i[0]-g/2);for(let e=0;e<p;e++)t.fillStyle=s,t.fillRect(n+e*b,i[1]-d[0],m[0],2*d[0]),t.fillStyle=h,t.fillRect(n+e*b+m[0],i[1]-d[1],m[1],2*d[1]);v&&(t.fillStyle=s,t.fillRect(n+p*b,i[1]-d[0],m[0],2*d[0]))}},function(t,s,h,e,o,a){if(s.r.p(c(s,h)-.3)||s.C(h[0],h[1]+6*1.2)>0||s.C(h[0],h[1]+10.8)>0)for(let i=0;i<100;i++){const i=s.r.S(e);if(3!=i)return void u[i](t,s,h,e,o,a)}let f=8;const l=r(s,h)**.1;if(s.r.p(s.f.g(.6,1,"com3 bigchance")*l)){const t=s.f.g(.3,.8,"com3 bigincchance");for(;s.r.p(t*l);){const t=M(s,[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]);if(!(Math.min(t[0],t[1])>.5*f))break;f*=1.5}}const d=s.r.m(1,2)*f;let m=Math.ceil(s.r.m(.3,1)*f);const b=d*s.r.m(.25,.6),v=(d+b)/2/2,p=[Math.max(1,Math.ceil(m*s.r.m(.08,.25))),Math.max(1,Math.ceil(m*s.r.m(.03,.15)))],g=p[0]+p[1],w=Math.ceil(m/g);m=w*g+p[0];const[x,y]=o,k=x[s.f.D(y,"com3 basecolor")],H=s.f.g(.5,.8,"com3 lightness0 mid"),O=H-s.f.g(.2,.4,"com3 lightness0 edge"),q=s.f.g(0,.2,"com3 lightness1 edge"),B=[t.createLinearGradient(h[0]-v,h[1],h[0]+v,h[1]),t.createLinearGradient(h[0]-v,h[1],h[0]+v,h[1])];B[0].addColorStop(0,n(k,O)),B[0].addColorStop(.5,n(k,H)),B[0].addColorStop(1,n(k,O)),B[1].addColorStop(0,n(k,q)),B[1].addColorStop(.5,i(k)),B[1].addColorStop(1,n(k,q));const S=Math.ceil(h[1]-m/2);t.fillStyle=B[0],t.beginPath(),t.moveTo(h[0]-b/2,S),t.lineTo(h[0]+b/2,S),t.lineTo(h[0]+d/2,S+m),t.lineTo(h[0]-d/2,S+m),t.fill(),t.fillStyle=B[1];const D=[S+p[0],S+g];for(let s=0;s<w;s++){const i=[s*g+p[0],(s+1)*g],n=[D[0]+s*g,D[1]+s*g],e=[(b+i[0]/m*(d-b))/2,(b+i[1]/m*(d-b))/2];t.beginPath(),t.moveTo(h[0]-e[0],n[0]),t.lineTo(h[0]+e[0],n[0]),t.lineTo(h[0]+e[1],n[1]),t.lineTo(h[0]-e[1],n[1]),t.fill()}},function(t,s,h,i,e,c){const r=a(s,h,!1),M=s.r.m(.7,1),f=s.r.m(0,.2),l=o(s.f,e,s),d=n(l,M),m=n(l,f),b=Math.max(3,Math.ceil(s.size*s.r.m(.4,1)**2*s.f.g(.02,.1,"com4 maxwidth"))),v=Math.floor(b/2),p=b%2,g=1*s.f.g(0,1,"com4 directionc0")**4,w=.1*s.f.g(0,1,"com4 directionc1")**4,x=.2*s.f.g(0,1,"com4 directionc2")**4,y=s.r.S([g*(2-r),w,x*(1+r)]);let k=null;if(y){if(1==y){const i=Math.min(Math.max(8,s.N-(0+h[1])-s.r.v(0,16)),Math.floor(.6*s.size*s.r.m(0,1)**s.f.g(2,7,"com4 hpower1"))),n=h[0]-v,e=h[1],o=t.createLinearGradient(n,e,h[0]+v+p,e);o.addColorStop(0,m),o.addColorStop(.5,d),o.addColorStop(1,m),t.fillStyle=o,t.fillRect(n,e,b,i),k=[h[0],h[1]+i]}else if(2==y){const i=t.createLinearGradient(h[0],h[1]-v,h[0],h[1]+v+p);i.addColorStop(0,m),i.addColorStop(.5,d),i.addColorStop(1,m),t.fillStyle=i,t.fillRect(h[0],h[1]-v,Math.ceil(s.I-h[0])+1,b),k=[s.I,h[1]]}}else{const i=Math.min(Math.max(8,h[1]-0-s.r.v(0,16)),Math.floor(.7*s.size*s.r.m(0,1)**s.f.g(2,6,"com4 hpower0"))),n=h[0]-v,e=h[1]-i,o=t.createLinearGradient(n,e,h[0]+v+p,e);o.addColorStop(0,m),o.addColorStop(.5,d),o.addColorStop(1,m),t.fillStyle=o,t.fillRect(n,e,b,i),k=[h[0],h[1]-i]}const H=[.6*s.f.g(0,1,"com4 covercomc0")**2,.2*s.f.g(0,1,"com4 covercomc1")**2,s.f.g(0,1,"com4 covercomc2")**2];if(u[s.r.S(H)](t,s,h,i,e,c),s.C(k[0],k[1])>0){const h=[k[0]+Math.round(6*s.r.m(-1,1)),k[1]+Math.round(6*s.r.m(-1,1))];s.C(h[0],h[1])>0?u[s.r.S(H)](t,s,h,i,e,c):u[s.r.S(H)](t,s,k,i,e,c)}},function(t,s,h,i,e){let c=8;const a=r(s,h)**.1;if(s.r.p(s.f.g(0,.9,"com5 bigchance")*a)){const t=s.f.g(0,.8,"com5 bigincchance");for(;s.r.p(t*a);){const t=M(s,[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]);if(!(Math.min(t[0],t[1])>.5*c))break;c*=1.5}}const f=s.r.m(.75,1),u=s.r.m(0,.25),l=o(s.f,e,s),d=n(l,f),m=n(l,u),b=1+s.r.q(s.f.g(0,1,"com5 multxc"),Math.floor(1.2*(c/8)**.6)),v=1+s.r.q(s.f.g(0,1,"com5 multyc"),Math.floor(1.2*(c/8)**.6)),p=s.r.m(.5,1)*c/Math.max(b,v),g=p+.5,w=p+1,x=.2*p,y=[h[0]-p*b,h[1]-p*v];t.fillStyle="rgba(0,0,0,"+s.r.m(0,.2)+")";for(let s=0;s<b;s++){const h=y[0]+(2*s+1)*p;for(let s=0;s<v;s++){const i=y[1]+(2*s+1)*p;t.beginPath(),t.arc(h,i,w,0,2*Math.PI),t.fill()}}for(let s=0;s<b;s++){const h=y[0]+(2*s+1)*p;for(let s=0;s<v;s++){const i=y[1]+(2*s+1)*p,n=t.createRadialGradient(h,i,x,h,i,g);n.addColorStop(0,d),n.addColorStop(1,m),t.fillStyle=n,t.beginPath(),t.arc(h,i,g,0,2*Math.PI),t.fill()}}},function(t,s,h,i,e,a){if(a<=0||s.r.p(c(s,h)))return void u[s.r.S(i.slice(0,6))](t,s,h,i,e,a);let f=8;const l=r(s,h)**.05;if(s.r.p(s.f.g(0,.9,"com6 bigchance")*l)){const t=s.f.g(0,.8,"com6 bigincchance");for(;s.r.p(t*l);){const t=M(s,[[h[0]-f,h[1]-f],[h[0]+f,h[1]+f]]);if(!(Math.min(t[0],t[1])>.5*f))break;f*=1.5}}const d=Math.ceil(2*f*s.r.m(.6,1)),m=Math.floor(d/2),b=d%2,v=d*s.r.m(s.f.g(0,.8,"com6 h1min")**.5,.9)**s.f.g(.5,1.5,"com6 h1power"),p=Math.floor(v/2),g=d%2,w=Math.max(0-(d-v)/2,d*(s.r.m(0,.45)+s.r.m(0,.45))*(s.f.H(.8,"com6 backnesstype")?s.f.g(.2,.9,"com6 backness#pos"):s.f.g(-.2,-.05,"com6 backness#neg"))),x=Math.ceil(f*s.r.m(.7,1)*s.f.g(.1,3.5,"com6 width")**.5),y=Math.floor(x/2),k=x%2,H=[[h[0]-y,h[1]+w-p],[h[0]+y+k,h[1]-m],[h[0]+y+k,h[1]+m+b],[h[0]-y,h[1]+w+p+g]],O=o(s.f,e,s);t.fillStyle="rgba(0,0,0,"+s.r.m(0,.2)+")",t.beginPath(),t.moveTo(H[0][0]-1,H[0][1]),t.lineTo(H[1][0]-1,H[1][1]),t.lineTo(H[2][0]-1,H[2][1]),t.lineTo(H[3][0]-1,H[3][1]),t.fill(),t.fillStyle=n(O,s.r.m(.7,1)),t.beginPath(),t.moveTo(H[0][0],H[0][1]),t.lineTo(H[1][0],H[1][1]),t.lineTo(H[2][0],H[2][1]),t.lineTo(H[3][0],H[3][1]),t.fill()}],l=[function(t,h){const i=(t.w-0)*(t.N-0)*.05,n=Math.ceil((t.w-0)*t.f.g(.1,1,"outline0 iw")*.2),e=[[[t.I-n,0],[t.I+n,t.N-0]]],o=2+Math.floor(t.r.m(.5,1)*t.f.g(2,8,"outline0 bc")*Math.sqrt(t.size));for(let h=1;h<o;h++){const h=e[t.r.v(0,e.length-1)],n=[h[0][0]+t.r.m(0,1)*(h[1][0]-h[0][0]),h[0][1]+t.r.m(0,1)*(h[1][1]-h[0][1])];n[1]<.5*(h[0][1]+h[1][1])&&t.r.p(t.f.g(.5,1.5,"outline0 frontbias"))&&(n[1]=h[1][1]-(n[1]-h[0][1]));const o=[s(t.r.m(0,1)*t.w,0,t.w-0),s(t.r.m(0,1)*t.N,0,t.N-0)],c=i/Math.abs((o[0]-n[0])*(o[1]-n[1]));if(c<1&&(o[0]=n[0]+(o[0]-n[0])*c,o[1]=n[1]+(o[1]-n[1])*c),n[0]>o[0]){const t=n[0];n[0]=o[0],o[0]=t}if(n[1]>o[1]){const t=n[1];n[1]=o[1],o[1]=t}e.push([[Math.floor(n[0]),Math.floor(n[1])],[Math.ceil(o[0]),Math.ceil(o[1])]])}h.fillStyle="#fff";for(let s=0;s<e.length;s++){const i=e[s];h.fillRect(i[0][0],i[0][1],i[1][0]-i[0][0],i[1][1]-i[0][1]),h.fillRect(t.w-i[1][0],i[0][1],i[1][0]-i[0][0],i[1][1]-i[0][1])}},function(t,s){const h=Math.max(2,Math.sqrt((t.w-0)*(t.N-0)*.05/Math.PI)),i=Math.ceil((t.w-0)*t.f.g(.1,1,"outline1 iw")*.2),n=[],e=Math.floor((t.N-0)/(2*i));for(let s=0;s<e;s++)n.push({j:[t.I,t.N-(0+i*(2*s+1))],r:i});const o=e+Math.floor(t.r.m(.5,1)*t.f.g(10,50,"outline1 cc")*Math.sqrt(t.size));for(let s=e;s<o;s++){const s=n[Math.max(t.r.v(0,n.length-1),t.r.v(0,n.length-1))];let i=t.r.m(1,h);const e=t.r.m(Math.max(0,s.r-i),s.r);let o=t.r.m(0,2*Math.PI);o>Math.PI&&t.r.p(t.f.g(.5,1.5,"outline1 frontbias"))&&(o=t.r.m(0,Math.PI));let c=[s.j[0]+Math.cos(o)*e,s.j[1]+Math.sin(o)*e];i=Math.min(i,c[0]-0),i=Math.min(i,t.w-0-c[0]),i=Math.min(i,c[1]-0),i=Math.min(i,t.N-0-c[1]),n.push({j:c,r:i})}s.fillStyle="#fff";for(let h=0;h<n.length;h++){const i=n[h];s.beginPath(),s.arc(i.j[0],i.j[1],i.r,0,2*Math.PI),s.fill(),s.beginPath(),s.arc(t.w-i.j[0],i.j[1],i.r,0,2*Math.PI),s.fill()}},function(t,s){const h=[t.w-0,t.N-0],i=[[t.I,t.r.m(0,.05)*h[1]+0],[t.I,t.r.m(.95,1)*h[1]+0]],n=6/t.size+t.f.g(.03,.1,"outline2 basefatness"),e=Math.max(3,Math.ceil(1/n*t.r.m(.05,.1)*Math.sqrt(t.size)));s.lineCap=["round","square"][t.f.k(0,1,"outline2 linecap")],s.strokeStyle="#fff";for(let o=1;o<e;o++){let e=i[o];null==e&&(e=[t.r.m(0,1)*h[0]+0,t.r.m(0,1)**t.f.g(.1,1,"outline2 frontbias")*h[1]+0],i.push(e));const c=1+t.r.q(t.f.g(0,1,"outline2 conadjust"),3);for(let h=0;h<c;h++){const h=i[t.r.v(0,i.length-2)];s.lineWidth=t.r.m(.7,1)*n*t.size,s.beginPath(),s.moveTo(h[0],h[1]),s.lineTo(e[0],e[1]),s.stroke(),s.beginPath(),s.moveTo(t.w-h[0],h[1]),s.lineTo(t.w-e[0],e[1]),s.stroke()}}}];class d{constructor(h,i,n){this.F=0,this.f=h;const o=function(t){const s=[];return s[0]=.8*t.m(.001,1)*2**t.m(0,8),s[1]=.9*t.m(.01,1)*2**t.m(0,8),s[2]=1*t.m(.001,1)*2**t.m(0,8),s[3]=3*t.m(0,1)*2**t.m(0,8),s[4]=.5*t.m(0,1)*2**t.m(0,8),s[5]=.05*t.m(0,1)*2**t.m(0,8),s[6]=.5*t.m(0,1)*2**t.m(0,8),s}(h),c=function(t){const h=[],i=[],n=1+(t.H(.7,"base color +1")?1:0)+t.B(.3,3,"base color count");for(let o=0;o<n;o++){const n="base color"+o;h.push(e([t.g(0,1,n+"hue")**2,s(t.g(-.2,1,n+"saturation"),0,t.g(0,1,n+"saturation bound")**4),s(t.g(.7,1.1,n+"value"),0,1)])),i.push(2**t.g(0,6,n+"chances"))}return[h,i]}(h);this.r=new t(h.seed+i),this.size=null==n?this.r.m(this.f.g(2.5,3.5,"size min"),this.f.g(5,7,"size max"))**3:n;const a=this.r.m(this.f.g(.5,1,"wratio min"),this.f.g(1,1.3,"wratio max")),r=this.r.m(this.f.g(.7,1,"hratio min"),this.f.g(1.1,1.7,"hratio max"));this.w=Math.floor(this.size*a)+0,this.I=Math.floor(this.w/2),this.G=Math.floor((this.w-0)/6),this.U=.5*(this.w-6*this.G),this.N=Math.floor(this.size*r)+0,this.K=Math.floor(this.N/2),this.L=Math.floor((this.N-0)/6),this.P=.5*(this.N-6*this.L);const M=document.createElement("canvas");M.width=this.w,M.height=this.N;const f=M.getContext("2d");l[this.f.D([1,1,1],"outline type")](this,f);const d=f.getImageData(0,0,this.w,this.N);this.Y=[];for(let t=0;t<this.G;t++){this.Y[t]=[];for(let s=0;s<this.L;s++)this.Y[t][s]={T:t,X:s,x:Math.floor(this.U+6*(t+.5)),y:Math.floor(this.P+6*(s+.5)),Z:0}}const b=[this.Y[Math.floor(this.G/2)][Math.floor(this.L/2)]];let v=0;for(;v<b.length;){const t=b[v];if(t.T>0){const s=this.Y[t.T-1][t.X];0==s.Z&&(m(d,s.x,s.y)>0?(s.Z=1,b.push(s)):s.Z=-1)}if(t.T<this.G-1){const s=this.Y[t.T+1][t.X];0==s.Z&&(m(d,s.x,s.y)>0?(s.Z=1,b.push(s)):s.Z=-1)}if(t.X>0){const s=this.Y[t.T][t.X-1];0==s.Z&&(m(d,s.x,s.y)>0?(s.Z=1,b.push(s)):s.Z=-1)}if(t.X<this.L-1){const s=this.Y[t.T][t.X+1];0==s.Z&&(m(d,s.x,s.y)>0?(s.Z=1,b.push(s)):s.Z=-1)}v++}for(let t=0;t<b.length;t++){const s=b[t],h=this.Y[this.G-1-s.T][s.X];1!=h.Z&&(h.Z=1,b.push(h))}const p=this.f.k(1,2,"base component passes"),g=Math.max(1,Math.floor(b.length*this.f.g(0,1/p,"extra component amount")));this.J=p*b.length+g,this.V=document.createElement("canvas"),this.V.width=this.w,this.V.height=this.N;const w=this.V.getContext("2d");let x=0,y=0,k=0;for(;;){let t;if(y<p)k<b.length?(t=b[k],k++):(y++,t=b[0],k=1);else{if(!(x<g))break;t=b[this.r.v(0,b.length-1)],x++}let s=[t.x,t.y];for(let h=0;h<10;h++){const h=[t.x+this.r.v(-6,6),t.y+this.r.v(-6,6)];if(!(h[0]<0||h[0]>this.w-0||h[1]<0||h[1]>this.N-0||m(d,h[0],h[1])<=0)){s=h;break}}Math.abs(s[0]-this.I)<6&&this.r.p(this.f.g(0,1,"com middleness"))&&(s[0]=this.I),u[this.r.S(o)](w,this,s,o,c,y),this.F++}w.clearRect(this.I+this.w%2,0,this.w,this.N),w.scale(-1,1),w.drawImage(this.V,0-this.w,0)}C(t,s){const h=Math.floor((t-this.U)/6),i=Math.floor((s-this.P)/6);return h<0||h>=this.G||i<0||i>=this.L?0:this.Y[h][i].Z}A(){return this.F/this.J}}function m(t,s,h){return s<0||s>t.width||h<0||h>t.height?-1:t.data[4*(h*t.width+s)+3]}function b(s){return new t(s)}function v(t,s,h){return new d(t,s,h)}function p(t){const s=function(t,s,h,i){const n=Math.floor(t/h),e=Math.floor(s/h),o=[],c=Math.floor(s/(2*e));for(let h=0;h<e;h++){const i=h%2==0?n:n-1,a=Math.floor(h%2==0?t/(2*n):t/n);for(let r=0;r<i;r++)o.push([a+Math.round((r+1*(Math.random()-.5))*t/n),c+Math.round((h+1*(Math.random()-.5))*s/e)])}return o}(t.width,t.height,Math.max(12,Math.floor(Math.min(t.width,t.height)/12))),h=t.getContext("2d"),i=t.width,n=t.height,e=h.getImageData(0,0,i,n),o=s.map(t=>({W:1e9,R:1e9,$:0,_:0,tt:t,points:[]}));for(let t=0;t<n;t++)for(let h=0;h<i;h++){const n=4*(t*i+h);if(0===e.data[n+3])continue;let c,a=1e9;for(let i=0;i<s.length;i++){const n=Math.hypot(s[i][0]-h,s[i][1]-t);n<a&&(a=n,c=i)}const r=o[c];h<r.W&&(r.W=h),h>r.$&&(r.$=h),t<r.R&&(r.R=t),t>r._&&(r._=t),r.points.push([h,t,e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]])}const c=[];return o.forEach(t=>{if(t.W<1e9){const s=t.$-t.W+1,h=t._-t.R+1,i=document.createElement("canvas");i.width=s,i.height=h;const n=i.getContext("2d"),e=n.createImageData(s,h);t.points.forEach(h=>{const i=4*((h[1]-t.R)*s+(h[0]-t.W));e.data[i]=h[2],e.data[i+1]=h[3],e.data[i+2]=h[4],e.data[i+3]=h[5]}),n.putImageData(e,0,0),c.push({tt:t.tt,canvas:i,st:[t.W,t.R]})}}),c}function g(t,s,h){const i=1.5+1.5*Math.random(),n=t.tt[0]-s/2,e=t.tt[1]-h/2,o=Math.sqrt(n*n+e*e),c=o*o,a=o*i;t.ht=(a-o)*Math.sqrt((c-e*e)/c)*(n>0?1:-1),t.it=(a-o)*Math.sqrt((c-n*n)/c)*(e>0?1:-1),t.angle=(720*Math.random()-360)/((Math.random()+2)*t.canvas.width)*10*(Math.PI/180)}function w(t){const s=t.getContext("2d");let h=t.width,i=t.height;const n=s.getImageData(0,0,h,i),e=function(t,s,h){for(let i=0;i<h;i++)for(let h=0;h<s;h++)if(t.data[4*(i*s+h)+3]>0)return i;return-1}(n,h,i),o=function(t,s,h){for(let i=h-1;i>=0;i--)for(let h=0;h<s;h++)if(t.data[4*(i*s+h)+3]>0)return i;return-1}(n,h,i),c=function(t,s,h){for(let i=0;i<s;i++)for(let n=0;n<h;n++)if(t.data[4*(n*s+i)+3]>0)return i;return-1}(n,h,i),a=function(t,s,h){for(let i=s-1;i>=0;i--)for(let n=0;n<h;n++)if(t.data[4*(n*s+i)+3]>0)return i;return-1}(n,h,i);if(e<0)return t.width=0,t.height=0,[0,0];h=1+a-c,i=1+o-e;const r=s.getImageData(c,e,h,i);return t.width=h,t.height=i,s.putImageData(r,0,0),[c,e]}function x(t){const s=document.createElement("canvas"),{width:h,height:i}=t;s.width=h,s.height=i;const n=t.getContext("2d").getImageData(0,0,h,i),{data:e}=n,{length:o}=e;for(let t=0;t<o;t+=4){const s=e[t+0],h=e[t+1],i=e[t+2];e[t+0]=255-(.393*s+.769*h+.189*i),e[t+1]=255-(.349*s+.686*h+.168*i),e[t+2]=255-(.272*s+.534*h+.131*i)}return s.getContext("2d").putImageData(n,0,0),s}function y(t){const s=document.createElement("canvas");s.width=Math.floor(2*L),s.height=Math.floor(2*P);const h=s.getContext("2d"),i=s.width/2-15,n=s.height/2-30;h.setTransform(1.5,0,0,P/L*1.5,0,0);const e=h.createRadialGradient(i,n,10,i,n,30-3*t);return e.addColorStop(0,"transparent"),e.addColorStop(.7,"blue"),e.addColorStop(1,"cyan"),h.fillStyle=e,h.beginPath(),h.arc(i,n,L/2,0,7),h.fill(),w(s),s}function k(t){const s=document.createElement("canvas");s.width=20,s.height=20;const h=s.getContext("2d");var i=h.createRadialGradient(10,10,0,10,10,10);return i.addColorStop(t,"yellow"),i.addColorStop(1,"red"),h.fillStyle=i,h.beginPath(),h.arc(10,10,10,0,7),h.fill(),s}function H(t){const s=document.createElement("canvas");s.width=t.width,s.height=t.height;const h=s.getContext("2d");return h.scale(1,-1),h.drawImage(t,0,0,t.width,-t.height),s}const O=480,q=700,B=240,S=350;let D,N,I=!1,K=!1,A=-1,C=-1,Q={},j=!1,F=document.getElementById("a");const G=v(b("piBbgDn4CZqlkqiF"),"ie7jMyCFouoUjkVs",60).V;w(G);const U=p(G),L=G.width,P=G.height,Y=G.getContext("2d").getImageData(0,0,L,P).data;let z,T,X,Z,E,J=[D,N,L,P,Y];!function(t){const s=document.createElement("canvas");s.width=32,s.height=32;const h=s.getContext("2d");let i,n;t.width>t.height?(i=32,n=32*t.height/t.width):(n=32,i=32*t.width/t.height),h.drawImage(t,0,0,i,n);const e=document.createElement("link");e.setAttribute("rel","icon"),e.setAttribute("href",s.toDataURL()),document.head.appendChild(e)}(G);const V=function(){const t=[];for(let s=0;s<5;s++)t.push(y(s));return t}(),W=[],[R,$]=function(){const t=document.createElement("canvas");t.width=20,t.height=60;const s=t.getContext("2d");return s.fillStyle="yellow",s.beginPath(),s.moveTo(10,60),s.lineTo(20,10),s.arc(10,10,10,0,Math.PI,!0),s.lineTo(10,60),s.fill(),s.strokeStyle="cyan",s.shadowColor="blue",s.globalCompositeOperation="source-atop",s.shadowBlur=4,s.lineWidth=10,s.beginPath(),s.moveTo(10,70),s.lineTo(23,10),s.arc(10,10,13,0,Math.PI,!0),s.lineTo(10,70),s.stroke(),[t,s.getImageData(0,0,t.width,t.height).data]}(),_=function(){const t=[];for(let s=0;s<9;s++)t.push(k(s/10));for(let s=t.length-2;s>=1;s--)t.push(t[s]);return t}(),tt=_[0].getContext("2d").getImageData(0,0,_[0].width,_[0].height).data,[st,ht]=function(){const t=document.createElement("canvas");t.width=60,t.height=60;const s=t.getContext("2d");var h=s.createRadialGradient(30,30,0,30,30,30);return h.addColorStop(.6,"navy"),h.addColorStop(1,"blue"),s.fillStyle=h,s.beginPath(),s.arc(30,30,30,0,7),s.fill(),[t,s.getImageData(0,0,t.width,t.height).data]}();let it,nt,et,ot=performance.now(),ct=0;const at=JSON.parse(self.localStorage.pnf_highscores||0)||[];let rt=-1;const Mt=function(){const t=document.createElement("canvas");t.width=100,t.height=100;const s=t.getContext("2d");s.font="bold 20px Helvetica",s.translate(50,50),s.rotate(-Math.PI/2),s.fillStyle="red",s.fillStyle="#fff",s.textAlign="center",s.textBaseline="middle",s.fillText("NEW!",0,0),w(t);const h=document.createElement("canvas");h.width=t.width+10,h.height=t.height+10;const i=h.getContext("2d");return i.fillStyle="red",i.fillRect(0,0,h.width,h.height),i.drawImage(t,5,5),h}();function ft(t){nt+=t,et=(new Intl.NumberFormat).format(nt)}function ut(){const t=Math.max(400,1e3-25*it);At+=It.v(t,t+400)}let lt,dt,mt,bt;function vt(t){const s=t[0];w(s);const h=s.getContext("2d").getImageData(0,0,s.width,s.height).data,i=x(s),n=p(s);t[1]=h,t[2]=i,t[3]=n}const pt=[["c4pf4K5xHzu4CyZM","Wl9w64KNQvFNbbbU",50,10,.35,0,[]],["VTjHVRDIYTbXk766","a3QM5c7MnbQlWns3",80,30,.27,0,[]],["1fOXvyryYCvwBWPL","I4xttvPYWxB1So2A",230,80,.2,6,[]],["VsM4qdcBSiuCPDGJ","q4D72OvJMb23kSZC",60,20,.4,0,[]],["l4pyu8yF0mt84Q4u","jPU5GcKNpf2JMgoG",100,40,.35,0,[[S]]],["NMp3mtsPHIwzMKYk","dBzvSKo7wpema3S5",220,90,.22,9,[]],["o67yOby6izpasGgo","fyKKupDEId96qQHu",70,20,.5,0,[[S]]],["IU7xqL8UqZIXJQDQ","aVBO8buAfBbQ4DOY",100,40,.35,0,[[S,6]]],["LP6kUeGMn7S5xZzi","p5O7jAQK67mDULTD",230,100,.25,14,[]],["SsSvCKpjLVTGITYH","aOEjI2Owpqpl06ex",65,30,.5,0,[[S]]],["AGUwhB1E94wgKe49","pwUtokX7oS7ZKFK1",110,50,.35,6,[[S,6]]],["qRF6GA3xnzX0lMcH","RIdNudvB6T2ro7C3",240,120,.3,22,[]]];function gt(t,s){const h=t[0]-t[2]/2<s[0]-s[2]/2?[t,s]:[s,t],i=t[1]-t[3]/2<s[1]-s[3]/2?[t,s]:[s,t];if(h[0][0]+h[0][2]/2>h[1][0]-h[1][2]/2&&i[0][1]+i[0][3]/2>i[1][1]-i[1][3]/2){const n=Math.floor(h[1][0]-h[1][2]/2),e=Math.floor(i[1][1]-i[1][3]/2),o=Math.floor(Math.min(h[0][0]+h[0][2]/2,h[1][0]+h[1][2]/2))-n,c=Math.floor(Math.min(i[0][1]+i[0][3]/2,i[1][1]+i[1][3]/2))-e,a=n-Math.floor(t[0]-t[2]/2),r=e-Math.floor(t[1]-t[3]/2),M=n-Math.floor(s[0]-s[2]/2),f=e-Math.floor(s[1]-s[3]/2);for(let h=0;h<c;h++)for(let i=0;i<o;i++)if(t[4][4*((r+h)*t[2]+a+i)+3]>0&&s[4][4*((f+h)*s[2]+M+i)+3]>0)return!0}return!1}const wt=[["F","orange",t=>{X=t+6500}],["S","cyan",()=>{E++}],["B","red",t=>{Z=t+1e3,At+=1500}]];class xt{constructor(t,s,h,i){this.x=t,this.y=s,this.type=h,this.nt=i,this.frame=0,this.et=!0}ot(t,s,h){if(this.y+=5*(h-this.nt)/32,this.frame=(this.frame+1)%50,!z&&gt(J,[this.x,this.y,st.width,st.height,ht]))return wt[this.type][2](h),!1;if(this.y-Math.floor(st.height/2)>q)return!1;this.nt=h,s.save(),s.translate(this.x,this.y),s.drawImage(st,-Math.floor(st.width/2),-Math.floor(st.height/2)),s.textAlign="center",s.textBaseline="top";let i=65;i+=this.frame<25?this.frame:50-this.frame,s.font="700 "+Math.floor(i/2)+"px Helvetica";const n=s.measureText(wt[this.type][0]),e=n.actualBoundingBoxDescent-n.actualBoundingBoxAscent;return s.fillStyle=wt[this.type][1],s.fillText(wt[this.type][0],0,-Math.floor(e/2)),s.restore(),!0}}class yt{constructor(t,s,h){this.x=t,this.y=s,this.nt=h,this.ct=10}ot(t,s,h){this.y-=20*(h-this.nt)/32;const i=[this.x,this.y,R.width,R.height,$];for(let s=0;s<t.length;s++){const n=t[s];if(gt(i,n.at))return n.rt(this.ct,h),!1}return!(this.y+Math.floor(R.height/2)<0||(this.nt=h,s.drawImage(R,this.x-Math.floor(R.width/2),this.y-Math.floor(R.height/2)),0))}}class kt{constructor(t,s,h,i,n){this.time=n,this.tt=t.tt,this.canvas=t.canvas,this.st=t.st,this.ht=t.ht,this.it=t.it,this.angle=t.angle,this.Mt=s,this.ft=h,this.duration=i}ot(t,s,h){const i=h-this.time;if(i>this.duration)return!1;const n=this.Mt+this.tt[0]+this.ht*Math.min(i,this.duration)/this.duration,e=this.ft+this.tt[1]+this.it*Math.min(i,this.duration)/this.duration;return s.save(),s.globalAlpha=1-(Math.min(i,this.duration)/this.duration)**2,s.translate(n,e),s.rotate(this.angle*Math.min(i,this.duration)/this.duration),s.drawImage(this.canvas,this.st[0]-this.tt[0],this.st[1]-this.tt[1]),s.restore(),!0}}class Ht{constructor(t,s,h,i,n,e){this.width=_[0].width,this.height=_[0].height,this.x=t,this.y=s;const o=Math.sqrt((h-t)**2+(i-s)**2);this.ut=(h-t)/o,this.lt=(i-s)/o,this.nt=e,this.speed=n,this.frame=0,this.et=!0,this.dt()}ot(t,s,h){if(Z>h)return!1;const i=h-this.nt;if(this.y+=i*this.speed*this.lt,this.x+=i*this.speed*this.ut,this.dt(),gt(J,this.at)){if(E)return E--,!1;z=!0}return!(this.y-Math.floor(this.height/2)>q||this.y+Math.floor(this.height/2)<0||this.x-Math.floor(this.width/2)>O||this.x+Math.floor(this.width/2)<0||(this.nt=h,this.frame=(this.frame+1)%_.length,s.drawImage(_[this.frame],this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),0))}dt(){this.at=[this.x,this.y,this.width,this.height,tt]}}function Ot(t,s,h,i,n,e){const o=[];for(let c=0;c<t;c++){const a=i+2*c*Math.PI/t;o.push(new Ht(s,h,s+Math.round(100*Math.cos(a)),h+Math.round(100*Math.sin(a)),n,e))}return o}class qt{constructor(t,s,h,i,n,e,o,c,a,r,M,f){this.bt=It.m(0,2*Math.PI),this.canvas=t,this.mask=s,this.vt=h,this.width=t.width,this.height=t.height,this.gt=c,this.x=n,this.y=e,this.nt=f,this.wt=0,this.xt=i,this.speed=o,this.points=a,this.yt=r,this.kt=M,this.dt()}ot(t,s,h){const i=this.y;let n=!1;if(this.gt<=0||Z>h?n=!0:(this.y+=(h-this.nt)*this.speed,this.dt(),gt(J,this.at)&&(E?(E--,n=!0):z=!0)),n)return ft(this.points),(this.yt>0?Ot(this.yt,this.x,this.y+Math.round(17*this.speed),this.bt,.45,h):[]).concat(this.xt.map(t=>(g(t,this.width,this.height),new kt(t,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),500,h))));if(this.y-Math.floor(this.height/2)>q)return!1;this.nt=h;const e=h-this.wt;let o=0;if(e<400&&(o=(400-e)/400),s.save(),s.drawImage(this.canvas,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),o>0&&(s.globalAlpha=o,s.drawImage(this.vt,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height)),s.restore(),!z)for(let t=0;t<this.kt.length;t++){const s=this.kt[t][0];if(i<s&&this.y>s){const s=this.kt[t][1],i=this.y+Math.round(17*this.speed);return s?[this,...Ot(s,this.x,i,this.bt,.3,h)]:[this,new Ht(this.x,i,D,N,.3,h)]}}return!0}dt(){this.at=[this.x,this.y,this.width,this.height,this.mask]}rt(t,s){this.wt=s,this.gt-=t}}class Bt{constructor(t,s){this.Z=0,this.Ht=s+2e3,this.gt=Number.MAX_SAFE_INTEGER,this.nt=s,this.width=lt.width,this.height=lt.height,this.x=B,this.y=-this.height/2,this.direction=0,this.wt=0,this.level=t,this.dt()}ot(t,s,h){let i=!1;if(this.gt<=0)i=!0;else{const t=h-this.nt;0===this.Z?h>this.Ht&&(this.Z=1):1===this.Z?(this.y+=.15*t,this.y>150&&(this.y=150,this.gt=100+250*this.level,this.Z=2,this.Ot=h,this.qt=0)):0===this.direction?(this.x+=.1*t,this.x+Math.floor(this.width/2)>O&&(this.x=O-Math.floor(this.width/2),this.direction=1)):(this.x-=.1*t,this.x-Math.floor(this.width/2)<0&&(this.x=Math.floor(this.width/2),this.direction=0)),this.dt(),gt(J,this.at)&&(z=!0)}if(i)return ft(500*it),Ft=!1,Ct=h+1e4,At=500+h,ut(),Qt=500+h,bt.map(t=>(g(t,this.width,this.height),new kt(t,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),500,h)));this.nt=h;const n=h-this.wt;let e=0;if(n<400&&(e=(400-n)/400),s.save(),s.drawImage(lt,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),e>0&&(s.globalAlpha=e,s.drawImage(mt,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height)),s.restore(),!z&&2===this.Z&&this.Ot<h){const t=[];if(this.qt<5*this.level){let s,i;switch(Math.floor(this.qt/this.level)){case 0:s=28,i=119;break;case 1:s=42,i=123;break;case 2:s=108,i=94;break;case 3:s=121,i=80;break;default:s=143,i=50}t.push(new Ht(this.x-s,this.y+i,this.x-s,this.y+i+100,.5,h)),t.push(new Ht(this.x+s,this.y+i,this.x+s,this.y+i+100,.5,h))}else t.push(new Ht(this.x,this.y+125,D,N,.3,h));return this.qt++,this.qt>=10*this.level?(this.qt=0,this.Ot=h+800):this.Ot=this.qt>5*this.level?h+200:this.qt===5*this.level?h+800:this.qt%this.level?h+180:h+500,[this,...t]}return!0}dt(){this.at=[this.x,this.y,this.width,this.height,dt]}rt(t,s){this.wt=s,this.gt-=t}}let St,Dt,Nt,It,Kt,At,Ct,Qt,jt,Ft,Gt,Ut=5;function Lt(t){let s,h,i,n;t.preventDefault(),F.offsetWidth/F.offsetHeight>.6857142857142857?(h=0,n=F.offsetHeight,i=n*O/q,s=Math.floor(F.offsetWidth-i)/2):(s=0,i=F.offsetWidth,n=i*q/O,h=Math.floor(F.offsetHeight-n)/2);let e={};e=t.changedTouches?t.changedTouches[0]:t,A=Math.floor((e.pageX-s)*O/i),C=Math.floor((e.pageY-h)*q/n)}self.ontouchstart=self.onpointerdown=t=>{I=!0,Lt(t)},self.ontouchmove=self.onpointermove=Lt,self.ontouchend=self.onpointerup=t=>{t.preventDefault(),I=!1},self.onkeydown=t=>{j=!0,Q[t.code]=1,t.preventDefault()},self.onkeyup=t=>{Q[t.code]=0,t.preventDefault()},F.width=O,F.height=q,F.getContext("2d"),requestAnimationFrame(function s(h){(function(s){switch(ct){case 0:case 1:!function(s){const h=F.getContext("2d");h.fillStyle="#000",h.fillRect(0,0,O,q),h.fillStyle="#fff";let i=(s-ot)/3e3;h.save();for(let t=200;t--;){let s=50/(6-(i+t/13)%6);h.globalAlpha=Math.min(s/100,1),h.beginPath(),h.arc(Math.cos(t)*s+B,Math.sin(t*t)*s+S,s/200,0,7),h.fill()}if(h.restore(),h.textBaseline="middle",h.textAlign="center",1===ct){if(0===at.length)h.font="bold 40px Helvetica",h.fillText("PLANET NOT FOUND",B,S);else{h.font="bold 30px Helvetica",h.fillText("HIGH SCORES",B,100),h.save(),h.textAlign="start",h.textBaseline="top";for(let t=0;t<at.length;t++){t===rt?(h.save(),h.translate(90,185+80*t),h.drawImage(Mt,-Math.floor(Mt.width/2),-Math.floor(Mt.height/2)),h.restore(),h.fillStyle="gold"):h.fillStyle="#fff";const s=Intl.NumberFormat().format(at[t][0]),i=new Date(at[t][1]).toLocaleString();h.font="50px Helvetica",h.fillText(t+1+"",115,160+80*t),h.font="60px Helvetica",h.fillText("{",145,150+80*t),h.font="25px Helvetica",h.fillText(s+" points",170,160+80*t),h.font="15px Helvetica",h.fillText(i,170,190+80*t)}h.restore()}h.font="20px Helvetica",h.fillText("<Press anywhere or any key to play>",B,670),I||j?K||(ct=2,it=0,It=new t("enemy"),Kt=new t("powerup"),At=1e3,Ct=5e3,Qt=9e3,jt=0,Nt=0,St=[],Dt=[],ot=performance.now(),Gt=performance.now(),nt=0,ft(0),z=!1,D=B,N=630,X=0,Z=0,E=1,Ft=!1,rt=-1):K=!1}else if(h.font="italic 30px Helvetica",h.fillText("Loading…",B,S),lt)if(W.length<pt.length)W.push(function(t,s,h,...i){return[H(v(b(t),s,h).V),void 0,void 0,void 0,...i]}(...pt[W.length]));else{let t=!0;for(let s=0;t&&s<W.length;s++)W[s][1]||(t=!1,vt(W[s]));t&&(ct=1)}else lt=H(v(b("HYj7ADLjQr6icLtO"),"CdiB9N2ZoQWuAxur",270).V),w(lt),mt=x(lt),bt=p(lt),dt=lt.getContext("2d").getImageData(0,0,lt.width,lt.height).data}(s);break;case 2:!function(t){const s=t-Gt;if(Gt=t,s>160)return ot+=s,void(Q={});if(!z){const t=.6*s,h=Q.ArrowUp||Q.KeyW,i=Q.ArrowDown||Q.KeyS,n=Q.ArrowLeft||Q.KeyA,e=Q.ArrowRight||Q.KeyD;if(h||i||n||e){const s=(h||i)&&(n||e)?Math.sqrt(t**2/2):t;h&&(N-=s),i&&(N+=s),n&&(D-=s),e&&(D+=s),A=D,C=N}else{let s=A-D,h=C-N;const i=Math.sqrt(s**2+h**2);i<t?(D=A,N=C):(D+=s/i*t,N+=h/i*t)}D-Math.floor(L/2)<0?D=Math.floor(L/2):D+Math.floor(L/2)>O&&(D=O-Math.floor(L/2)),N-Math.floor(P/2)<0?N=Math.floor(P/2):N+Math.floor(P/2)>q&&(N=q-Math.floor(P/2)),J=[D,N,L,P,Y]}const h=F.getContext("2d");let i;h.fillStyle="#000",h.fillRect(0,0,O,q),h.fillStyle="#777";for(let s=100;s--;h.beginPath(),h.arc(Math.floor(-60*(100-s)*(D-L/2)/(100*(O-L)))+102797*(1+Math.sin(i))*s%540,q*(Math.tan(s/9)+i*(t-ot)/3e3)%q,2*i,0,7),h.fill())i=149/(3*s+199);const n=z,e=[],o=[],c=[];function a(s){const i=s.ot(Dt,h,t-ot);"boolean"==typeof i?i&&(s.et?o.push(s):e.push(s),s.rt&&c.push(s)):Array.isArray(i)&&i.forEach(t=>{s===t?i&&(s.et?o.push(s):e.push(s),s.rt&&c.push(s)):a(t)})}if(St.forEach(a),!n&&z&&(T=t-ot,U.map(s=>(g(s,L,P),new kt(s,D-Math.floor(L/2),N-Math.floor(P/2),1500,t-ot))).forEach(a)),St=e.concat(o),Dt=c,h.fillStyle="#fff",h.textAlign="center",z)h.save(),h.globalAlpha=Math.min(1,(t-ot-T)/2e3),h.textBaseline="middle",h.font="40px Helvetica",h.fillText("Game Over",B,S),h.restore();else{if(E){const t=V[Math.min(E-1,V.length-1)];h.drawImage(t,D-Math.floor(t.width/2),N-Math.floor(t.height/2)+5)}h.drawImage(G,D-Math.floor(L/2),N-Math.floor(P/2))}Z>t-ot&&(h.save(),h.globalAlpha=(Z-t+ot)/1e3,h.fillStyle="#fff",h.fillRect(0,0,O,q),h.restore()),h.textBaseline="top",h.font="16px Helvetica",h.fillText(et,B,5);const r=X>t-ot;if(!z&&Nt+(r?100:200)<t-ot&&(Ut=-Ut,St.push(new yt(D+(r?Ut:0),N-Math.floor(P/2),t-ot)),Nt=Math.max(t-ot)),Ct<t-ot&&!Ft&&(it++,it%5?Ct=t-ot+1e4:(Ft=!0,St.push(new Bt(Math.floor(it/5),t-ot)))),Qt<t-ot&&!Ft&&(St.push(new xt(Kt.v(30,450),Math.floor(-st.height/2),jt,t-ot)),jt=(jt+1)%wt.length,Qt=t-ot+9e3),At<t-ot&&!Ft){const s=It.v(Math.min(Math.max(it-2,0),W.length-3),Math.min(it,W.length-1)),[h,i,n,e,o,c,a,r]=W[s];St.push(new qt(h,i,n,e,It.v(30,450),Math.floor(-h.height/2),c,o,50*(s+1),a,r,t-ot)),ut()}z&&T+3500<t-ot&&(function(){if(nt){const t=[nt,Date.now()];at.push(t),at.sort((t,s)=>{const h=s[0]-t[0];return 0===h?s[1]-t[1]:h}),at.length=Math.min(at.length,5),rt=at.indexOf(t),self.localStorage.pnf_highscores=JSON.stringify(at)}}(),ct=1,K=I)}(s)}j=!1})(h),requestAnimationFrame(s)})}();
