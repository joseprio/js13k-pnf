<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="user-scalable=no,initial-scale=1,maximum-scale=1,minimum-scale=1,width=device-width"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="mobile-web-app-capable" content="yes"><style>#a,body,html{width:100%;height:100%;margin:0;padding:0;touch-action:none;user-select:none;object-fit:contain}body{background:#226;overflow:hidden;display:flex;align-items:center;justify-content:center}</style><title>Planet Not Found</title></head><body><canvas id="a"></canvas><script>!function(){"use strict";class t{constructor(t){this.t=0,this.h=0,this.i={},this.seed=t,this.seed.length<8&&(this.seed="padding_"+this.seed),this.seed.length%2==0&&(this.seed="1"+this.seed),this.o=[2972948403,3086140710,2071788248,3026137486,1411764137,2265725585,2923087685,1593177610],this.M=3234042090;for(var h=this.seed.length-1;h>=0;h--){var s=this.seed.charCodeAt(h);this.M=((this.M<<5)+this.M^s^this.M<<s%13+1^this.M>>s%17+1)>>>0,this.o[h%8]^=((this.M>>9)*(this.M%16384+3427)^s)>>>0}}u(){var t=this.seed.charCodeAt(this.t),h=this.o[this.h];return this.M=((this.M<<5)+this.M+h^t^this.M<<t%17+1^this.M>>t%13+1)>>>0,this.o[this.h]=(h>>3^h<<t%19+1^this.M%134217728*3427)>>>0,this.t=(this.t+1)%this.seed.length,this.h=(this.h+1)%8,this.M}l(t){const h=[1160605769,1424711319,876532818,1419174464];let s=1206170165;if(null==t&&(t="?/?/?/",s=3379896793),this.i.hasOwnProperty(t))return this.i[t];for(var i=t.length-1;i>=0;i--){const n=t.charCodeAt(i);let e=h[0]^n;e=(e^e<<11)>>>0,e=(e^e>>8)>>>0,h[0]=h[1],h[1]=h[2],h[2]=h[3],h[3]=(h[3]^h[3]>>19^e)>>>0,s=3427*(s^n<<24)^h[3]}for(var n=this.seed.length-1;n>=0;n--){const t=this.seed.charCodeAt(n);let i=h[0]^t;i=(i^i<<11)>>>0,i=(i^i>>8)>>>0,h[0]=h[1],h[1]=h[2],h[2]=h[3],h[3]=(h[3]^h[3]>>19^i)>>>0,s=3427*(s^t<<24)^h[3]}return this.i[t]=s>>>0,this.i[t]}m(t,h){return(4294967296*this.u()+this.u())/0x10000000000000000*(h-t)+t}p(t,h,s){return(4294967296*this.l(s)+this.l(s+"@"))/0x10000000000000000*(h-t)+t}v(t,h){return Math.floor((4294967296*this.u()+this.u())/0x10000000000000000*(h+1-t)+t)}g(t,h,s){return Math.floor((4294967296*this.l(s)+this.l(s+"@"))/0x10000000000000000*(h+1-t)+t)}k(t){return(4294967296*this.u()+this.u())/0x10000000000000000<t}H(t,h){return(4294967296*this.l(h)+this.l(h+"@"))/0x10000000000000000<t}F(t){return(4294967296*this.u()+this.u())/0x10000000000000000<t?-1:1}B(t,h){for(var s=0;(4294967296*this.u()+this.u())/0x10000000000000000<t&&s<h;)s++;return s}C(t,h,s){for(var i=0;(4294967296*this.l(s+i)+this.l(s+"@"+i))/0x10000000000000000<t&&i<h;)i++;return i}O(t){let h=0;for(let s=0;s<t.length;s++)h+=t[s];let s=this.m(0,h);for(let h=0;h<t.length;h++)if(s-=t[h],s<0)return h;return 0}q(t,h){let s=0;for(let h=0;h<t.length;h++)s+=t[h];let i=this.p(0,s,h);for(let h=0;h<t.length;h++)if(i-=t[h],i<0)return h;return 0}}function h(t,h,s){return Math.max(h,Math.min(s,t))}function s(t){var s=Math.floor(255*h(t,0,1)).toString(16);return s.length<2&&(s="0"+s),s}function i(t){return"#"+s(t[0])+s(t[1])+s(t[2])}function n(t,h){return i([t[0]*h,t[1]*h,t[2]*h])}function e(t){var h=t[1]*t[2],s=t[2]-h,i=(t[0]%1+1)%1*6,n=Math.floor(i),e=h*(1-Math.abs(i%2-1));switch(n){case 0:return[h+s,e+s,s];case 1:return[e+s,h+s,s];case 2:return[s,h+s,e+s];case 3:return[s,e+s,h+s];case 4:return[e+s,s,h+s];default:return[h+s,s,e+s]}}class a{constructor(h){this.S=[],this.D=[],this.N=[],this.seed=h,this.r=new t(h),this.I(),this.K()}I(){this.S[0]=.8*this.r.m(.001,1)*Math.pow(2,this.r.m(0,8)),this.S[1]=.9*this.r.m(.01,1)*Math.pow(2,this.r.m(0,8)),this.S[2]=1*this.r.m(.001,1)*Math.pow(2,this.r.m(0,8)),this.S[3]=3*this.r.m(0,1)*Math.pow(2,this.r.m(0,8)),this.S[4]=.5*this.r.m(0,1)*Math.pow(2,this.r.m(0,8)),this.S[5]=.05*this.r.m(0,1)*Math.pow(2,this.r.m(0,8)),this.S[6]=.5*this.r.m(0,1)*Math.pow(2,this.r.m(0,8))}K(){const t=1+(this.r.H(.7,"base color +1")?1:0)+this.r.C(.3,3,"base color count");for(let s=0;s<t;s++){const t="base color"+s;this.D.push(e([Math.pow(this.r.p(0,1,t+"hue"),2),h(this.r.p(-.2,1,t+"saturation"),0,Math.pow(this.r.p(0,1,t+"saturation bound"),4)),h(this.r.p(.7,1.1,t+"value"),0,1)])),this.N.push(Math.pow(2,this.r.p(0,6,t+"chances")))}}A(t){let s=this.D[t.r.O(this.N)];return t.r.k(Math.pow(this.r.p(0,.5,"base color shift chance"),2))&&(s=[s[0],s[1],s[2]],s[0]=h(s[0]+Math.pow(this.r.p(0,.6,"base color shift range red"),2)*h(t.r.m(-1,1.2),0,1)*h(t.r.F(.7)+t.r.F(.7),-1,1),0,1),s[1]=h(s[1]+Math.pow(this.r.p(0,.6,"base color shift range green"),2)*h(t.r.m(-1,1.2),0,1)*h(t.r.F(.7)+t.r.F(.7),-1,1),0,1),s[2]=h(s[2]+Math.pow(this.r.p(0,.6,"base color shift range blue"),2)*h(t.r.m(-1,1.2),0,1)*h(t.r.F(.7)+t.r.F(.7),-1,1),0,1)),s}}function o(t,h){return 1-h[1]/t.j}function c(t,h,s,i){let n=1;return s&&(n=Math.min(n,1-Math.abs(h[0]-t.G)/t.G)),i&&(n=Math.min(n,1-Math.abs(h[1]-t.U)/t.U)),n}function r(t,h){return c(t,h,!0,!0)*(1-1/((t.w+t.j)/1e3+1))*Math.pow(t.f.r.p(0,1,"master bigness"),.5)*(1-t.L())}function M(t,h){return[Math.min(h[0][0]-0,t.w-0-h[1][0]),Math.min(h[0][1]-0,t.j-0-h[1][1])]}function f(t,s,i,n){const e=t.createLinearGradient(i[0],i[1],2*s[0]-i[0],2*s[1]-i[1]),a=`rgba(0,0,0,${h(n,0,1)})`;return e.addColorStop(0,a),e.addColorStop(.5,"rgba(0,0,0,0)"),e.addColorStop(1,a),e}const u=[];u[0]=function(t,s){let i=8;const e=Math.pow(r(t,s),.3);if(t.r.k(t.f.r.p(0,.9,"com0 bigchance")*e)){const h=t.f.r.p(0,.5,"com0 bigincchance");for(;t.r.k(h*e);){const h=M(t,[[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]]);if(!(Math.min(h[0],h[1])>.5*i))break;i*=1.5}}const a=2*i,o=[Math.ceil(t.r.m(1,Math.max(2,.5*i))),Math.ceil(t.r.m(1,Math.max(2,.5*i)))],c=Math.min(o[0],o[1])*t.r.m(.1,1.2),u=[o[0]+2*c,o[1]+2*c],l=[Math.ceil(a/u[0]),Math.ceil(a/u[1])],d=[Math.round(l[0]*u[0]/2),Math.round(l[1]*u[1]/2)],m=t.L(),b=t.f.A(t),p=n(b,t.r.m(.4,1)),v=n(b,t.r.m(.4,1));t.P.fillStyle="rgba(0,0,0,"+t.r.m(0,.25)+")",t.P.fillRect(s[0]-d[0]-1,s[1]-d[1]-1,u[0]*l[0]+2,u[1]*l[1]+2),t.P.fillStyle=v,t.P.fillRect(s[0]-d[0],s[1]-d[1],u[0]*l[0],u[1]*l[1]),t.P.fillStyle=p;for(let h=0;h<l[0];h++){const i=s[0]+c+h*u[0]-d[0];for(let h=0;h<l[1];h++)t.P.fillRect(i,s[1]+c+h*u[1]-d[1],o[0],o[1])}t.r.k(h(i/8*(.6*m+.3),0,.98))&&(t.P.fillStyle=f(t.P,s,[s[0]+d[0],s[1]],t.r.m(0,.9)),t.P.fillRect(s[0]-d[0],s[1]-d[1],u[0]*l[0],u[1]*l[1]))},u[1]=function(t,s){let i=8;const e=Math.pow(r(t,s),.2);if(t.r.k(t.f.r.p(.3,1,"com1 bigchance")*e)){const h=t.f.r.p(0,.6,"com1 bigincchance");for(;t.r.k(h*e);){const h=M(t,[[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]]);if(!(Math.min(h[0],h[1])>.5*i))break;i*=1.5}}let a=Math.ceil(t.r.m(.8,2)*i);const o=Math.ceil(t.r.m(.8,2)*i),c=t.r.v(3,Math.max(4,a)),u=Math.max(1,Math.round(a/c));a=u*c;const l=n(t.f.A(t),t.r.m(.5,1)),d=t.r.m(.3,.9);if(t.r.k(h(t.f.r.p(-.2,1.2,"com1 hchance"),0,1))){const h=[s[0]-Math.floor(a/2),s[1]-Math.floor(o/2)];t.P.fillStyle="rgba(0,0,0,"+t.r.m(0,.25)+")",t.P.fillRect(h[0]-1,h[1]-1,a+2,o+2),t.P.fillStyle=l,t.P.fillRect(h[0],h[1],a,o);for(let i=0;i<u;i++)t.P.fillStyle=f(t.P,[h[0]+(i+.5)*c,s[1]],[h[0]+i*c,s[1]],d),t.P.fillRect(h[0]+i*c,h[1],c,o)}else{const h=[s[0]-Math.floor(o/2),s[1]-Math.floor(a/2)];t.P.fillStyle="rgba(0,0,0,"+t.r.m(0,.25)+")",t.P.fillRect(h[0]-1,h[1]-1,o+2,a+2),t.P.fillStyle=l,t.P.fillRect(h[0],h[1],o,a);for(let i=0;i<u;i++)t.P.fillStyle=f(t.P,[s[0],h[1]+(i+.5)*c],[s[0],h[1]+i*c],d),t.P.fillRect(h[0],h[1]+i*c,a,c)}},u[2]=function(t,s){let i=8;const e=Math.pow(r(t,s),.05);if(t.r.k(t.f.r.p(0,1,"com2 bigchance")*e)){const h=t.f.r.p(0,.9,"com2 bigincchance");for(;t.r.k(h*e);){const h=M(t,[[s[0]-i,s[1]-i],[s[0]+i,s[1]+i]]);if(!(Math.min(h[0],h[1])>.5*i))break;i*=1.5}}const a=Math.ceil(t.r.m(.6,1.4)*i),o=Math.ceil(t.r.m(1,2)*i),c=[Math.ceil(h(a*t.r.m(.7,1)/2,1,a)),Math.ceil(h(a*t.r.m(.8,1)/2,1,a))],f=[Math.floor(h(a*t.r.m(.05,.25),1,o)),Math.floor(h(a*t.r.m(.1,.3),1,o))],u=f[0]+f[1],l=t.r.k(Math.pow(t.f.r.p(0,1,"com2 oddchance"),.5)),d=h(Math.floor(o/u),1,o),m=d*u+(l?f[0]:0),b=t.f.A(t),p=t.r.m(.6,1),v=t.r.m(.6,1),g=[n(b,p),n(b,v)],w=1-t.r.m(.5,.95),x=[n(b,w*p),n(b,w*v)];if(t.r.k(Math.pow(t.f.r.p(0,1,"com2 verticalchance"),.1))){const h=t.P.createLinearGradient(s[0]-c[0],s[1],s[0]+c[0],s[1]),i=t.P.createLinearGradient(s[0]-c[1],s[1],s[0]+c[1],s[1]);h.addColorStop(0,x[0]),h.addColorStop(.5,g[0]),h.addColorStop(1,x[0]),i.addColorStop(0,x[1]),i.addColorStop(.5,g[1]),i.addColorStop(1,x[1]);const n=Math.floor(s[1]-m/2);for(let e=0;e<d;e++)t.P.fillStyle=h,t.P.fillRect(s[0]-c[0],n+e*u,2*c[0],f[0]),t.P.fillStyle=i,t.P.fillRect(s[0]-c[1],n+e*u+f[0],2*c[1],f[1]);l&&(t.P.fillStyle=h,t.P.fillRect(s[0]-c[0],n+d*u,2*c[0],f[0]))}else{const h=t.P.createLinearGradient(s[0],s[1]-c[0],s[0],s[1]+c[0]),i=t.P.createLinearGradient(s[0],s[1]-c[1],s[0],s[1]+c[1]);h.addColorStop(0,x[0]),h.addColorStop(.5,g[0]),h.addColorStop(1,x[0]),i.addColorStop(0,x[1]),i.addColorStop(.5,g[1]),i.addColorStop(1,x[1]);const n=Math.floor(s[0]-m/2);for(let e=0;e<d;e++)t.P.fillStyle=h,t.P.fillRect(n+e*u,s[1]-c[0],f[0],2*c[0]),t.P.fillStyle=i,t.P.fillRect(n+e*u+f[0],s[1]-c[1],f[1],2*c[1]);l&&(t.P.fillStyle=h,t.P.fillRect(n+d*u,s[1]-c[0],f[0],2*c[0]))}},u[3]=function(t,h){if(t.r.k(o(t,h)-.3)||t.Y(h[0],h[1]+6*1.2)>0||t.Y(h[0],h[1]+10.8)>0)for(let s=0;s<100;s++){const s=t.r.O(t.f.S);if(3!=s)return void u[s](t,h)}let s=8;const e=Math.pow(r(t,h),.1);if(t.r.k(t.f.r.p(.6,1,"com3 bigchance")*e)){const i=t.f.r.p(.3,.8,"com3 bigincchance");for(;t.r.k(i*e);){const i=M(t,[[h[0]-s,h[1]-s],[h[0]+s,h[1]+s]]);if(!(Math.min(i[0],i[1])>.5*s))break;s*=1.5}}const a=t.r.m(1,2)*s;let c=Math.ceil(t.r.m(.3,1)*s);const f=a*t.r.m(.25,.6),l=(a+f)/2/2,d=[Math.max(1,Math.ceil(c*t.r.m(.08,.25))),Math.max(1,Math.ceil(c*t.r.m(.03,.15)))],m=d[0]+d[1],b=Math.ceil(c/m);c=b*m+d[0],t.f.K();const p=t.f.D[t.f.r.q(t.f.N,"com3 basecolor")],v=t.f.r.p(.5,.8,"com3 lightness0 mid"),g=v-t.f.r.p(.2,.4,"com3 lightness0 edge"),w=t.f.r.p(0,.2,"com3 lightness1 edge"),x=[t.P.createLinearGradient(h[0]-l,h[1],h[0]+l,h[1]),t.P.createLinearGradient(h[0]-l,h[1],h[0]+l,h[1])];x[0].addColorStop(0,n(p,g)),x[0].addColorStop(.5,n(p,v)),x[0].addColorStop(1,n(p,g)),x[1].addColorStop(0,n(p,w)),x[1].addColorStop(.5,i(p)),x[1].addColorStop(1,n(p,w));const y=Math.ceil(h[1]-c/2);t.P.fillStyle=x[0],t.P.beginPath(),t.P.moveTo(h[0]-f/2,y),t.P.lineTo(h[0]+f/2,y),t.P.lineTo(h[0]+a/2,y+c),t.P.lineTo(h[0]-a/2,y+c),t.P.fill(),t.P.fillStyle=x[1];const k=[y+d[0],y+m];for(let s=0;s<b;s++){const i=[s*m+d[0],(s+1)*m],n=[k[0]+s*m,k[1]+s*m],e=[(f+i[0]/c*(a-f))/2,(f+i[1]/c*(a-f))/2];t.P.beginPath(),t.P.moveTo(h[0]-e[0],n[0]),t.P.lineTo(h[0]+e[0],n[0]),t.P.lineTo(h[0]+e[1],n[1]),t.P.lineTo(h[0]-e[1],n[1]),t.P.fill()}},u[4]=function(t,h){const s=c(t,h,!0,!1),i=t.r.m(.7,1),e=t.r.m(0,.2),a=t.f.A(t),o=n(a,i),r=n(a,e),M=Math.max(3,Math.ceil(t.size*Math.pow(t.r.m(.4,1),2)*t.f.r.p(.02,.1,"com4 maxwidth"))),f=Math.floor(M/2),l=M%2,d=1*Math.pow(t.f.r.p(0,1,"com4 directionc0"),4),m=.1*Math.pow(t.f.r.p(0,1,"com4 directionc1"),4),b=.2*Math.pow(t.f.r.p(0,1,"com4 directionc2"),4),p=t.r.O([d*(2-s),m,b*(1+s)]);let v=null;if(0==p){const s=Math.min(Math.max(8,h[1]-0-t.r.v(0,16)),Math.floor(.7*t.size*Math.pow(t.r.m(0,1),t.f.r.p(2,6,"com4 hpower0")))),i=[[h[0]-f,h[1]-s],[h[0]+f+l,h[1]]],n=t.P.createLinearGradient(i[0][0],i[0][1],i[1][0],i[0][1]);n.addColorStop(0,r),n.addColorStop(.5,o),n.addColorStop(1,r),t.P.fillStyle=n,t.P.fillRect(i[0][0],i[0][1],M,s),v=[h[0],h[1]-s]}else if(1==p){const s=Math.min(Math.max(8,t.j-(0+h[1])-t.r.v(0,16)),Math.floor(.6*t.size*Math.pow(t.r.m(0,1),t.f.r.p(2,7,"com4 hpower1")))),i=[[h[0]-f,h[1]],[h[0]+f+l,h[1]+s]],n=t.P.createLinearGradient(i[0][0],i[0][1],i[1][0],i[0][1]);n.addColorStop(0,r),n.addColorStop(.5,o),n.addColorStop(1,r),t.P.fillStyle=n,t.P.fillRect(i[0][0],i[0][1],M,s),v=[h[0],h[1]+s]}else if(2==p){const s=t.P.createLinearGradient(h[0],h[1]-f,h[0],h[1]+f+l);s.addColorStop(0,r),s.addColorStop(.5,o),s.addColorStop(1,r),t.P.fillStyle=s,t.P.fillRect(h[0],h[1]-f,Math.ceil(t.G-h[0])+1,M),v=[t.G,h[1]]}const g=[.6*Math.pow(t.f.r.p(0,1,"com4 covercomc0"),2),.2*Math.pow(t.f.r.p(0,1,"com4 covercomc1"),2),Math.pow(t.f.r.p(0,1,"com4 covercomc2"),2)];if(u[t.r.O(g)](t,h),t.Y(v[0],v[1])>0){const h=[v[0]+Math.round(6*t.r.m(-1,1)),v[1]+Math.round(6*t.r.m(-1,1))];t.Y(h[0],h[1])>0?u[t.r.O(g)](t,h):u[t.r.O(g)](t,v)}},u[5]=function(t,h){let s=8;const i=Math.pow(r(t,h),.1);if(t.r.k(t.f.r.p(0,.9,"com5 bigchance")*i)){const n=t.f.r.p(0,.8,"com5 bigincchance");for(;t.r.k(n*i);){const i=M(t,[[h[0]-s,h[1]-s],[h[0]+s,h[1]+s]]);if(!(Math.min(i[0],i[1])>.5*s))break;s*=1.5}}const e=t.r.m(.75,1),a=t.r.m(0,.25),o=t.f.A(t),c=n(o,e),f=n(o,a),u=1+t.r.B(t.f.r.p(0,1,"com5 multxc"),Math.floor(1.2*Math.pow(s/8,.6))),l=1+t.r.B(t.f.r.p(0,1,"com5 multyc"),Math.floor(1.2*Math.pow(s/8,.6))),d=t.r.m(.5,1)*s/Math.max(u,l),m=d+.5,b=d+1,p=.2*d,v=[h[0]-d*u,h[1]-d*l];t.P.fillStyle="rgba(0,0,0,"+t.r.m(0,.2)+")";for(let h=0;h<u;h++){const s=v[0]+(2*h+1)*d;for(let h=0;h<l;h++){const i=v[1]+(2*h+1)*d;t.P.beginPath(),t.P.arc(s,i,b,0,2*Math.PI),t.P.fill()}}for(let h=0;h<u;h++){const s=v[0]+(2*h+1)*d;for(let h=0;h<l;h++){const i=v[1]+(2*h+1)*d,n=t.P.createRadialGradient(s,i,p,s,i,m);n.addColorStop(0,c),n.addColorStop(1,f),t.P.fillStyle=n,t.P.beginPath(),t.P.arc(s,i,m,0,2*Math.PI),t.P.fill()}}},u[6]=function(t,h){if(t.T<=0||t.r.k(o(t,h)))return void u[t.r.O(t.f.S.slice(0,6))](t,h);let s=8;const i=Math.pow(r(t,h),.05);if(t.r.k(t.f.r.p(0,.9,"com6 bigchance")*i)){const n=t.f.r.p(0,.8,"com6 bigincchance");for(;t.r.k(n*i);){const i=M(t,[[h[0]-s,h[1]-s],[h[0]+s,h[1]+s]]);if(!(Math.min(i[0],i[1])>.5*s))break;s*=1.5}}const e=Math.ceil(2*s*t.r.m(.6,1)),a=Math.floor(e/2),c=e%2,f=e*Math.pow(t.r.m(Math.pow(t.f.r.p(0,.8,"com6 h1min"),.5),.9),t.f.r.p(.5,1.5,"com6 h1power")),l=Math.floor(f/2),d=e%2,m=Math.max(0-(e-f)/2,e*(t.r.m(0,.45)+t.r.m(0,.45))*(t.f.r.H(.8,"com6 backnesstype")?t.f.r.p(.2,.9,"com6 backness#pos"):t.f.r.p(-.2,-.05,"com6 backness#neg"))),b=Math.ceil(s*t.r.m(.7,1)*Math.pow(t.f.r.p(.1,3.5,"com6 width"),.5)),p=Math.floor(b/2),v=b%2,g=[[h[0]-p,h[1]+m-l],[h[0]+p+v,h[1]-a],[h[0]+p+v,h[1]+a+c],[h[0]-p,h[1]+m+l+d]],w=t.f.A(t);t.P.fillStyle="rgba(0,0,0,"+t.r.m(0,.2)+")",t.P.beginPath(),t.P.moveTo(g[0][0]-1,g[0][1]),t.P.lineTo(g[1][0]-1,g[1][1]),t.P.lineTo(g[2][0]-1,g[2][1]),t.P.lineTo(g[3][0]-1,g[3][1]),t.P.fill(),t.P.fillStyle=n(w,t.r.m(.7,1)),t.P.beginPath(),t.P.moveTo(g[0][0],g[0][1]),t.P.lineTo(g[1][0],g[1][1]),t.P.lineTo(g[2][0],g[2][1]),t.P.lineTo(g[3][0],g[3][1]),t.P.fill()};const l=[function(t){const s=(t.w-0)*(t.j-0)*.05,i=Math.ceil((t.w-0)*t.f.r.p(.1,1,"outline0 iw")*.2),n=[[[t.G-i,0],[t.G+i,t.j-0]]],e=2+Math.floor(t.r.m(.5,1)*t.f.r.p(2,8,"outline0 bc")*Math.sqrt(t.size));for(let i=1;i<e;i++){const i=n[t.r.v(0,n.length-1)],e=[i[0][0]+t.r.m(0,1)*(i[1][0]-i[0][0]),i[0][1]+t.r.m(0,1)*(i[1][1]-i[0][1])];e[1]<.5*(i[0][1]+i[1][1])&&t.r.k(t.f.r.p(.5,1.5,"outline0 frontbias"))&&(e[1]=i[1][1]-(e[1]-i[0][1]));const a=[h(t.r.m(0,1)*t.w,0,t.w-0),h(t.r.m(0,1)*t.j,0,t.j-0)],o=s/Math.abs((a[0]-e[0])*(a[1]-e[1]));if(o<1&&(a[0]=e[0]+(a[0]-e[0])*o,a[1]=e[1]+(a[1]-e[1])*o),e[0]>a[0]){const t=e[0];e[0]=a[0],a[0]=t}if(e[1]>a[1]){const t=e[1];e[1]=a[1],a[1]=t}n.push([[Math.floor(e[0]),Math.floor(e[1])],[Math.ceil(a[0]),Math.ceil(a[1])]])}t.X.fillStyle="#FFFFFF";for(let h=0;h<n.length;h++){const s=n[h];t.X.fillRect(s[0][0],s[0][1],s[1][0]-s[0][0],s[1][1]-s[0][1]),t.X.fillRect(t.w-s[1][0],s[0][1],s[1][0]-s[0][0],s[1][1]-s[0][1])}},function(t){const h=Math.max(2,Math.sqrt((t.w-0)*(t.j-0)*.05/Math.PI)),s=Math.ceil((t.w-0)*t.f.r.p(.1,1,"outline1 iw")*.2),i=[],n=Math.floor((t.j-0)/(2*s));for(let h=0;h<n;h++)i.push({Z:[t.G,t.j-(0+s*(2*h+1))],r:s});const e=n+Math.floor(t.r.m(.5,1)*t.f.r.p(10,50,"outline1 cc")*Math.sqrt(t.size));for(let s=n;s<e;s++){const s=i[Math.max(t.r.v(0,i.length-1),t.r.v(0,i.length-1))];let n=t.r.m(1,h);const e=t.r.m(Math.max(0,s.r-n),s.r);let a=t.r.m(0,2*Math.PI);a>Math.PI&&t.r.k(t.f.r.p(.5,1.5,"outline1 frontbias"))&&(a=t.r.m(0,Math.PI));let o=[s.Z[0]+Math.cos(a)*e,s.Z[1]+Math.sin(a)*e];n=Math.min(n,o[0]-0),n=Math.min(n,t.w-0-o[0]),n=Math.min(n,o[1]-0),n=Math.min(n,t.j-0-o[1]),i.push({Z:o,r:n})}t.X.fillStyle="#fff";for(let h=0;h<i.length;h++){const s=i[h];t.X.beginPath(),t.X.arc(s.Z[0],s.Z[1],s.r,0,2*Math.PI),t.X.fill(),t.X.beginPath(),t.X.arc(t.w-s.Z[0],s.Z[1],s.r,0,2*Math.PI),t.X.fill()}},function(t){const h=[t.w-0,t.j-0],s=[[t.G,t.r.m(0,.05)*h[1]+0],[t.G,t.r.m(.95,1)*h[1]+0]],i=6/t.size+t.f.r.p(.03,.1,"outline2 basefatness"),n=Math.max(3,Math.ceil(1/i*t.r.m(.05,.1)*Math.sqrt(t.size)));t.X.lineCap=["round","square"][t.f.r.g(0,1,"outline2 linecap")],t.X.strokeStyle="#fff";for(let e=1;e<n;e++){let n=s[e];null==n&&(n=[t.r.m(0,1)*h[0]+0,Math.pow(t.r.m(0,1),t.f.r.p(.1,1,"outline2 frontbias"))*h[1]+0],s.push(n));const a=1+t.r.B(t.f.r.p(0,1,"outline2 conadjust"),3);for(let h=0;h<a;h++){const h=s[t.r.v(0,s.length-2)];t.X.lineWidth=t.r.m(.7,1)*i*t.size,t.X.beginPath(),t.X.moveTo(h[0],h[1]),t.X.lineTo(n[0],n[1]),t.X.stroke(),t.X.beginPath(),t.X.moveTo(t.w-h[0],h[1]),t.X.lineTo(t.w-n[0],n[1]),t.X.stroke()}}}];class d{constructor(h,s,i){this.J=0,this.T=0,this.V=0,this.W=0,this.f=h,this.R=s,this.seed=this.f.seed+this.R,this.r=new t(this.seed),this.size=null==i?this.r.m(this.f.r.p(2.5,3.5,"size min"),this.f.r.p(5,7,"size max"))**3:i;const n=this.r.m(this.f.r.p(.5,1,"wratio min"),this.f.r.p(1,1.3,"wratio max")),e=this.r.m(this.f.r.p(.7,1,"hratio min"),this.f.r.p(1.1,1.7,"hratio max"));this.w=Math.floor(this.size*n)+0,this.G=Math.floor(this.w/2),this.$=Math.floor((this.w-0)/6),this._=.5*(this.w-6*this.$),this.j=Math.floor(this.size*e)+0,this.U=Math.floor(this.j/2),this.tt=Math.floor((this.j-0)/6),this.ht=.5*(this.j-6*this.tt);const a=document.createElement("canvas");a.width=this.w,a.height=this.j,this.X=a.getContext("2d"),this.st=document.createElement("canvas"),this.st.setAttribute("width",this.w+""),this.st.setAttribute("height",this.j+""),this.P=this.st.getContext("2d"),l[this.f.r.q([1,1,1],"outline type")](this),this.it=this.X.getImageData(0,0,this.w,this.j),this.nt=[];for(let t=0;t<this.$;t++){this.nt[t]=[];for(let h=0;h<this.tt;h++)this.nt[t][h]={et:t,at:h,x:Math.floor(this._+6*(t+.5)),y:Math.floor(this.ht+6*(h+.5)),ot:0}}this.ct=[this.nt[Math.floor(this.$/2)][Math.floor(this.tt/2)]];let o=0;for(;o<this.ct.length;){const t=this.ct[o];if(t.et>0){const h=this.nt[t.et-1][t.at];0==h.ot&&(this.rt(h.x,h.y)>0?(h.ot=1,this.ct.push(h)):h.ot=-1)}if(t.et<this.$-1){const h=this.nt[t.et+1][t.at];0==h.ot&&(this.rt(h.x,h.y)>0?(h.ot=1,this.ct.push(h)):h.ot=-1)}if(t.at>0){const h=this.nt[t.et][t.at-1];0==h.ot&&(this.rt(h.x,h.y)>0?(h.ot=1,this.ct.push(h)):h.ot=-1)}if(t.at<this.tt-1){const h=this.nt[t.et][t.at+1];0==h.ot&&(this.rt(h.x,h.y)>0?(h.ot=1,this.ct.push(h)):h.ot=-1)}o++}for(let t=0;t<this.ct.length;t++){const h=this.ct[t],s=this.nt[this.$-1-h.et][h.at];1!=s.ot&&(s.ot=1,this.ct.push(s))}this.Mt=this.f.r.g(1,2,"base component passes"),this.ft=Math.max(1,Math.floor(this.ct.length*this.f.r.p(0,1/this.Mt,"extra component amount"))),this.ut=this.Mt*this.ct.length+this.ft;let c=!1;do{c=this.lt()}while(!c)}dt(t,h){const s=Math.floor((t-this._)/6),i=Math.floor((h-this.ht)/6);return s<0||s>=this.$||i<0||i>=this.tt?null:this.nt[s][i]}Y(t,h){const s=this.dt(t,h);return null==s?0:s.ot}rt(t,h){return t=Math.floor(t),h=Math.floor(h),t<0||t>this.w||h<0||h>this.j?-1:this.it.data[4*(h*this.w+t)+3]}L(){return this.W/this.ut}lt(){let t;if(this.T<this.Mt)this.V<this.ct.length?(t=this.ct[this.V],this.V++):(this.T++,t=this.ct[0],this.V=1);else{if(!(this.J<this.ft))return!0;t=this.ct[this.r.v(0,this.ct.length-1)],this.J++}let h=[t.x,t.y];for(let s=0;s<10;s++){const s=[t.x+this.r.v(-6,6),t.y+this.r.v(-6,6)];if(!(s[0]<0||s[0]>this.w-0||s[1]<0||s[1]>this.j-0||this.rt(s[0],s[1])<=0)){h=s;break}}return Math.abs(h[0]-this.G)<6&&this.r.k(this.f.r.p(0,1,"com middleness"))&&(h[0]=this.G),u[this.r.O(this.f.S)](this,h),this.W++,!1}}function m(t){return new a(t)}function b(t,h,s){const i=new d(t,h,s);var n;return(n=i).P.clearRect(n.G+n.w%2,0,n.w,n.j),n.P.scale(-1,1),n.P.drawImage(n.st,0-n.w,0),i}function p(t){const h=function(t,h,s,i){const n=Math.floor(t/s),e=Math.floor(h/s),a=[],o=Math.floor(h/(2*e));for(let s=0;s<e;s++){const i=s%2==0?n:n-1,c=Math.floor(s%2==0?t/(2*n):t/n);for(let r=0;r<i;r++)a.push([c+Math.round((r+1*(Math.random()-.5))*t/n),o+Math.round((s+1*(Math.random()-.5))*h/e)])}return a}(t.width,t.height,Math.max(12,Math.floor(Math.min(t.width,t.height)/12))),s=t.getContext("2d"),i=t.width,n=t.height,e=s.getImageData(0,0,i,n),a=h.map((t=>({bt:1e9,vt:1e9,gt:0,wt:0,xt:t,points:[]})));for(let t=0;t<n;t++)for(let s=0;s<i;s++){const n=4*(t*i+s);if(0===e.data[n+3])continue;let o,c=1e9;for(let i=0;i<h.length;i++){const n=Math.hypot(h[i][0]-s,h[i][1]-t);n<c&&(c=n,o=i)}const r=a[o];s<r.bt&&(r.bt=s),s>r.gt&&(r.gt=s),t<r.vt&&(r.vt=t),t>r.wt&&(r.wt=t),r.points.push([s,t,e.data[n],e.data[n+1],e.data[n+2],e.data[n+3]])}const o=[];return a.forEach((t=>{if(t.bt<1e9){const h=t.gt-t.bt+1,s=t.wt-t.vt+1,i=document.createElement("canvas");i.width=h,i.height=s;const n=i.getContext("2d"),e=n.createImageData(h,s);t.points.forEach((s=>{const i=4*((s[1]-t.vt)*h+(s[0]-t.bt));e.data[i]=s[2],e.data[i+1]=s[3],e.data[i+2]=s[4],e.data[i+3]=s[5]})),n.putImageData(e,0,0),o.push({xt:t.xt,canvas:i,yt:[t.bt,t.vt]})}})),o}function v(t,h,s){const i=1.5+1.5*Math.random(),n=t.xt[0]-h/2,e=t.xt[1]-s/2,a=Math.sqrt(n*n+e*e),o=a*a,c=a*i;t.kt=(c-a)*Math.sqrt((o-e*e)/o)*(n>0?1:-1),t.Ht=(c-a)*Math.sqrt((o-n*n)/o)*(e>0?1:-1),t.angle=(720*Math.random()-360)/((Math.random()+2)*t.canvas.width)*10*(Math.PI/180)}function g(t){const h=t.getContext("2d");let s=t.width,i=t.height;const n=h.getImageData(0,0,s,i),e=function(t,h,s){for(let i=0;i<s;i++)for(let s=0;s<h;s++)if(t.data[4*(i*h+s)+3]>0)return i;return-1}(n,s,i),a=function(t,h,s){for(let i=s-1;i>=0;i--)for(let s=0;s<h;s++)if(t.data[4*(i*h+s)+3]>0)return i;return-1}(n,s,i),o=function(t,h,s){for(let i=0;i<h;i++)for(let n=0;n<s;n++)if(t.data[4*(n*h+i)+3]>0)return i;return-1}(n,s,i),c=function(t,h,s){for(let i=h-1;i>=0;i--)for(let n=0;n<s;n++)if(t.data[4*(n*h+i)+3]>0)return i;return-1}(n,s,i);if(e<0)return t.width=0,t.height=0,[0,0];s=1+c-o,i=1+a-e;const r=h.getImageData(o,e,s,i);return t.width=s,t.height=i,h.putImageData(r,0,0),[o,e]}function w(t){const h=document.createElement("canvas"),{width:s,height:i}=t;h.width=s,h.height=i;const n=t.getContext("2d").getImageData(0,0,s,i),{data:e}=n,{length:a}=e;for(let t=0;t<a;t+=4){const h=e[t+0],s=e[t+1],i=e[t+2];e[t+0]=255-(.393*h+.769*s+.189*i),e[t+1]=255-(.349*h+.686*s+.168*i),e[t+2]=255-(.272*h+.534*s+.131*i)}return h.getContext("2d").putImageData(n,0,0),h}function x(t){const h=document.createElement("canvas");h.width=Math.floor(2*z),h.height=Math.floor(2*T);const s=h.getContext("2d"),i=h.width/2-15,n=h.height/2-30;s.setTransform(1.5,0,0,T/z*1.5,0,0);const e=s.createRadialGradient(i,n,10,i,n,30-3*t);return e.addColorStop(0,"transparent"),e.addColorStop(.7,"blue"),e.addColorStop(1,"cyan"),s.fillStyle=e,s.beginPath(),s.arc(i,n,z/2,0,7),s.fill(),g(h),h}function y(t){const h=document.createElement("canvas");h.width=20,h.height=20;const s=h.getContext("2d");var i=s.createRadialGradient(10,10,0,10,10,10);return i.addColorStop(t,"yellow"),i.addColorStop(1,"red"),s.fillStyle=i,s.beginPath(),s.arc(10,10,10,0,7),s.fill(),h}function k(t){const h=document.createElement("canvas");h.width=t.width,h.height=t.height;const s=h.getContext("2d");return s.scale(1,-1),s.drawImage(t,0,0,t.width,-t.height),h}const H=480,F=700,B=240,C=350;let O,q,S=!1,D=!1,N=-1,I=-1,K=-1,A=-1,Q=-1,j=-1,G={},U=!1,L=document.getElementById("a");const P=b(m("piBbgDn4CZqlkqiF"),"ie7jMyCFouoUjkVs",60).st;g(P);const Y=p(P),z=P.width,T=P.height,X=P.getContext("2d").getImageData(0,0,z,T).data;let Z,E,J,V,W,R=[O,q,z,T,X];!function(t){const h=document.createElement("canvas");h.width=32,h.height=32;const s=h.getContext("2d");let i,n;t.width>t.height?(i=32,n=32*t.height/t.width):(n=32,i=32*t.width/t.height),s.drawImage(t,0,0,i,n);const e=document.createElement("link");e.setAttribute("rel","icon"),e.setAttribute("href",h.toDataURL()),document.head.appendChild(e)}(P);const $=function(){const t=[];for(let h=0;h<5;h++)t.push(x(h));return t}(),_=[],[tt,ht]=function(){const t=document.createElement("canvas");t.width=20,t.height=60;const h=t.getContext("2d");return h.fillStyle="yellow",h.beginPath(),h.moveTo(10,60),h.lineTo(20,10),h.arc(10,10,10,0,Math.PI,!0),h.lineTo(10,60),h.fill(),h.strokeStyle="cyan",h.shadowColor="blue",h.globalCompositeOperation="source-atop",h.shadowBlur=4,h.lineWidth=10,h.beginPath(),h.moveTo(10,70),h.lineTo(23,10),h.arc(10,10,13,0,Math.PI,!0),h.lineTo(10,70),h.stroke(),[t,h.getImageData(0,0,t.width,t.height).data]}(),st=function(){const t=[];for(let h=0;h<9;h++)t.push(y(h/10));for(let h=t.length-2;h>=1;h--)t.push(t[h]);return t}(),it=st[0].getContext("2d").getImageData(0,0,st[0].width,st[0].height).data,[nt,et]=function(){const t=document.createElement("canvas");t.width=60,t.height=60;const h=t.getContext("2d");var s=h.createRadialGradient(30,30,0,30,30,30);return s.addColorStop(.6,"navy"),s.addColorStop(1,"blue"),h.fillStyle=s,h.beginPath(),h.arc(30,30,30,0,7),h.fill(),[t,h.getImageData(0,0,t.width,t.height).data]}();let at,ot,ct,rt=performance.now(),Mt=0;const ft=JSON.parse(self.localStorage.pnf_highscores||0)||[];let ut=-1;const lt=function(){const t=document.createElement("canvas");t.width=100,t.height=100;const h=t.getContext("2d");h.font="bold 20px Helvetica",h.translate(50,50),h.rotate(-Math.PI/2),h.fillStyle="red",h.fillStyle="#fff",h.textAlign="center",h.textBaseline="middle",h.fillText("NEW!",0,0),g(t);const s=document.createElement("canvas");s.width=t.width+10,s.height=t.height+10;const i=s.getContext("2d");return i.fillStyle="red",i.fillRect(0,0,s.width,s.height),i.drawImage(t,5,5),s}();function dt(t){ot+=t,ct=(new Intl.NumberFormat).format(ot)}function mt(){const t=Math.max(400,1e3-25*at);Qt+=Kt.v(t,t+400)}let bt,pt,vt,gt;function wt(t){const h=t[0];g(h);const s=h.getContext("2d").getImageData(0,0,h.width,h.height).data,i=w(h),n=p(h);t[1]=s,t[2]=i,t[3]=n}const xt=[["c4pf4K5xHzu4CyZM","Wl9w64KNQvFNbbbU",50,10,.35,0,[]],["VTjHVRDIYTbXk766","a3QM5c7MnbQlWns3",80,30,.27,0,[]],["1fOXvyryYCvwBWPL","I4xttvPYWxB1So2A",230,80,.2,6,[]],["VsM4qdcBSiuCPDGJ","q4D72OvJMb23kSZC",60,20,.4,0,[]],["l4pyu8yF0mt84Q4u","jPU5GcKNpf2JMgoG",100,40,.35,0,[[C]]],["NMp3mtsPHIwzMKYk","dBzvSKo7wpema3S5",220,90,.22,9,[]],["o67yOby6izpasGgo","fyKKupDEId96qQHu",70,20,.5,0,[[C]]],["IU7xqL8UqZIXJQDQ","aVBO8buAfBbQ4DOY",100,40,.35,0,[[C,6]]],["LP6kUeGMn7S5xZzi","p5O7jAQK67mDULTD",230,100,.25,14,[]],["SsSvCKpjLVTGITYH","aOEjI2Owpqpl06ex",65,30,.5,0,[[C]]],["AGUwhB1E94wgKe49","pwUtokX7oS7ZKFK1",110,50,.35,6,[[C,6]]],["qRF6GA3xnzX0lMcH","RIdNudvB6T2ro7C3",240,120,.3,22,[]]];function yt(t,h){const s=t[0]-t[2]/2<h[0]-h[2]/2?[t,h]:[h,t],i=t[1]-t[3]/2<h[1]-h[3]/2?[t,h]:[h,t];if(s[0][0]+s[0][2]/2>s[1][0]-s[1][2]/2&&i[0][1]+i[0][3]/2>i[1][1]-i[1][3]/2){const n=Math.floor(s[1][0]-s[1][2]/2),e=Math.floor(i[1][1]-i[1][3]/2),a=Math.floor(Math.min(s[0][0]+s[0][2]/2,s[1][0]+s[1][2]/2))-n,o=Math.floor(Math.min(i[0][1]+i[0][3]/2,i[1][1]+i[1][3]/2))-e,c=n-Math.floor(t[0]-t[2]/2),r=e-Math.floor(t[1]-t[3]/2),M=n-Math.floor(h[0]-h[2]/2),f=e-Math.floor(h[1]-h[3]/2);for(let s=0;s<o;s++)for(let i=0;i<a;i++)if(t[4][4*((r+s)*t[2]+c+i)+3]>0&&h[4][4*((f+s)*h[2]+M+i)+3]>0)return!0}return!1}const kt=[["F","orange",t=>{J=t+6500}],["S","cyan",()=>{W++}],["B","red",t=>{V=t+1e3,Qt+=1500}]];class Ht{constructor(t,h,s,i){this.x=t,this.y=h,this.type=s,this.Ft=i,this.frame=0,this.Bt=!0}Ct(t,h,s){if(this.y+=5*(s-this.Ft)/32,this.frame=(this.frame+1)%50,!Z&&yt(R,[this.x,this.y,nt.width,nt.height,et]))return kt[this.type][2](s),!1;if(this.y-Math.floor(nt.height/2)>F)return!1;this.Ft=s,h.save(),h.translate(this.x,this.y),h.drawImage(nt,-Math.floor(nt.width/2),-Math.floor(nt.height/2)),h.textAlign="center",h.textBaseline="top";let i=65;i+=this.frame<25?this.frame:50-this.frame,h.font="700 "+Math.floor(i/2)+"px Helvetica";const n=h.measureText(kt[this.type][0]),e=n.actualBoundingBoxDescent-n.actualBoundingBoxAscent;return h.fillStyle=kt[this.type][1],h.fillText(kt[this.type][0],0,-Math.floor(e/2)),h.restore(),!0}}class Ft{constructor(t,h,s){this.x=t,this.y=h,this.Ft=s,this.Ot=10}Ct(t,h,s){this.y-=20*(s-this.Ft)/32;const i=[this.x,this.y,tt.width,tt.height,ht];for(let h=0;h<t.length;h++){const n=t[h];if(yt(i,n.qt))return n.St(this.Ot,s),!1}return!(this.y+Math.floor(tt.height/2)<0||(this.Ft=s,h.drawImage(tt,this.x-Math.floor(tt.width/2),this.y-Math.floor(tt.height/2)),0))}}class Bt{constructor(t,h,s,i,n){this.time=n,this.xt=t.xt,this.canvas=t.canvas,this.yt=t.yt,this.kt=t.kt,this.Ht=t.Ht,this.angle=t.angle,this.Dt=h,this.Nt=s,this.duration=i}Ct(t,h,s){const i=s-this.time;if(i>this.duration)return!1;const n=this.Dt+this.xt[0]+this.kt*Math.min(i,this.duration)/this.duration,e=this.Nt+this.xt[1]+this.Ht*Math.min(i,this.duration)/this.duration;return h.save(),h.globalAlpha=1-(Math.min(i,this.duration)/this.duration)**2,h.translate(n,e),h.rotate(this.angle*Math.min(i,this.duration)/this.duration),h.drawImage(this.canvas,this.yt[0]-this.xt[0],this.yt[1]-this.xt[1]),h.restore(),!0}}class Ct{constructor(t,h,s,i,n,e){this.width=st[0].width,this.height=st[0].height,this.x=t,this.y=h;const a=Math.sqrt((s-t)**2+(i-h)**2);this.It=(s-t)/a,this.Kt=(i-h)/a,this.Ft=e,this.speed=n,this.frame=0,this.Bt=!0,this.At()}Ct(t,h,s){if(V>s)return!1;const i=s-this.Ft;if(this.y+=i*this.speed*this.Kt,this.x+=i*this.speed*this.It,this.At(),yt(R,this.qt)){if(W)return W--,!1;Z=!0}return!(this.y-Math.floor(this.height/2)>F||this.y+Math.floor(this.height/2)<0||this.x-Math.floor(this.width/2)>H||this.x+Math.floor(this.width/2)<0||(this.Ft=s,this.frame=(this.frame+1)%st.length,h.drawImage(st[this.frame],this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),0))}At(){this.qt=[this.x,this.y,this.width,this.height,it]}}function Ot(t,h,s,i,n,e){const a=[];for(let o=0;o<t;o++){const c=i+2*o*Math.PI/t;a.push(new Ct(h,s,h+Math.round(100*Math.cos(c)),s+Math.round(100*Math.sin(c)),n,e))}return a}class qt{constructor(t,h,s,i,n,e,a,o,c,r,M,f){this.Qt=Kt.m(0,2*Math.PI),this.canvas=t,this.mask=h,this.jt=s,this.width=t.width,this.height=t.height,this.Gt=o,this.x=n,this.y=e,this.Ft=f,this.Ut=0,this.Lt=i,this.speed=a,this.points=c,this.Pt=r,this.Yt=M,this.At()}Ct(t,h,s){const i=this.y;let n=!1;if(this.Gt<=0||V>s?n=!0:(this.y+=(s-this.Ft)*this.speed,this.At(),yt(R,this.qt)&&(W?(W--,n=!0):Z=!0)),n)return dt(this.points),(this.Pt>0?Ot(this.Pt,this.x,this.y+Math.round(17*this.speed),this.Qt,.45,s):[]).concat(this.Lt.map((t=>(v(t,this.width,this.height),new Bt(t,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),500,s)))));if(this.y-Math.floor(this.height/2)>F)return!1;this.Ft=s;const e=s-this.Ut;let a=0;if(e<400&&(a=(400-e)/400),h.save(),h.drawImage(this.canvas,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),a>0&&(h.globalAlpha=a,h.drawImage(this.jt,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height)),h.restore(),!Z)for(let t=0;t<this.Yt.length;t++){const h=this.Yt[t][0];if(i<h&&this.y>h){const h=this.Yt[t][1],i=this.y+Math.round(17*this.speed);return h?[this,...Ot(h,this.x,i,this.Qt,.3,s)]:[this,new Ct(this.x,i,O,q,.3,s)]}}return!0}At(){this.qt=[this.x,this.y,this.width,this.height,this.mask]}St(t,h){this.Ut=h,this.Gt-=t}}class St{constructor(t,h){this.ot=0,this.zt=h+2e3,this.Gt=Number.MAX_SAFE_INTEGER,this.Ft=h,this.width=bt.width,this.height=bt.height,this.x=B,this.y=-this.height/2,this.direction=0,this.Ut=0,this.level=t,this.At()}Ct(t,h,s){let i=!1;if(this.Gt<=0)i=!0;else{const t=s-this.Ft;0===this.ot?s>this.zt&&(this.ot=1):1===this.ot?(this.y+=.15*t,this.y>150&&(this.y=150,this.Gt=100+250*this.level,this.ot=2,this.Tt=s,this.Xt=0)):0===this.direction?(this.x+=.1*t,this.x+Math.floor(this.width/2)>H&&(this.x=H-Math.floor(this.width/2),this.direction=1)):(this.x-=.1*t,this.x-Math.floor(this.width/2)<0&&(this.x=Math.floor(this.width/2),this.direction=0)),this.At(),yt(R,this.qt)&&(Z=!0)}if(i)return dt(500*at),Lt=!1,jt=s+1e4,Qt=500+s,mt(),Gt=500+s,gt.map((t=>(v(t,this.width,this.height),new Bt(t,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),500,s))));this.Ft=s;const n=s-this.Ut;let e=0;if(n<400&&(e=(400-n)/400),h.save(),h.drawImage(bt,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height),e>0&&(h.globalAlpha=e,h.drawImage(vt,this.x-Math.floor(this.width/2),this.y-Math.floor(this.height/2),this.width,this.height)),h.restore(),!Z&&2===this.ot&&this.Tt<s){const t=[];if(this.Xt<5*this.level){let h,i;switch(Math.floor(this.Xt/this.level)){case 0:h=28,i=119;break;case 1:h=42,i=123;break;case 2:h=108,i=94;break;case 3:h=121,i=80;break;default:h=143,i=50}t.push(new Ct(this.x-h,this.y+i,this.x-h,this.y+i+100,.5,s)),t.push(new Ct(this.x+h,this.y+i,this.x+h,this.y+i+100,.5,s))}else t.push(new Ct(this.x,this.y+125,O,q,.3,s));return this.Xt++,this.Xt>=10*this.level?(this.Xt=0,this.Tt=s+800):this.Tt=this.Xt>5*this.level?s+200:this.Xt===5*this.level?s+800:this.Xt%this.level?s+180:s+500,[this,...t]}return!0}At(){this.qt=[this.x,this.y,this.width,this.height,pt]}St(t,h){this.Ut=h,this.Gt-=t}}let Dt,Nt,It,Kt,At,Qt,jt,Gt,Ut,Lt,Pt,Yt=5;self.onload=h=>{L.width=H,L.height=F,L.getContext("2d"),requestAnimationFrame((function h(s){(function(h){switch(Mt){case 0:case 1:!function(h){const s=L.getContext("2d");s.fillStyle="#000",s.fillRect(0,0,H,F),s.fillStyle="#fff";let i=(h-rt)/3e3;s.save();for(let t=200;t--;){let h=50/(6-(i+t/13)%6);s.globalAlpha=Math.min(h/100,1),s.beginPath(),s.arc(Math.cos(t)*h+B,Math.sin(t*t)*h+C,h/200,0,7),s.fill()}if(s.restore(),s.textBaseline="middle",s.textAlign="center",1===Mt){if(0===ft.length)s.font="bold 40px Helvetica",s.fillText("PLANET NOT FOUND",B,C);else{s.font="bold 30px Helvetica",s.fillText("HIGH SCORES",B,100),s.save(),s.textAlign="start",s.textBaseline="top";for(let t=0;t<ft.length;t++){t===ut?(s.save(),s.translate(90,185+80*t),s.drawImage(lt,-Math.floor(lt.width/2),-Math.floor(lt.height/2)),s.restore(),s.fillStyle="gold"):s.fillStyle="#fff";const h=Intl.NumberFormat().format(ft[t][0]),i=new Date(ft[t][1]).toLocaleString();s.font="50px Helvetica",s.fillText(t+1+"",115,160+80*t),s.font="60px Helvetica",s.fillText("{",145,150+80*t),s.font="25px Helvetica",s.fillText(h+" points",170,160+80*t),s.font="15px Helvetica",s.fillText(i,170,190+80*t)}s.restore()}s.font="20px Helvetica",s.fillText("<Press anywhere or any key to play>",B,670),S||U?D||(Mt=2,at=0,Kt=new t("enemy"),At=new t("powerup"),Qt=1e3,jt=5e3,Gt=9e3,Ut=0,It=0,Dt=[],Nt=[],rt=performance.now(),Pt=performance.now(),ot=0,dt(0),Z=!1,O=B,q=630,J=0,V=0,W=1,Lt=!1,ut=-1):D=!1}else if(s.font="italic 30px Helvetica",s.fillText("Loading…",B,C),bt)if(_.length<xt.length)_.push(function(t,h,s,...i){return[k(b(m(t),h,s).st),void 0,void 0,void 0,...i]}(...xt[_.length]));else{let t=!0;for(let h=0;t&&h<_.length;h++)_[h][1]||(t=!1,wt(_[h]));t&&(Mt=1)}else bt=k(b(m("HYj7ADLjQr6icLtO"),"CdiB9N2ZoQWuAxur",270).st),g(bt),vt=w(bt),gt=p(bt),pt=bt.getContext("2d").getImageData(0,0,bt.width,bt.height).data}(h);break;case 2:!function(t){const h=t-Pt;if(Pt=t,h>160)return rt+=h,void(G={});if(!Z){const t=.6*h,s=G.ArrowUp||G.KeyW,i=G.ArrowDown||G.KeyS,n=G.ArrowLeft||G.KeyA,e=G.ArrowRight||G.KeyD;if(s||i||n||e){const h=(s||i)&&(n||e)?Math.sqrt(t**2/2):t;s&&(q-=h),i&&(q+=h),n&&(O-=h),e&&(O+=h),Q=O,j=q}else{let h=Q-O,s=j-q;const i=Math.sqrt(h**2+s**2);i<t?(O=Q,q=j):(O+=h/i*t,q+=s/i*t)}O-Math.floor(z/2)<0?O=Math.floor(z/2):O+Math.floor(z/2)>H&&(O=H-Math.floor(z/2)),q-Math.floor(T/2)<0?q=Math.floor(T/2):q+Math.floor(T/2)>F&&(q=F-Math.floor(T/2)),R=[O,q,z,T,X]}const s=L.getContext("2d");let i;s.fillStyle="#000",s.fillRect(0,0,H,F),s.fillStyle="#777";for(let h=100;h--;s.beginPath(),s.arc(Math.floor(-60*(100-h)*(O-z/2)/(100*(H-z)))+102797*(1+Math.sin(i))*h%540,F*(Math.tan(h/9)+i*(t-rt)/3e3)%F,2*i,0,7),s.fill())i=149/(3*h+199);const n=Z,e=[],a=[],o=[];function c(h){const i=h.Ct(Nt,s,t-rt);"boolean"==typeof i?i&&(h.Bt?a.push(h):e.push(h),h.St&&o.push(h)):Array.isArray(i)&&i.forEach((t=>{h===t?i&&(h.Bt?a.push(h):e.push(h),h.St&&o.push(h)):c(t)}))}if(Dt.forEach(c),!n&&Z&&(E=t-rt,Y.map((h=>(v(h,z,T),new Bt(h,O-Math.floor(z/2),q-Math.floor(T/2),1500,t-rt)))).forEach(c)),Dt=e.concat(a),Nt=o,s.fillStyle="#fff",s.textAlign="center",Z)s.save(),s.globalAlpha=Math.min(1,(t-rt-E)/2e3),s.textBaseline="middle",s.font="40px Helvetica",s.fillText("Game Over",B,C),s.restore();else{if(W){const t=$[Math.min(W-1,$.length-1)];s.drawImage(t,O-Math.floor(t.width/2),q-Math.floor(t.height/2)+5)}s.drawImage(P,O-Math.floor(z/2),q-Math.floor(T/2))}V>t-rt&&(s.save(),s.globalAlpha=(V-t+rt)/1e3,s.fillStyle="#fff",s.fillRect(0,0,H,F),s.restore()),s.textBaseline="top",s.font="16px Helvetica",s.fillText(ct,B,5);const r=J>t-rt;if(!Z&&It+(r?100:200)<t-rt&&(Yt=-Yt,Dt.push(new Ft(O+(r?Yt:0),q-Math.floor(T/2),t-rt)),It=Math.max(t-rt)),jt<t-rt&&!Lt&&(at++,at%5?jt=t-rt+1e4:(Lt=!0,Dt.push(new St(Math.floor(at/5),t-rt)))),Gt<t-rt&&!Lt&&(Dt.push(new Ht(At.v(30,450),Math.floor(-nt.height/2),Ut,t-rt)),Ut=(Ut+1)%kt.length,Gt=t-rt+9e3),Qt<t-rt&&!Lt){const h=Kt.v(Math.min(Math.max(at-2,0),_.length-3),Math.min(at,_.length-1)),[s,i,n,e,a,o,c,r]=_[h];Dt.push(new qt(s,i,n,e,Kt.v(30,450),Math.floor(-s.height/2),o,a,50*(h+1),c,r,t-rt)),mt()}Z&&E+3500<t-rt&&(function(){if(ot){const t=[ot,Date.now()];ft.push(t),ft.sort(((t,h)=>{const s=h[0]-t[0];return 0===s?h[1]-t[1]:s})),ft.length=Math.min(ft.length,5),ut=ft.indexOf(t),self.localStorage.pnf_highscores=JSON.stringify(ft)}}(),Mt=1,D=S)}(h)}U=!1})(s),requestAnimationFrame(h)}))};let zt=t=>{let h,s,i,n;L.offsetWidth/L.offsetHeight>.6857142857142857?(s=0,n=L.offsetHeight,i=n*H/F,h=Math.floor(L.offsetWidth-i)/2):(h=0,i=L.offsetWidth,n=i*F/H,s=Math.floor(L.offsetHeight-n)/2);let e={};return e=t.changedTouches?t.changedTouches[0]:t,[Math.floor((e.pageX-h)*H/i),Math.floor((e.pageY-s)*F/n)]};self.ontouchstart=self.onpointerdown=t=>{t.preventDefault(),S=!0,[N,I]=zt(t),Q=N,j=I},self.ontouchmove=self.onpointermove=t=>{t.preventDefault(),[Q,j]=zt(t)},self.ontouchend=self.onpointerup=t=>{t.preventDefault(),S=!1,[K,A]=zt(t)},self.onkeydown=t=>{U=!0,G[t.code]=1,t.preventDefault()},self.onkeyup=t=>{G[t.code]=0,t.preventDefault()}}();</script></body></html>