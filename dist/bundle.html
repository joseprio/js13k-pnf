<!doctype html><title>Planet Not Found</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1.01"><style>*{width:100%;height:100%;margin:0;padding:0;touch-action:none;user-select:none;object-fit:contain}body{background:#000;overflow:hidden;display:flex;align-items:center;justify-content:center}</style><canvas id=g></canvas><script>let t=require("canvas-utils");class e{constructor(t){this.t=0,this.l=0,this.h={},this.seed=t,8>this.seed.length&&(this.seed="padding_"+this.seed),this.seed.length%2==0&&(this.seed="1"+this.seed),this.i=[2972948403,3086140710,2071788248,3026137486,1411764137,2265725585,2923087685,1593177610],this.o=3234042090;for(let t=this.seed.length-1;t>=0;t--){let e=this.seed.charCodeAt(t);this.o=((this.o<<5)+this.o^e^this.o<<e%13+1^this.o>>e%17+1)>>>0,this.i[t%8]^=((this.o>>9)*(this.o%16384+3427)^e)>>>0}}M(){let t=this.seed.charCodeAt(this.t),e=this.i[this.l];return this.o=((this.o<<5)+this.o+e^t^this.o<<t%17+1^this.o>>t%13+1)>>>0,this.i[this.l]=(e>>3^e<<t%19+1^this.o%134217728*3427)>>>0,this.t=(this.t+1)%this.seed.length,this.l=(this.l+1)%8,this.o}u(t){let e=[1160605769,1424711319,876532818,1419174464],a=1206170165;if(t||(t="?/?/?/",a=3379896793),this.h[t])return this.h[t];for(let l=t.length-1;l>=0;l--){let h=t.charCodeAt(l),r=e[0]^h;r=(r^r<<11)>>>0,r=(r^r>>8)>>>0,e[0]=e[1],e[1]=e[2],e[2]=e[3],e[3]=(e[3]^e[3]>>19^r)>>>0,a=3427*(a^h<<24)^e[3]}for(let t=this.seed.length-1;t>=0;t--){let l=this.seed.charCodeAt(t),h=e[0]^l;h=(h^h<<11)>>>0,h=(h^h>>8)>>>0,e[0]=e[1],e[1]=e[2],e[2]=e[3],e[3]=(e[3]^e[3]>>19^h)>>>0,a=3427*(a^l<<24)^e[3]}return this.h[t]=a>>>0,this.h[t]}m(t,e){return(4294967296*this.M()+this.M())/0x10000000000000000*(e-t)+t}p(t,e){return Math.floor(this.m(t,e+1))}v(t){return this.m(0,1)<t}g(t,e,a){return(4294967296*this.u(a)+this.u(a+"@"))/0x10000000000000000*(e-t)+t}H(t,e,a){return Math.floor(this.g(t,e+1,a))}k(t,e){return this.g(0,1,e)<t}S(t){return this.v(t)?-1:1}q(t,e){let a=0;for(;this.v(t)&&e>a;)a++;return a}D(t,e,a){let l=0;for(;(4294967296*this.u(a+l)+this.u(a+"@"+l))/0x10000000000000000<t&&e>l;)l++;return l}K(t){let e=0;for(let a=0;t.length>a;a++)e+=t[a];let a=this.m(0,e);for(let e=0;t.length>e;e++)if(a-=t[e],0>a)return e;return 0}O(t,e){let a=0;for(let e=0;t.length>e;e++)a+=t[e];let l=this.g(0,a,e);for(let e=0;t.length>e;e++)if(l-=t[e],0>l)return e;return 0}}function a(t,e,a){return Math.max(e,Math.min(a,t))}function l(t,e){return`rgb(${t.map(t=>t*e*100).join("%,")}%)`}function h(t,e,a){let l=(l,h=(l+6*t)%6)=>a-a*e*Math.max(Math.min(h,4-h,1),0);return[l(5),l(3),l(1)]}function r(t,r,i){return((t,r,i)=>{let n=(t=>{let e=[];return e[0]=.8*t.m(.001,1)*2**t.m(0,8),e[1]=.9*t.m(.01,1)*2**t.m(0,8),e[2]=1*t.m(.001,1)*2**t.m(0,8),e[3]=3*t.m(0,1)*2**t.m(0,8),e[4]=.5*t.m(0,1)*2**t.m(0,8),e[5]=.05*t.m(0,1)*2**t.m(0,8),e[6]=.5*t.m(0,1)*2**t.m(0,8),e})(t),o=[],f=[],M=1+(t.k(.7,"base color +1")?1:0)+t.D(.3,3,"base color count");for(let e=0;M>e;e++){let l="base color"+e;o.push(h(t.g(0,1,l+"hue")**2,a(t.g(-.2,1,l+"saturation"),0,t.g(0,1,l+"saturation bound")**4),a(t.g(.7,1.1,l+"value"),0,1))),f.push(2**t.g(0,6,l+"chances"))}let s=new e(t.seed+r);function c(){let e=o[s.K(f)];return s.v(t.g(0,.5,"base color shift chance")**2)&&(e=[e[0],e[1],e[2]],e[0]=a(e[0]+t.g(0,.6,"base color shift range red")**2*a(s.m(-1,1.2),0,1)*a(s.S(.7)+s.S(.7),-1,1),0,1),e[1]=a(e[1]+t.g(0,.6,"base color shift range green")**2*a(s.m(-1,1.2),0,1)*a(s.S(.7)+s.S(.7),-1,1),0,1),e[2]=a(e[2]+t.g(0,.6,"base color shift range blue")**2*a(s.m(-1,1.2),0,1)*a(s.S(.7)+s.S(.7),-1,1),0,1)),e}i=i||s.m(t.g(2.5,3.5,"size min"),t.g(5,7,"size max"))**3;let u=s.m(t.g(.5,1,"wratio min"),t.g(1,1.3,"wratio max")),m=s.m(t.g(.7,1,"hratio min"),t.g(1.1,1.7,"hratio max")),d=Math.floor(i*u),b=Math.floor(d/2),p=Math.floor(d/6),v=(d-6*p)/2,g=Math.floor(i*m),w=Math.floor(g/2),x=Math.floor(g/6),y=(g-6*x)/2,H=document.createElement("canvas");H.width=d,H.height=g;let k=H.getContext("2d"),S=d*g/20;[()=>{let e=Math.ceil(d*t.g(.1,1,"outline0 iw")/5),l=[[[b-e,0],[b+e,g]]],h=2+Math.floor(s.m(.5,1)*t.g(2,8,"outline0 bc")*i**.5);for(let e=1;h>e;e++){let e=l[s.p(0,l.length-1)],h=[e[0][0]+s.m(0,1)*(e[1][0]-e[0][0]),e[0][1]+s.m(0,1)*(e[1][1]-e[0][1])];(e[0][1]+e[1][1])/2>h[1]&&s.v(t.g(.5,1.5,"outline0 frontbias"))&&(h[1]=e[1][1]-(h[1]-e[0][1]));let r=[a(s.m(0,1)*d,0,d),a(s.m(0,1)*g,0,g)],i=S/Math.abs((r[0]-h[0])*(r[1]-h[1]));if(1>i&&(r[0]=h[0]+(r[0]-h[0])*i,r[1]=h[1]+(r[1]-h[1])*i),h[0]>r[0]){let t=h[0];h[0]=r[0],r[0]=t}if(h[1]>r[1]){let t=h[1];h[1]=r[1],r[1]=t}l.push([[Math.floor(h[0]),Math.floor(h[1])],[Math.ceil(r[0]),Math.ceil(r[1])]])}k.fillStyle="#fff";for(let t=0;l.length>t;t++){let e=l[t];k.fillRect(e[0][0],e[0][1],e[1][0]-e[0][0],e[1][1]-e[0][1]),k.fillRect(d-e[1][0],e[0][1],e[1][0]-e[0][0],e[1][1]-e[0][1])}},()=>{let e=Math.max(2,(S/Math.PI)**.5),a=Math.ceil(d*t.g(.1,1,"outline1 iw")/5),l=[],h=Math.floor(g/(2*a));for(let t=0;h>t;t++)l.push({B:[b,g-a*(2*t+1)],r:a});let r=h+Math.floor(s.m(.5,1)*t.g(10,50,"outline1 cc")*i**.5);for(let a=h;r>a;a++){let a=l[Math.max(s.p(0,l.length-1),s.p(0,l.length-1))],h=s.m(1,e),r=s.m(Math.max(0,a.r-h),a.r),i=s.m(0,2*Math.PI);i>Math.PI&&s.v(t.g(.5,1.5,"outline1 frontbias"))&&(i=s.m(0,Math.PI));let n=[a.B[0]+Math.cos(i)*r,a.B[1]+Math.sin(i)*r];h=Math.min(h,n[0],d-n[0],n[1],g-n[1]),l.push({B:n,r:h})}k.fillStyle="#fff";for(let t=0;l.length>t;t++){let e=l[t];k.beginPath(),k.arc(e.B[0],e.B[1],e.r,0,7),k.fill(),k.beginPath(),k.arc(d-e.B[0],e.B[1],e.r,0,7),k.fill()}},()=>{let e=[[b,s.m(0,.05)*g],[b,s.m(.95,1)*g]],a=6/i+t.g(.03,.1,"outline2 basefatness"),l=Math.max(3,Math.ceil(s.m(.05,.1)/a*i**.5));k.lineCap=["round","square"][t.H(0,1,"outline2 linecap")],k.strokeStyle="#fff";for(let h=1;l>h;h++){let l=e[h];l||(l=[s.m(0,1)*d,s.m(0,1)**t.g(.1,1,"outline2 frontbias")*g],e.push(l));let r=1+s.q(t.g(0,1,"outline2 conadjust"),3);for(let t=0;r>t;t++){let t=e[s.p(0,e.length-2)];k.lineWidth=s.m(.7,1)*a*i,k.beginPath(),k.moveTo(t[0],t[1]),k.lineTo(l[0],l[1]),k.stroke(),k.beginPath(),k.moveTo(d-t[0],t[1]),k.lineTo(d-l[0],l[1]),k.stroke()}}}][t.O([1,1,1],"outline type")]();let q=k.getImageData(0,0,d,g);function D(t,e){return q.data[4*(e*d+t)+3]}let K=[];for(let t=0;p>t;t++){K[t]=[];for(let e=0;x>e;e++)K[t][e]={C:t,I:e,x:Math.floor(v+6*(t+.5)),y:Math.floor(y+6*(e+.5))}}let O=[K[Math.floor(p/2)][Math.floor(x/2)]],B=0;for(;O.length>B;){let t=O[B];if(t.C>0){let e=K[t.C-1][t.I];e.j||(D(e.x,e.y)?(e.j=1,O.push(e)):e.j=2)}if(p-1>t.C){let e=K[t.C+1][t.I];e.j||(D(e.x,e.y)?(e.j=1,O.push(e)):e.j=2)}if(t.I>0){let e=K[t.C][t.I-1];e.j||(D(e.x,e.y)?(e.j=1,O.push(e)):e.j=2)}if(x-1>t.I){let e=K[t.C][t.I+1];e.j||(D(e.x,e.y)?(e.j=1,O.push(e)):e.j=2)}B++}for(let t=0;O.length>t;t++){let e=O[t],a=K[p-1-e.C][e.I];1!=a.j&&(a.j=1,O.push(a))}let C=t.H(1,2,"base component passes"),I=Math.max(1,Math.floor(O.length*t.g(0,1/C,"extra component amount"))),Q=C*O.length+I;function j(t,e){let a=Math.floor((t-v)/6),l=Math.floor((e-y)/6);return 0>a||a>=p||0>l||l>=x?0:1==K[a][l].j}function F(t){return 1-t[1]/g}function N(t,e){let a=Math.min(1,1-Math.abs(t[0]-b)/b);return e&&(a=Math.min(a,1-Math.abs(t[1]-w)/w)),a}function A(e,a,l,h,r,i,n){let o=(N(a,1)*(1-1/((d+g)/1e3+1))*t.g(0,1,"master bigness")**.5*(1-P/Q))**l,f=8;if(s.v(t.g(h,r,`com${e} bigchance`)*o)){let l=t.g(i,n,`com${e} bigincchance`);for(;s.v(l*o)&&Math.min(a[0]-f,d-a[0]-f,a[1]-f,g-a[1]-f)>f/2;)f*=1.5}return f}function G(t,e,a){let l=k.createLinearGradient(e[0],e[1],2*t[0]-e[0],2*t[1]-e[1]),h=`rgba(0,0,0,${a})`;return l.addColorStop(0,h),l.addColorStop(.5,"rgba(0,0,0,0)"),l.addColorStop(1,h),l}H.width|=0;let U=[t=>{let e=A(0,t,.3,0,.9,0,.5),h=2*e,r=[Math.ceil(s.m(1,Math.max(2,e/2))),Math.ceil(s.m(1,Math.max(2,e/2)))],i=Math.min(r[0],r[1])*s.m(.1,1.2),n=[r[0]+2*i,r[1]+2*i],o=[Math.ceil(h/n[0]),Math.ceil(h/n[1])],f=[Math.round(o[0]*n[0]/2),Math.round(o[1]*n[1]/2)],M=c(),u=l(M,s.m(.4,1)),m=l(M,s.m(.4,1));k.fillStyle=`rgba(0,0,0,${s.m(0,.25)})`,k.fillRect(t[0]-f[0]-1,t[1]-f[1]-1,n[0]*o[0]+2,n[1]*o[1]+2),k.fillStyle=m,k.fillRect(t[0]-f[0],t[1]-f[1],n[0]*o[0],n[1]*o[1]),k.fillStyle=u;for(let e=0;o[0]>e;e++){let a=t[0]+i+e*n[0]-f[0];for(let e=0;o[1]>e;e++)k.fillRect(a,t[1]+i+e*n[1]-f[1],r[0],r[1])}s.v(a(e/8*(.6*P/Q+.3),0,.98))&&(k.fillStyle=G(t,[t[0]+f[0],t[1]],s.m(0,.9)),k.fillRect(t[0]-f[0],t[1]-f[1],n[0]*o[0],n[1]*o[1]))},e=>{let h=A(1,e,.2,.3,1,0,.6),r=Math.ceil(s.m(.8,2)*h),i=Math.ceil(s.m(.8,2)*h),n=s.p(3,Math.max(4,r)),o=Math.max(1,Math.round(r/n));r=o*n;let f=l(c(),s.m(.5,1)),M=s.m(.3,.9);if(s.v(a(t.g(-.2,1.2,"com1 hchance"),0,1))){let t=[e[0]-Math.floor(r/2),e[1]-Math.floor(i/2)];k.fillStyle=`rgba(0,0,0,${s.m(0,.25)})`,k.fillRect(t[0]-1,t[1]-1,r+2,i+2),k.fillStyle=f,k.fillRect(t[0],t[1],r,i);for(let a=0;o>a;a++)k.fillStyle=G([t[0]+(a+.5)*n,e[1]],[t[0]+a*n,e[1]],M),k.fillRect(t[0]+a*n,t[1],n,i)}else{let t=[e[0]-Math.floor(i/2),e[1]-Math.floor(r/2)];k.fillStyle=`rgba(0,0,0,${s.m(0,.25)})`,k.fillRect(t[0]-1,t[1]-1,i+2,r+2),k.fillStyle=f,k.fillRect(t[0],t[1],i,r);for(let a=0;o>a;a++)k.fillStyle=G([e[0],t[1]+(a+.5)*n],[e[0],t[1]+a*n],M),k.fillRect(t[0],t[1]+a*n,r,n)}},e=>{let h=A(2,e,.05,0,1,0,.9),r=Math.ceil(s.m(.6,1.4)*h),i=Math.ceil(s.m(1,2)*h),n=[Math.ceil(a(r*s.m(.7,1)/2,1,r)),Math.ceil(a(r*s.m(.8,1)/2,1,r))],o=[Math.floor(a(r*s.m(.05,.25),1,i)),Math.floor(a(r*s.m(.1,.3),1,i))],f=o[0]+o[1],M=s.v(t.g(0,1,"com2 oddchance")**.5),u=a(Math.floor(i/f),1,i),m=u*f+(M?o[0]:0),d=c(),b=s.m(.6,1),p=s.m(.6,1),v=[l(d,b),l(d,p)],g=1-s.m(.5,.95),w=[l(d,g*b),l(d,g*p)];if(s.v(t.g(0,1,"com2 verticalchance")**.1)){let t=k.createLinearGradient(e[0]-n[0],e[1],e[0]+n[0],e[1]),a=k.createLinearGradient(e[0]-n[1],e[1],e[0]+n[1],e[1]),l=Math.floor(e[1]-m/2);t.addColorStop(0,w[0]),t.addColorStop(.5,v[0]),t.addColorStop(1,w[0]),a.addColorStop(0,w[1]),a.addColorStop(.5,v[1]),a.addColorStop(1,w[1]);for(let h=0;u>h;h++)k.fillStyle=t,k.fillRect(e[0]-n[0],l+h*f,2*n[0],o[0]),k.fillStyle=a,k.fillRect(e[0]-n[1],l+h*f+o[0],2*n[1],o[1]);M&&(k.fillStyle=t,k.fillRect(e[0]-n[0],l+u*f,2*n[0],o[0]))}else{let t=k.createLinearGradient(e[0],e[1]-n[0],e[0],e[1]+n[0]),a=k.createLinearGradient(e[0],e[1]-n[1],e[0],e[1]+n[1]),l=Math.floor(e[0]-m/2);t.addColorStop(0,w[0]),t.addColorStop(.5,v[0]),t.addColorStop(1,w[0]),a.addColorStop(0,w[1]),a.addColorStop(.5,v[1]),a.addColorStop(1,w[1]);for(let h=0;u>h;h++)k.fillStyle=t,k.fillRect(l+h*f,e[1]-n[0],o[0],2*n[0]),k.fillStyle=a,k.fillRect(l+h*f+o[0],e[1]-n[1],o[1],2*n[1]);M&&(k.fillStyle=t,k.fillRect(l+u*f,e[1]-n[0],o[0],2*n[0]))}},e=>{if(s.v(F(e)-.3)||j(e[0],e[1]+6*1.2)||j(e[0],e[1]+10.8))for(let t=0;100>t;t++){let t=s.K(n);if(3!=t)return void U[t](e)}let a=A(3,e,.1,.6,1,.3,.8),h=s.m(1,2)*a,r=Math.ceil(s.m(.3,1)*a),i=h*s.m(.25,.6),M=(h+i)/2/2,c=[Math.max(1,Math.ceil(r*s.m(.08,.25))),Math.max(1,Math.ceil(r*s.m(.03,.15)))],u=c[0]+c[1],m=Math.ceil(r/u);r=m*u+c[0];let d=o[t.O(f,"com3 basecolor")],b=t.g(.5,.8,"com3 lightness0 mid"),p=b-t.g(.2,.4,"com3 lightness0 edge"),v=t.g(0,.2,"com3 lightness1 edge"),g=[k.createLinearGradient(e[0]-M,e[1],e[0]+M,e[1]),k.createLinearGradient(e[0]-M,e[1],e[0]+M,e[1])],w=Math.ceil(e[1]-r/2),x=[w+c[0],w+u];g[0].addColorStop(0,l(d,p)),g[0].addColorStop(.5,l(d,b)),g[0].addColorStop(1,l(d,p)),g[1].addColorStop(0,l(d,v)),g[1].addColorStop(.5,l(d,1)),g[1].addColorStop(1,l(d,v)),k.fillStyle=g[0],k.beginPath(),k.moveTo(e[0]-i/2,w),k.lineTo(e[0]+i/2,w),k.lineTo(e[0]+h/2,w+r),k.lineTo(e[0]-h/2,w+r),k.fill(),k.fillStyle=g[1];for(let t=0;m>t;t++){let a=[t*u+c[0],(t+1)*u],l=[x[0]+t*u,x[1]+t*u],n=[(i+a[0]/r*(h-i))/2,(i+a[1]/r*(h-i))/2];k.beginPath(),k.moveTo(e[0]-n[0],l[0]),k.lineTo(e[0]+n[0],l[0]),k.lineTo(e[0]+n[1],l[1]),k.lineTo(e[0]-n[1],l[1]),k.fill()}},e=>{let a,h=N(e,0),r=s.m(.7,1),n=s.m(0,.2),o=c(),f=l(o,r),M=l(o,n),u=Math.max(3,Math.ceil(i*s.m(.4,1)**2*t.g(.02,.1,"com4 maxwidth"))),m=Math.floor(u/2),d=u%2,p=t.g(0,1,"com4 directionc0")**4,v=.1*t.g(0,1,"com4 directionc1")**4,w=.2*t.g(0,1,"com4 directionc2")**4,x=s.K([p*(2-h),v,w*(1+h)]);if(x)if(2>x){let l=Math.min(Math.max(8,g-e[1]-s.p(0,16)),Math.floor(.6*i*s.m(0,1)**t.g(2,7,"com4 hpower1"))),h=e[0]-m,r=e[1],n=k.createLinearGradient(h,r,e[0]+m+d,r);n.addColorStop(0,M),n.addColorStop(.5,f),n.addColorStop(1,M),k.fillStyle=n,k.fillRect(h,r,u,l),a=[e[0],e[1]+l]}else{let t=k.createLinearGradient(e[0],e[1]-m,e[0],e[1]+m+d);t.addColorStop(0,M),t.addColorStop(.5,f),t.addColorStop(1,M),k.fillStyle=t,k.fillRect(e[0],e[1]-m,Math.ceil(b-e[0])+1,u),a=[b,e[1]]}else{let l=Math.min(Math.max(8,e[1]-s.p(0,16)),Math.floor(.7*i*s.m(0,1)**t.g(2,6,"com4 hpower0"))),h=e[0]-m,r=e[1]-l,n=k.createLinearGradient(h,r,e[0]+m+d,r);n.addColorStop(0,M),n.addColorStop(.5,f),n.addColorStop(1,M),k.fillStyle=n,k.fillRect(h,r,u,l),a=[e[0],e[1]-l]}let y=[.6*t.g(0,1,"com4 covercomc0")**2,.2*t.g(0,1,"com4 covercomc1")**2,t.g(0,1,"com4 covercomc2")**2];if(U[s.K(y)](e),j(a[0],a[1])){let t=[a[0]+Math.round(6*s.m(-1,1)),a[1]+Math.round(6*s.m(-1,1))];U[s.K(y)](j(t[0],t[1])?t:a)}},e=>{let a=A(5,e,.1,0,.9,0,.8),h=s.m(.75,1),r=s.m(0,.25),i=c(),n=l(i,h),o=l(i,r),f=1+s.q(t.g(0,1,"com5 multxc"),Math.floor(1.2*(a/8)**.6)),M=1+s.q(t.g(0,1,"com5 multyc"),Math.floor(1.2*(a/8)**.6)),u=s.m(.5,1)*a/Math.max(f,M),m=u+.5,d=u+1,b=u/5,p=[e[0]-u*f,e[1]-u*M];k.fillStyle=`rgba(0,0,0,${s.m(0,.2)})`;for(let t=0;f>t;t++){let e=p[0]+(2*t+1)*u;for(let t=0;M>t;t++){let a=p[1]+(2*t+1)*u;k.beginPath(),k.arc(e,a,d,0,7),k.fill()}}for(let t=0;f>t;t++){let e=p[0]+(2*t+1)*u;for(let t=0;M>t;t++){let a=p[1]+(2*t+1)*u,l=k.createRadialGradient(e,a,b,e,a,m);l.addColorStop(0,n),l.addColorStop(1,o),k.fillStyle=l,k.beginPath(),k.arc(e,a,m,0,7),k.fill()}}},e=>{if(0>=z||s.v(F(e)))return void U[s.K(n.slice(0,6))](e);let a=A(6,e,.05,0,.9,0,.8),h=Math.ceil(2*a*s.m(.6,1)),r=Math.floor(h/2),i=h%2,o=h*s.m(t.g(0,.8,"com6 h1min")**.5,.9)**t.g(.5,1.5,"com6 h1power"),f=Math.floor(o/2),M=Math.max((o-h)/2,h*(s.m(0,.45)+s.m(0,.45))*(t.k(.8,"com6 backnesstype")?t.g(.2,.9,"com6 backness#pos"):t.g(-.2,-.05,"com6 backness#neg"))),u=Math.ceil(a*s.m(.7,1)*t.g(.1,3.5,"com6 width")**.5),m=Math.floor(u/2),d=u%2,b=[[e[0]-m,e[1]+M-f],[e[0]+m+d,e[1]-r],[e[0]+m+d,e[1]+r+i],[e[0]-m,e[1]+M+f+h%2]],p=c();k.fillStyle=`rgba(0,0,0,${s.m(0,.2)})`,k.beginPath(),k.moveTo(b[0][0]-1,b[0][1]),k.lineTo(b[1][0]-1,b[1][1]),k.lineTo(b[2][0]-1,b[2][1]),k.lineTo(b[3][0]-1,b[3][1]),k.fill(),k.fillStyle=l(p,s.m(.7,1)),k.beginPath(),k.moveTo(b[0][0],b[0][1]),k.lineTo(b[1][0],b[1][1]),k.lineTo(b[2][0],b[2][1]),k.lineTo(b[3][0],b[3][1]),k.fill()}],$=0,z=0,L=0,P=0;for(;;){let e;if(C>z)O.length>L?(e=O[L],L++):(z++,e=O[0],L=1);else{if($>=I)break;e=O[s.p(0,O.length-1)],$++}let a=[e.x,e.y];for(let t=0;10>t;t++){let t=[e.x+s.p(-6,6),e.y+s.p(-6,6)];if(!(0>t[0]||t[0]>d||0>t[1]||t[1]>g)&&D(t[0],t[1])){a=t;break}}6>Math.abs(a[0]-b)&&s.v(t.g(0,1,"com middleness"))&&(a[0]=b),U[s.K(n)](a),P++}return k.clearRect(b+d%2,0,d,g),k.scale(-1,1),k.drawImage(H,-d,0),H})(t,r,i)}function i(e){let a=((t,e,a)=>{let l=Math.floor(t/a),h=Math.floor(e/a),r=[],i=Math.floor(e/(2*h));for(let a=0;h>a;a++){let n=Math.floor(t/((2-a%2)*l));for(let o=0;l-a%2>o;o++)r.push([1e9,1e9,0,0,n+(o+(Math.random()-.5))*t/l,i+(a+(Math.random()-.5))*e/h,[]])}return r})(e.width,e.height,Math.max(12,Math.floor(Math.min(e.width,e.height)/12))),l=e.width,h=e.height,r=t.F(e);for(let t=0;h>t;t++)for(let e=0;l>e;e++){let h=4*(t*l+e);if(r.data[h+3]){let l,i=1e9;for(let h=0;a.length>h;h++){let r=Math.hypot(a[h][4]-e,a[h][5]-t);i>r&&(i=r,l=a[h])}l[0]=Math.min(e,l[0]),l[2]=Math.max(e,l[2]),l[1]=Math.min(t,l[1]),l[3]=Math.max(t,l[3]),l[6].push([e,t,r.data[h+0],r.data[h+1],r.data[h+2],r.data[h+3]])}}let i=[];return a.map(e=>{if(1e9>e[0]){let a=e[2]-e[0]+1,l=e[3]-e[1]+1,[h,r]=t.N(a,l),n=t.F(h);e[6].map(t=>{let l=4*((t[1]-e[1])*a+(t[0]-e[0]));n.data[l+0]=t[2],n.data[l+1]=t[3],n.data[l+2]=t[4],n.data[l+3]=t[5]}),r.putImageData(n,0,0),i.push([e[4],e[5],e[0]-e[4],e[1]-e[5],h])}}),i}function n(t,e,a){let l=t[0]-e/2,h=t[1]-a/2,r=Math.hypot(l,h),i=r*r,n=r*(1.5+1.5*Math.random());return[...t,(n-r)*(1-h**2/i)**.5*(l>0?1:-1),(n-r)*(1-l**2/i)**.5*(h>0?1:-1),(720*Math.random()-360*Math.PI)/((Math.random()+2)*t[4].width*18)]}let o=new(window.AudioContext||webkitAudioContext),f=([t,e,a,l,h,r=4,i=0,n=0,f=0,M=0,s=0,c=.1,u=0,m=0,d=0,b=.04,p=0,v=0,g=0])=>{let w,x,y,H,k=2*Math.PI,S=i*=500*k/44100/44100,q=e*=(1+.1*Math.random()-.05)*k/44100,D=[],K=0,O=0,B=0,C=1,I=0,Q=0,j=0;for(s*=500*k/44100**3,m*=k/44100,g*=k/44100,v*=44100,p=44100*p|0,x=(f=44100*f+9)+(b*=44100)+(a*=44100)+(l*=44100)+(M*=44100)|0;x>B;D[B++]=j)++Q%(100*u|0)||(j=r?r>1?r>2?r>3?Math.sin((K%k)**3):Math.max(Math.min(Math.tan(K),1),-1):1-(2*K/k%2+2)%2:1-4*Math.abs(Math.round(K/k)-K/k):Math.sin(K),j=(p?1-n+n*Math.sin(k*B/p):1)*(j>0?1:-1)*Math.abs(j)**c*t*.3*(f>B?B/f:f+b>B?1-(B-f)/b*(1-h):f+b+a>B?h:x-M>B?(x-B-M)/l*h:0),j=M?j/2+(M>B?0:(x-M>B?1:(x-B)/M)*D[B-M|0]/2):j),w=(e+=i+=s)*Math.cos(m*O++),K+=w-w*d*(1-1e9*(Math.sin(B)+1)%2),C&&++C>v&&(e+=g,q+=g,C=0),!p||++I%p||(e=q,i=S,C||=1);return y=o.createBuffer(1,x,44100),y.getChannelData(0).set(D),H=o.createBufferSource(),H.buffer=y,H.connect(o.destination),H.start(),H};function M(){f([.1,467,.06,.14,.58,,,.02,,,,,.4,303,.5,.02])}function s(t){f([t,274,.03,.67,.63,,,,,.25,,1.11,.5,,.8,.02,.04])}function c(){f([.3,279,.09,.09,.89,3,-4.9,.02,.02,.05,-.6,1.2])}function u(t){$.save(),t(),$.restore()}function m(e){let[a,l]=t.N(e.width,e.height),h=t.F(e),r=h.data;for(let t=0;r.length>t;t+=4){let e=r[t+0],a=r[t+1],l=r[t+2];r[t+0]=255-(.393*e+.769*a+.189*l),r[t+1]=255-(.349*e+.686*a+.168*l),r[t+2]=255-(.272*e+.534*a+.131*l)}return l.putImageData(h,0,0),a}function d(e){let[a,l]=t.N(20,20),h=l.createRadialGradient(10,10,0,10,10,10);return h.addColorStop(e,"#ff0"),h.addColorStop(1,"#f00"),l.fillStyle=h,t.A(l,10,10,10),a}function b(e){let[a,l]=t.N(e.width,e.height);return l.scale(1,-1),l.drawImage(e,0,0,e.width,-e.height),a}let p,v,w,x,y,H,k,S,q,D,K,O,B,C,I,Q,j,F,N,A,G=["#9af","#abf","#ccf","#fef","#fee","#fc9","#fc6"],U=g,$=t.getContext(U),z=new e("piBbgDn4CZqlkqiF"),L=t.G(r(z,"ie7jMyCFouoUjkVs",60)),P=i(L),Y=L.width,Z=L.height,J=Math.floor(Y/2),T=Math.floor(Z/2),V=t.F(L).data,W=(()=>{let e=[L];for(let a=0;10>a;a++){let[l,h]=t.N(2*Y,2*Z);for(let t=0;3>t;t++)for(let a=0;3>a;a++)h.drawImage(e[0],J-e.length-1+a,T-e.length-1+t);h.globalCompositeOperation="source-in",h.fillStyle=a>5?"#0ff":"#00f",h.fillRect(0,0,l.width,l.height),h.globalCompositeOperation="source-over",h.drawImage(e[0],J-e.length,T-e.length),e.unshift(t.G(l))}return e.pop(),e.map(a=>{let l=t.getContext(a);l.globalCompositeOperation="destination-out",l.globalAlpha=.2;for(let t=5;10>t;t++)l.drawImage(e[t],Math.floor((a.width-e[t].width)/2),Math.floor((a.height-e[t].height)/2))}),e.length=5,e})(),X=[],[E,R]=(()=>{let[e,a]=t.N(20,60);return a.fillStyle="#ff0",a.beginPath(),a.moveTo(10,60),a.lineTo(0,10),a.arc(10,10,10,Math.PI,0),a.lineTo(10,60),a.fill(),a.strokeStyle="#0ff",a.shadowColor="#00f",a.globalCompositeOperation="source-atop",a.shadowBlur=4,a.lineWidth=10,a.beginPath(),a.moveTo(10,70),a.lineTo(-3,10),a.arc(10,10,13,Math.PI,0),a.lineTo(10,70),a.stroke(),[e,t.F(e).data]})(),_=(()=>{let t=[];for(let e=0;9>e;e++)t.unshift(d(e/10)),t.push(d(e/10));return t})(),tt=t.F(_[0]).data,[et,at]=(()=>{let[e,a]=t.N(60,60),l=a.createRadialGradient(30,30,0,30,30,30);return l.addColorStop(.6,"#008"),l.addColorStop(1,"#00f"),a.fillStyle=l,t.A(a,30,30,30),[e,t.F(e).data]})(),lt=JSON.parse(localStorage.pnf_highscores||0)||[],ht=(()=>{let[e,a]=t.N(100,100);a.font="bold 20px Helvetica",a.translate(50,50),a.rotate(-Math.PI/2),a.fillStyle="#fff",a.textAlign="center",a.fillText("NEW!",0,0),t.G(e);let[l,h]=t.N(e.width+10,e.height+10);return h.fillStyle="#f00",h.fillRect(0,0,l.width,l.height),h.drawImage(e,5,5),l})(),rt=0,it=0,nt=[],ot=0,ft=performance.now(),Mt=0;function st(t){C+=t,I=(new Intl.NumberFormat).format(C)}function ct(){let t=Math.max(400,1e3-25*B);qt+=kt.p(t,t+400)}function ut(e){let a=t.G(e[0]);e[1]=t.F(a).data,e[2]=m(a),e[3]=i(a)}(e=>{let[a,l]=t.N(32,32),h=32,r=32;e.width>e.height?r*=e.height/e.width:h*=e.width/e.height,l.drawImage(e,0,0,h,r);let i=document.createElement("link");i.setAttribute("rel","icon"),i.setAttribute("href",a.toDataURL()),document.head.appendChild(i)})(L);let mt=[["c4pf4K5xHzu4CyZM","Wl9w64KNQvFNbbbU",50,10,.35,0,[]],["VTjHVRDIYTbXk766","a3QM5c7MnbQlWns3",80,30,.27,0,[]],["1fOXvyryYCvwBWPL","I4xttvPYWxB1So2A",230,80,.2,6,[]],["VsM4qdcBSiuCPDGJ","q4D72OvJMb23kSZC",60,20,.4,0,[]],["l4pyu8yF0mt84Q4u","jPU5GcKNpf2JMgoG",100,40,.35,0,[[350]]],["NMp3mtsPHIwzMKYk","dBzvSKo7wpema3S5",220,90,.22,9,[]],["o67yOby6izpasGgo","fyKKupDEId96qQHu",70,20,.5,0,[[350]]],["IU7xqL8UqZIXJQDQ","aVBO8buAfBbQ4DOY",100,40,.35,0,[[350,6]]],["LP6kUeGMn7S5xZzi","p5O7jAQK67mDULTD",230,100,.25,14,[]],["SsSvCKpjLVTGITYH","aOEjI2Owpqpl06ex",65,30,.5,0,[[350]]],["AGUwhB1E94wgKe49","pwUtokX7oS7ZKFK1",110,50,.35,6,[[350,6]]],["qRF6GA3xnzX0lMcH","RIdNudvB6T2ro7C3",240,120,.3,22,[]]];function dt(t,e){let a=Math.round(t[0]-t[2]/2),l=Math.round(t[1]-t[3]/2),h=Math.round(e[0]-e[2]/2),r=Math.round(e[1]-e[3]/2);if(h+e[2]>a&&a+t[2]>h&&r+e[3]>l&&l+t[3]>r){let i=Math.min(a+t[2],h+e[2]),n=Math.min(l+t[3],r+e[3]),[o,f,M]=a>h?[0,a-h,i-a]:[h-a,0,i-h],[s,c,u]=l>r?[0,l-r,n-l]:[r-l,0,n-r];for(let a=0;u>a;a++)for(let l=0;M>l;l++)if(t[4][4*((s+a)*t[2]+o+l)+3]>0&&e[4][4*((c+a)*e[2]+f+l)+3]>0)return 1}}function bt(){O?(O--,f([.9,119,0,.44,.85,0,5.3,,,.01,-4.2,.09,.1,-340,.7,.08])):S||(s(1),S=1)}let pt,vt,gt,wt=[["F","#fa0",t=>{D=t+6500}],["S","#0ff",()=>{f([.5,505,.12,.46,.69,2,,,.21,,,1.67,,,,.03,.28,.02,58]),O++}],["B","#f00",t=>{s(1.5),K=t+1e3,qt+=1500}]];function xt(t,e,a,l,h){return r=>{let i=(r-h)/l;if(1>=i)return u(()=>{$.globalAlpha=1-i**2,$.translate(e+t[0]+t[5]*i,a+t[1]+t[6]*i),$.rotate(t[7]*i),$.drawImage(t[4],t[2],t[3])}),1}}function yt(t,e,a,l,h,r){let i=_[0].width,n=_[0].height,o=Math.hypot(a-t,l-e),f=(a-t)/o,M=(l-e)/o;return a=>{if(K>a)return;let l=a-r;return dt(k,[t+=l*h*f,e+=l*h*M,i,n,tt])&&(bt(),!S)||e-n/2>700||0>e+n/2||t-i/2>480||0>t+i/2?void 0:(r=a,$.drawImage(_[a%_.length|0],t-i/2,e-n/2),2)}}function Ht(t,e,a,l,h,r){let i=[];for(let n=0;t>n;n++){let o=l+2*n*Math.PI/t;i.push(yt(e,a,e+100*Math.cos(o),a+100*Math.sin(o),h,r))}return i}let kt,St,qt,Dt,Kt,Ot,Bt,Ct,It=5;function Qt(t){t.preventDefault();let e=480/700,[a,l]=U.offsetWidth/U.offsetHeight>e?[U.offsetHeight*e,U.offsetHeight]:[U.offsetWidth,U.offsetWidth/e],[h]=t.changedTouches||[t];return[Math.floor(480*(h.pageX-(U.offsetWidth-a)/2)/a),Math.floor(700*(h.pageY-(U.offsetHeight-l)/2)/l)]}self.onmousedown=t=>{Qt(t),rt=1},self.ontouchstart=t=>{[p,v]=Qt(t),rt=1},self.onmousemove=t=>{[w,x]=Qt(t)},self.ontouchmove=t=>{let[e,a]=Qt(t);w+=e-p,x+=a-v,p=e,v=a},self.ontouchend=self.onmouseup=t=>{Qt(t),rt=0},self.onkeydown=self.onkeyup=t=>{ot=nt[t.keyCode]=t.type[5]},U.width=480,U.height=700,function a(l){2===Mt?(e=>{let a=e-Ct;Ct=e,a>160&&(ft+=a,nt=[]);let l=e-ft;if(!S){let t=.6*a,e=nt[38]||nt[90],l=nt[40]||nt[83],h=nt[37]||nt[65],r=nt[39]||nt[68];if(e||l||h||r){let a=t/((e||l)&&(h||r)?2**.5:1);e&&(H-=a),l&&(H+=a),h&&(y-=a),r&&(y+=a),w=y,x=H}else{let e=w-y,a=x-H,l=Math.hypot(e,a);t>l?(y=w,H=x):(y+=e/l*t,H+=a/l*t)}J>y?y=J:y>480-J&&(y=480-J),T>H?H=T:H>700-T&&(H=700-T),k=[y,H,Y,Z,V]}$.fillStyle="#002",$.fillRect(0,0,480,700);for(let e,a=100;a--;$.fillStyle=G[a%G.length],t.A($,Math.floor(-60*(100-a)*(y-J)/(100*(480-Y)))+102797*(1+Math.sin(e))*a%540,700*(Math.tan(a/9)+e*l/3e3)%700,3.3*(e-.3)))e=150/(3*a+200);let h=S,r=[],i=[],o=[];function m(t){let e=[],a=t(l,e);a&&(a-2?r.push(t):i.push(t),a.call&&o.push(a)),e.map(m)}if(pt.map(m),!h&&S&&(q=l,P.map(t=>xt(n(t,Y,Z),y-J,H-T,1500,l)).map(m)),pt=r.concat(i),vt=o,$.fillStyle="#fff",$.textAlign="center",S)u(()=>{$.globalAlpha=Math.min(1,(l-q)/2e3),$.textBaseline="middle",$.font="40px Helvetica",$.fillText("Game Over",240,350)});else{if(O){let t=W[Math.max(0,W.length-O)];$.drawImage(t,y-Math.floor(t.width/2),H-Math.floor(t.height/2))}$.drawImage(L,y-J,H-T)}K>l&&u(()=>{$.globalAlpha=(K-l)/1e3,$.fillRect(0,0,480,700)}),$.textBaseline="top",$.font="16px Helvetica",$.fillText(I,240,5);let d=D>l;if(!S&&l>gt+(d?100:200)&&(It=-It,pt.push(((t,e,a)=>l=>{let h=[t,e-=20*(l-a)/32,E.width,E.height,R];for(let t=0;vt.length>t;t++)if(vt[t](h,10,l))return;if(e+E.height/2>=0)return a=l,$.drawImage(E,t-E.width/2,e-E.height/2),1})(y+(d?It:0),H-Math.floor(Z/2),l)),gt=Math.max(l),f([.04,292,.01,.08,.74,3,-3.9,.43,.02])),l>Dt&&!Bt&&(++B%5?Dt=l+1e4:(Bt=1,pt.push(((t,e)=>{let a,l,h=j.width,r=j.height,i=0,o=e+2e3,s=1e9,m=e,d=240,b=-r/2,p=0,v=0,g=0;function w(t,e,l){if(dt(t,a))return v=l,s-=e,s>0&&M(),1}return(e,M)=>{let x=0;if(s>0){let a=e-m;0===i?e>o&&(i=1):1===i?(b+=.15*a,b>150&&(b=150,s=100+250*t,i=2,l=e)):0===p?(d+=.1*a,d+h/2>480&&(d=480-h/2,p=1)):(d-=.1*a,0>d-h/2&&(d=h/2,p=0))}else x=1;if(x)return f([1.1,369,.1,1,.77,2,.4,,,.37,,.05,.8,-1.3,.7]),st(500*t),Bt=0,Dt=e+1e4,qt=500+e,ct(),Kt=500+e,void A.map(t=>M.push(xt(n(t,h,r),d-h/2,b-r/2,500,e)));a=[d,b,h,r,F],dt(k,a)&&(S=1),m=e,$.drawImage(j,d-h/2,b-r/2);let q=400-e+v;if(q>0&&u(()=>{$.globalAlpha=q/400,$.drawImage(N,d-h/2,b-r/2)}),!S&&2===i&&e>l){if(c(),5*t>g){let[a,l]=[[28,119],[42,123],[108,94],[121,80],[143,50],[28,119]][Math.floor(g/t)];M.push(yt(d-a,b+l,d-a,b+l+100,.5,e),yt(d+a,b+l,d+a,b+l+100,.5,e))}else M.push(yt(d,b+125,y,H,.3,e));g++,10*t>g?l=g>5*t?e+200:g===5*t?e+800:g%t?e+180:e+500:(g=0,l=e+800)}return w}})(Math.floor(B/5),l)))),l>Kt&&!Bt&&(pt.push(((t,e,a,l)=>h=>{let r=[t,e+=5*(h-l)/32,et.width,et.height,at],i=1.5+Math.sin(h/200)/2;if(S||!dt(k,r)){if(700>=e-Math.floor(et.height/2))return l=h,u(()=>{$.translate(t,e),$.drawImage(et,-et.width/2,-et.height/2),$.textAlign="center",$.textBaseline="top",$.font="700 "+Math.floor(25*i)+"px Helvetica";let l=$.measureText(wt[a][0]),h=l.actualBoundingBoxDescent-l.actualBoundingBoxAscent;$.fillStyle=wt[a][1],$.fillText(wt[a][0],0,-Math.floor(h/2))}),2}else wt[a][2](h)})(St.p(30,450),Math.floor(-et.height/2),Ot++,l)),Ot%=wt.length,Kt=l+9e3),l>qt&&!Bt){let t=kt.p(Math.min(Math.max(B-2,0),X.length-3),Math.min(B,X.length-1));pt.push((([t,e,a,l,h,r,i,o],f,m,d)=>{let b,p=kt.m(0,2*Math.PI),v=t.width,g=t.height,w=-t.height/2,x=0;function q(t,e,a){if(dt(t,b))return x=a,(h-=e)>0&&M(),1}return(M,D)=>{let O=w,B=0;if(0>=h||K>M?B=1:(w+=(M-d)*r,b=[f,w,v,g,e],dt(k,b)&&(bt(),S||(B=1))),B)return s(v/275),st(m),i>0&&D.push(...Ht(i,f,w+17*r,p,.45,M)),void l.map(t=>D.push(xt(n(t,v,g),f-v/2,w-g/2,500,M)));if(w-g/2>700)return;d=M,$.drawImage(t,f-v/2,w-g/2);let C=400-M+x;if(C>0&&u(()=>{$.globalAlpha=C/400,$.drawImage(a,f-v/2,w-g/2)}),!S)for(let t=0;o.length>t;t++){let e=o[t][0];if(e>O&&w>e){c();let e=o[t][1],a=w+17*r;e?D.push(...Ht(e,f,a,p,.3,M)):D.push(yt(f,a,y,H,.3,M))}}return q}})(X[t],kt.p(30,450),50*(t+1),l)),ct()}S&&l>q+3500&&((()=>{let t=[C,Date.now()];C&&(lt.push(t),lt.sort((t,e)=>e[0]-t[0]||e[1]-t[1]),lt.length=Math.min(lt.length,5),localStorage.pnf_highscores=JSON.stringify(lt)),Q=lt.indexOf(t)})(),Mt=1,it=rt)})(l):(a=>{if($.fillStyle="#002",$.fillRect(0,0,480,700),u(()=>{for(let e=200;e--;){$.fillStyle=G[e%G.length];let l=50/(6-(a/3e3+e/13)%6);$.globalAlpha=Math.min(l/100,1),t.A($,Math.cos(e)*l+240,Math.sin(e*e)*l+350,l/200)}}),$.fillStyle="#fff",$.textBaseline="middle",$.textAlign="center",1===Mt)$.font="italic small-caps 40px Futura-CondensedMedium,sans-serif-condensed,sans-serif",lt.length?($.fillText("High Scores",240,100),u(()=>{$.textAlign="start",$.textBaseline="top";for(let t=0;lt.length>t;t++){$.fillStyle="#fff",t===Q&&($.drawImage(ht,90-Math.floor(ht.width/2),185+80*t-Math.floor(ht.height/2)),$.fillStyle="#fc6");let e=Intl.NumberFormat().format(lt[t][0]),a=new Date(lt[t][1]).toLocaleString();$.font="50px Helvetica",$.fillText(t+1,115,160+80*t),$.font="60px Helvetica",$.fillText("{",145,150+80*t),$.font="25px Helvetica",$.fillText(e+" points",170,160+80*t),$.font="15px Helvetica",$.fillText(a,170,190+80*t)}})):$.fillText("Planet Not Found",240,350),$.font="20px Helvetica",$.fillText("<Press anywhere or any key to play>",240,670),rt||ot?it||(Mt=2,kt=new e("enemy"),St=new e("powerup"),qt=1e3,Dt=5e3,Kt=9e3,pt=[],vt=[],Ct=ft=performance.now(),st(B=Ot=gt=K=D=C=0),S=0,w=y=240,x=H=630,O=1,Bt=0):it=0;else if($.font="italic 30px Helvetica",$.fillText("Loadingâ€¦",240,350),j)if(mt.length>X.length)X.push((([t,a,l,...h])=>[b(r(new e(t),a,l)),0,0,0,...h])(mt[X.length]));else{for(let t=0;X.length>t;t++)if(!X[t][1])return void ut(X[t]);Mt=1}else j=b(t.G(r(new e("HYj7ADLjQr6icLtO"),"CdiB9N2ZoQWuAxur",270))),N=m(j),A=i(j),F=t.F(j).data})(l),ot=0,requestAnimationFrame(a)}(ft);</script>